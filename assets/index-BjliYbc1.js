function Bw(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xl(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cd={exports:{}},G1={},fd={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function Lw(){if(kg)return Et;kg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function A(ie){return ie===null||typeof ie!="object"?null:(ie=x&&ie[x]||ie["@@iterator"],typeof ie=="function"?ie:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function b(ie,me,lt){this.props=ie,this.context=me,this.refs=T,this.updater=lt||E}b.prototype.isReactComponent={},b.prototype.setState=function(ie,me){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,me,"setState")},b.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function R(){}R.prototype=b.prototype;function M(ie,me,lt){this.props=ie,this.context=me,this.refs=T,this.updater=lt||E}var B=M.prototype=new R;B.constructor=M,_(B,b.prototype),B.isPureReactComponent=!0;var k=Array.isArray,z=Object.prototype.hasOwnProperty,$={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function te(ie,me,lt){var Je,Ot={},Re=null,$t=null;if(me!=null)for(Je in me.ref!==void 0&&($t=me.ref),me.key!==void 0&&(Re=""+me.key),me)z.call(me,Je)&&!V.hasOwnProperty(Je)&&(Ot[Je]=me[Je]);var ut=arguments.length-2;if(ut===1)Ot.children=lt;else if(1<ut){for(var Zt=Array(ut),Kr=0;Kr<ut;Kr++)Zt[Kr]=arguments[Kr+2];Ot.children=Zt}if(ie&&ie.defaultProps)for(Je in ut=ie.defaultProps,ut)Ot[Je]===void 0&&(Ot[Je]=ut[Je]);return{$$typeof:r,type:ie,key:Re,ref:$t,props:Ot,_owner:$.current}}function q(ie,me){return{$$typeof:r,type:ie.type,key:me,ref:ie.ref,props:ie.props,_owner:ie._owner}}function pe(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===r}function Be(ie){var me={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(lt){return me[lt]})}var ge=/\/+/g;function Ee(ie,me){return typeof ie=="object"&&ie!==null&&ie.key!=null?Be(""+ie.key):me.toString(36)}function Ye(ie,me,lt,Je,Ot){var Re=typeof ie;(Re==="undefined"||Re==="boolean")&&(ie=null);var $t=!1;if(ie===null)$t=!0;else switch(Re){case"string":case"number":$t=!0;break;case"object":switch(ie.$$typeof){case r:case e:$t=!0}}if($t)return $t=ie,Ot=Ot($t),ie=Je===""?"."+Ee($t,0):Je,k(Ot)?(lt="",ie!=null&&(lt=ie.replace(ge,"$&/")+"/"),Ye(Ot,me,lt,"",function(Kr){return Kr})):Ot!=null&&(pe(Ot)&&(Ot=q(Ot,lt+(!Ot.key||$t&&$t.key===Ot.key?"":(""+Ot.key).replace(ge,"$&/")+"/")+ie)),me.push(Ot)),1;if($t=0,Je=Je===""?".":Je+":",k(ie))for(var ut=0;ut<ie.length;ut++){Re=ie[ut];var Zt=Je+Ee(Re,ut);$t+=Ye(Re,me,lt,Zt,Ot)}else if(Zt=A(ie),typeof Zt=="function")for(ie=Zt.call(ie),ut=0;!(Re=ie.next()).done;)Re=Re.value,Zt=Je+Ee(Re,ut++),$t+=Ye(Re,me,lt,Zt,Ot);else if(Re==="object")throw me=String(ie),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.");return $t}function le(ie,me,lt){if(ie==null)return ie;var Je=[],Ot=0;return Ye(ie,Je,"","",function(Re){return me.call(lt,Re,Ot++)}),Je}function ht(ie){if(ie._status===-1){var me=ie._result;me=me(),me.then(function(lt){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=lt)},function(lt){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=lt)}),ie._status===-1&&(ie._status=0,ie._result=me)}if(ie._status===1)return ie._result.default;throw ie._result}var Fe={current:null},be={transition:null},Ze={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:be,ReactCurrentOwner:$};function Le(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:le,forEach:function(ie,me,lt){le(ie,function(){me.apply(this,arguments)},lt)},count:function(ie){var me=0;return le(ie,function(){me++}),me},toArray:function(ie){return le(ie,function(me){return me})||[]},only:function(ie){if(!pe(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}},Et.Component=b,Et.Fragment=t,Et.Profiler=i,Et.PureComponent=M,Et.StrictMode=n,Et.Suspense=l,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ze,Et.act=Le,Et.cloneElement=function(ie,me,lt){if(ie==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ie+".");var Je=_({},ie.props),Ot=ie.key,Re=ie.ref,$t=ie._owner;if(me!=null){if(me.ref!==void 0&&(Re=me.ref,$t=$.current),me.key!==void 0&&(Ot=""+me.key),ie.type&&ie.type.defaultProps)var ut=ie.type.defaultProps;for(Zt in me)z.call(me,Zt)&&!V.hasOwnProperty(Zt)&&(Je[Zt]=me[Zt]===void 0&&ut!==void 0?ut[Zt]:me[Zt])}var Zt=arguments.length-2;if(Zt===1)Je.children=lt;else if(1<Zt){ut=Array(Zt);for(var Kr=0;Kr<Zt;Kr++)ut[Kr]=arguments[Kr+2];Je.children=ut}return{$$typeof:r,type:ie.type,key:Ot,ref:Re,props:Je,_owner:$t}},Et.createContext=function(ie){return ie={$$typeof:o,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ie.Provider={$$typeof:a,_context:ie},ie.Consumer=ie},Et.createElement=te,Et.createFactory=function(ie){var me=te.bind(null,ie);return me.type=ie,me},Et.createRef=function(){return{current:null}},Et.forwardRef=function(ie){return{$$typeof:s,render:ie}},Et.isValidElement=pe,Et.lazy=function(ie){return{$$typeof:g,_payload:{_status:-1,_result:ie},_init:ht}},Et.memo=function(ie,me){return{$$typeof:c,type:ie,compare:me===void 0?null:me}},Et.startTransition=function(ie){var me=be.transition;be.transition={};try{ie()}finally{be.transition=me}},Et.unstable_act=Le,Et.useCallback=function(ie,me){return Fe.current.useCallback(ie,me)},Et.useContext=function(ie){return Fe.current.useContext(ie)},Et.useDebugValue=function(){},Et.useDeferredValue=function(ie){return Fe.current.useDeferredValue(ie)},Et.useEffect=function(ie,me){return Fe.current.useEffect(ie,me)},Et.useId=function(){return Fe.current.useId()},Et.useImperativeHandle=function(ie,me,lt){return Fe.current.useImperativeHandle(ie,me,lt)},Et.useInsertionEffect=function(ie,me){return Fe.current.useInsertionEffect(ie,me)},Et.useLayoutEffect=function(ie,me){return Fe.current.useLayoutEffect(ie,me)},Et.useMemo=function(ie,me){return Fe.current.useMemo(ie,me)},Et.useReducer=function(ie,me,lt){return Fe.current.useReducer(ie,me,lt)},Et.useRef=function(ie){return Fe.current.useRef(ie)},Et.useState=function(ie){return Fe.current.useState(ie)},Et.useSyncExternalStore=function(ie,me,lt){return Fe.current.useSyncExternalStore(ie,me,lt)},Et.useTransition=function(){return Fe.current.useTransition()},Et.version="18.3.1",Et}var Ug;function $u(){return Ug||(Ug=1,fd.exports=Lw()),fd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Fw(){if(jg)return G1;jg=1;var r=$u(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,c){var g,x={},A=null,E=null;c!==void 0&&(A=""+c),l.key!==void 0&&(A=""+l.key),l.ref!==void 0&&(E=l.ref);for(g in l)n.call(l,g)&&!a.hasOwnProperty(g)&&(x[g]=l[g]);if(s&&s.defaultProps)for(g in l=s.defaultProps,l)x[g]===void 0&&(x[g]=l[g]);return{$$typeof:e,type:s,key:A,ref:E,props:x,_owner:i.current}}return G1.Fragment=t,G1.jsx=o,G1.jsxs=o,G1}var Hg;function kw(){return Hg||(Hg=1,cd.exports=Fw()),cd.exports}var U=kw(),Mc={},dd={exports:{}},Ei={},hd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function Uw(){return Vg||(Vg=1,function(r){function e(be,Ze){var Le=be.length;be.push(Ze);e:for(;0<Le;){var ie=Le-1>>>1,me=be[ie];if(0<i(me,Ze))be[ie]=Ze,be[Le]=me,Le=ie;else break e}}function t(be){return be.length===0?null:be[0]}function n(be){if(be.length===0)return null;var Ze=be[0],Le=be.pop();if(Le!==Ze){be[0]=Le;e:for(var ie=0,me=be.length,lt=me>>>1;ie<lt;){var Je=2*(ie+1)-1,Ot=be[Je],Re=Je+1,$t=be[Re];if(0>i(Ot,Le))Re<me&&0>i($t,Ot)?(be[ie]=$t,be[Re]=Le,ie=Re):(be[ie]=Ot,be[Je]=Le,ie=Je);else if(Re<me&&0>i($t,Le))be[ie]=$t,be[Re]=Le,ie=Re;else break e}}return Ze}function i(be,Ze){var Le=be.sortIndex-Ze.sortIndex;return Le!==0?Le:be.id-Ze.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();r.unstable_now=function(){return o.now()-s}}var l=[],c=[],g=1,x=null,A=3,E=!1,_=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(be){for(var Ze=t(c);Ze!==null;){if(Ze.callback===null)n(c);else if(Ze.startTime<=be)n(c),Ze.sortIndex=Ze.expirationTime,e(l,Ze);else break;Ze=t(c)}}function k(be){if(T=!1,B(be),!_)if(t(l)!==null)_=!0,ht(z);else{var Ze=t(c);Ze!==null&&Fe(k,Ze.startTime-be)}}function z(be,Ze){_=!1,T&&(T=!1,R(te),te=-1),E=!0;var Le=A;try{for(B(Ze),x=t(l);x!==null&&(!(x.expirationTime>Ze)||be&&!Be());){var ie=x.callback;if(typeof ie=="function"){x.callback=null,A=x.priorityLevel;var me=ie(x.expirationTime<=Ze);Ze=r.unstable_now(),typeof me=="function"?x.callback=me:x===t(l)&&n(l),B(Ze)}else n(l);x=t(l)}if(x!==null)var lt=!0;else{var Je=t(c);Je!==null&&Fe(k,Je.startTime-Ze),lt=!1}return lt}finally{x=null,A=Le,E=!1}}var $=!1,V=null,te=-1,q=5,pe=-1;function Be(){return!(r.unstable_now()-pe<q)}function ge(){if(V!==null){var be=r.unstable_now();pe=be;var Ze=!0;try{Ze=V(!0,be)}finally{Ze?Ee():($=!1,V=null)}}else $=!1}var Ee;if(typeof M=="function")Ee=function(){M(ge)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,le=Ye.port2;Ye.port1.onmessage=ge,Ee=function(){le.postMessage(null)}}else Ee=function(){b(ge,0)};function ht(be){V=be,$||($=!0,Ee())}function Fe(be,Ze){te=b(function(){be(r.unstable_now())},Ze)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(be){be.callback=null},r.unstable_continueExecution=function(){_||E||(_=!0,ht(z))},r.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<be?Math.floor(1e3/be):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(be){switch(A){case 1:case 2:case 3:var Ze=3;break;default:Ze=A}var Le=A;A=Ze;try{return be()}finally{A=Le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(be,Ze){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var Le=A;A=be;try{return Ze()}finally{A=Le}},r.unstable_scheduleCallback=function(be,Ze,Le){var ie=r.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?ie+Le:ie):Le=ie,be){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Le+me,be={id:g++,callback:Ze,priorityLevel:be,startTime:Le,expirationTime:me,sortIndex:-1},Le>ie?(be.sortIndex=Le,e(c,be),t(l)===null&&be===t(c)&&(T?(R(te),te=-1):T=!0,Fe(k,Le-ie))):(be.sortIndex=me,e(l,be),_||E||(_=!0,ht(z))),be},r.unstable_shouldYield=Be,r.unstable_wrapCallback=function(be){var Ze=A;return function(){var Le=A;A=Ze;try{return be.apply(this,arguments)}finally{A=Le}}}}(pd)),pd}var zg;function jw(){return zg||(zg=1,hd.exports=Uw()),hd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function Hw(){if(Gg)return Ei;Gg=1;var r=$u(),e=jw();function t(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(f,p){o(f,p),o(f+"Capture",p)}function o(f,p){for(i[f]=p,f=0;f<p.length;f++)n.add(p[f])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function A(f){return l.call(x,f)?!0:l.call(g,f)?!1:c.test(f)?x[f]=!0:(g[f]=!0,!1)}function E(f,p,w,S){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return S?!1:w!==null?!w.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function _(f,p,w,S){if(p===null||typeof p>"u"||E(f,p,w,S))return!0;if(S)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function T(f,p,w,S,N,D,j){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=S,this.attributeNamespace=N,this.mustUseProperty=w,this.propertyName=f,this.type=p,this.sanitizeURL=D,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){b[f]=new T(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];b[p]=new T(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){b[f]=new T(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){b[f]=new T(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){b[f]=new T(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){b[f]=new T(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){b[f]=new T(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){b[f]=new T(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){b[f]=new T(f,5,!1,f.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function M(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(R,M);b[p]=new T(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(R,M);b[p]=new T(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(R,M);b[p]=new T(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){b[f]=new T(f,1,!1,f.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){b[f]=new T(f,1,!1,f.toLowerCase(),null,!0,!0)});function B(f,p,w,S){var N=b.hasOwnProperty(p)?b[p]:null;(N!==null?N.type!==0:S||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(_(p,w,N,S)&&(w=null),S||N===null?A(p)&&(w===null?f.removeAttribute(p):f.setAttribute(p,""+w)):N.mustUseProperty?f[N.propertyName]=w===null?N.type===3?!1:"":w:(p=N.attributeName,S=N.attributeNamespace,w===null?f.removeAttribute(p):(N=N.type,w=N===3||N===4&&w===!0?"":""+w,S?f.setAttributeNS(S,p,w):f.setAttribute(p,w))))}var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),$=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Be=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),be=Symbol.iterator;function Ze(f){return f===null||typeof f!="object"?null:(f=be&&f[be]||f["@@iterator"],typeof f=="function"?f:null)}var Le=Object.assign,ie;function me(f){if(ie===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);ie=p&&p[1]||""}return`
`+ie+f}var lt=!1;function Je(f,p){if(!f||lt)return"";lt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(he){var S=he}Reflect.construct(f,[],p)}else{try{p.call()}catch(he){S=he}f.call(p.prototype)}else{try{throw Error()}catch(he){S=he}f()}}catch(he){if(he&&S&&typeof he.stack=="string"){for(var N=he.stack.split(`
`),D=S.stack.split(`
`),j=N.length-1,Z=D.length-1;1<=j&&0<=Z&&N[j]!==D[Z];)Z--;for(;1<=j&&0<=Z;j--,Z--)if(N[j]!==D[Z]){if(j!==1||Z!==1)do if(j--,Z--,0>Z||N[j]!==D[Z]){var J=`
`+N[j].replace(" at new "," at ");return f.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",f.displayName)),J}while(1<=j&&0<=Z);break}}}finally{lt=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?me(f):""}function Ot(f){switch(f.tag){case 5:return me(f.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 2:case 15:return f=Je(f.type,!1),f;case 11:return f=Je(f.type.render,!1),f;case 1:return f=Je(f.type,!0),f;default:return""}}function Re(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case V:return"Fragment";case $:return"Portal";case q:return"Profiler";case te:return"StrictMode";case Ee:return"Suspense";case Ye:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Be:return(f.displayName||"Context")+".Consumer";case pe:return(f._context.displayName||"Context")+".Provider";case ge:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case le:return p=f.displayName||null,p!==null?p:Re(f.type)||"Memo";case ht:p=f._payload,f=f._init;try{return Re(f(p))}catch{}}return null}function $t(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(p);case 8:return p===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function ut(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Zt(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Kr(f){var p=Zt(f)?"checked":"value",w=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),S=""+f[p];if(!f.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var N=w.get,D=w.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return N.call(this)},set:function(j){S=""+j,D.call(this,j)}}),Object.defineProperty(f,p,{enumerable:w.enumerable}),{getValue:function(){return S},setValue:function(j){S=""+j},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Qr(f){f._valueTracker||(f._valueTracker=Kr(f))}function gs(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var w=p.getValue(),S="";return f&&(S=Zt(f)?f.checked?"true":"false":f.value),f=S,f!==w?(p.setValue(f),!0):!1}function Nt(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Ba(f,p){var w=p.checked;return Le({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??f._wrapperState.initialChecked})}function bi(f,p){var w=p.defaultValue==null?"":p.defaultValue,S=p.checked!=null?p.checked:p.defaultChecked;w=ut(p.value!=null?p.value:w),f._wrapperState={initialChecked:S,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function _o(f,p){p=p.checked,p!=null&&B(f,"checked",p,!1)}function Hr(f,p){_o(f,p);var w=ut(p.value),S=p.type;if(w!=null)S==="number"?(w===0&&f.value===""||f.value!=w)&&(f.value=""+w):f.value!==""+w&&(f.value=""+w);else if(S==="submit"||S==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?St(f,p.type,w):p.hasOwnProperty("defaultValue")&&St(f,p.type,ut(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function er(f,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var S=p.type;if(!(S!=="submit"&&S!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,w||p===f.value||(f.value=p),f.defaultValue=p}w=f.name,w!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,w!==""&&(f.name=w)}function St(f,p,w){(p!=="number"||Nt(f.ownerDocument)!==f)&&(w==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+w&&(f.defaultValue=""+w))}var La=Array.isArray;function je(f,p,w,S){if(f=f.options,p){p={};for(var N=0;N<w.length;N++)p["$"+w[N]]=!0;for(w=0;w<f.length;w++)N=p.hasOwnProperty("$"+f[w].value),f[w].selected!==N&&(f[w].selected=N),N&&S&&(f[w].defaultSelected=!0)}else{for(w=""+ut(w),p=null,N=0;N<f.length;N++){if(f[N].value===w){f[N].selected=!0,S&&(f[N].defaultSelected=!0);return}p!==null||f[N].disabled||(p=f[N])}p!==null&&(p.selected=!0)}}function So(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(t(91));return Le({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function n1(f,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(t(92));if(La(w)){if(1<w.length)throw Error(t(93));w=w[0]}p=w}p==null&&(p=""),w=p}f._wrapperState={initialValue:ut(w)}}function Yi(f,p){var w=ut(p.value),S=ut(p.defaultValue);w!=null&&(w=""+w,w!==f.value&&(f.value=w),p.defaultValue==null&&f.defaultValue!==w&&(f.defaultValue=w)),S!=null&&(f.defaultValue=""+S)}function iu(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function hi(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?hi(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Ri,yn=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,S,N){MSApp.execUnsafeLocalFunction(function(){return f(p,w,S,N)})}:f}(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Ri.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function Io(f,p){if(p){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=p;return}}f.textContent=p}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(f){zf.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),Fa[p]=Fa[f]})});function Rr(f,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||Fa.hasOwnProperty(f)&&Fa[f]?(""+p).trim():p+"px"}function De(f,p){f=f.style;for(var w in p)if(p.hasOwnProperty(w)){var S=w.indexOf("--")===0,N=Rr(w,p[w],S);w==="float"&&(w="cssFloat"),S?f.setProperty(w,N):f[w]=N}}var Vr=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vt(f,p){if(p){if(Vr[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(t(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(t(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(t(61))}if(p.style!=null&&typeof p.style!="object")throw Error(t(62))}}function dr(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function vs(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var ou=null,At=null,pi=null;function i1(f){if(f=N1(f)){if(typeof ou!="function")throw Error(t(280));var p=f.stateNode;p&&(p=Yl(p),ou(f.stateNode,f.type,p))}}function a1(f){At?pi?pi.push(f):pi=[f]:At=f}function gi(){if(At){var f=At,p=pi;if(pi=At=null,i1(f),p)for(f=0;f<p.length;f++)i1(p[f])}}function su(f,p){return f(p)}function qr(){}var ka=!1;function xs(f,p,w){if(ka)return f(p,w);ka=!0;try{return su(f,p,w)}finally{ka=!1,(At!==null||pi!==null)&&(qr(),gi())}}function Gn(f,p){var w=f.stateNode;if(w===null)return null;var S=Yl(w);if(S===null)return null;w=S[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(f=f.type,S=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!S;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(t(231,p,typeof w));return w}var o1=!1;if(s)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){o1=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{o1=!1}function s1(f,p,w,S,N,D,j,Z,J){var he=Array.prototype.slice.call(arguments,3);try{p.apply(w,he)}catch(_e){this.onError(_e)}}var Yr=!1,$i=null,Dn=!1,ke=null,To={onError:function(f){Yr=!0,$i=f}};function u1(f,p,w,S,N,D,j,Z,J){Yr=!1,$i=null,s1.apply(To,arguments)}function Wn(f,p,w,S,N,D,j,Z,J){if(u1.apply(this,arguments),Yr){if(Yr){var he=$i;Yr=!1,$i=null}else throw Error(t(198));Dn||(Dn=!0,ke=he)}}function vi(f){var p=f,w=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(w=p.return),f=p.return;while(f)}return p.tag===3?w:null}function ys(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function ms(f){if(vi(f)!==f)throw Error(t(188))}function Zi(f){var p=f.alternate;if(!p){if(p=vi(f),p===null)throw Error(t(188));return p!==f?null:f}for(var w=f,S=p;;){var N=w.return;if(N===null)break;var D=N.alternate;if(D===null){if(S=N.return,S!==null){w=S;continue}break}if(N.child===D.child){for(D=N.child;D;){if(D===w)return ms(N),f;if(D===S)return ms(N),p;D=D.sibling}throw Error(t(188))}if(w.return!==S.return)w=N,S=D;else{for(var j=!1,Z=N.child;Z;){if(Z===w){j=!0,w=N,S=D;break}if(Z===S){j=!0,S=N,w=D;break}Z=Z.sibling}if(!j){for(Z=D.child;Z;){if(Z===w){j=!0,w=D,S=N;break}if(Z===S){j=!0,S=D,w=N;break}Z=Z.sibling}if(!j)throw Error(t(189))}}if(w.alternate!==S)throw Error(t(190))}if(w.tag!==3)throw Error(t(188));return w.stateNode.current===w?f:p}function Il(f){return f=Zi(f),f!==null?Tl(f):null}function Tl(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Tl(f);if(p!==null)return p;f=f.sibling}return null}var Mi=e.unstable_scheduleCallback,mn=e.unstable_cancelCallback,hr=e.unstable_shouldYield,Ol=e.unstable_requestPaint,Kt=e.unstable_now,l1=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,Nl=e.unstable_UserBlockingPriority,cr=e.unstable_NormalPriority,Oo=e.unstable_LowPriority,bl=e.unstable_IdlePriority,Rt=null,gt=null;function It(f){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Rt,f,void 0,(f.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:zr,c1=Math.log,f1=Math.LN2;function zr(f){return f>>>=0,f===0?32:31-(c1(f)/f1|0)|0}var Pi=64,uu=4194304;function fr(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Bi(f,p){var w=f.pendingLanes;if(w===0)return 0;var S=0,N=f.suspendedLanes,D=f.pingedLanes,j=w&268435455;if(j!==0){var Z=j&~N;Z!==0?S=fr(Z):(D&=j,D!==0&&(S=fr(D)))}else j=w&~N,j!==0?S=fr(j):D!==0&&(S=fr(D));if(S===0)return 0;if(p!==0&&p!==S&&!(p&N)&&(N=S&-S,D=p&-p,N>=D||N===16&&(D&4194240)!==0))return p;if(S&4&&(S|=w&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=S;0<p;)w=31-ii(p),N=1<<w,S|=f[w],p&=~N;return S}function Gf(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(f,p){for(var w=f.suspendedLanes,S=f.pingedLanes,N=f.expirationTimes,D=f.pendingLanes;0<D;){var j=31-ii(D),Z=1<<j,J=N[j];J===-1?(!(Z&w)||Z&S)&&(N[j]=Gf(Z,p)):J<=p&&(f.expiredLanes|=Z),D&=~Z}}function Qt(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Jr(){var f=Pi;return Pi<<=1,!(Pi&4194240)&&(Pi=64),f}function ae(f){for(var p=[],w=0;31>w;w++)p.push(f);return p}function G(f,p,w){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-ii(p),f[p]=w}function Ke(f,p){var w=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var S=f.eventTimes;for(f=f.expirationTimes;0<w;){var N=31-ii(w),D=1<<N;p[N]=0,S[N]=-1,f[N]=-1,w&=~D}}function Fr(f,p){var w=f.entangledLanes|=p;for(f=f.entanglements;w;){var S=31-ii(w),N=1<<S;N&p|f[S]&p&&(f[S]|=p),w&=~N}}var vt=0;function Rl(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var lu,Xn,qe,pr,d1,h1=!1,bo=[],Li=null,Ki=null,Ua=null,Tr=new Map,da=new Map,Mn=[],st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(f,p){switch(f){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Tr.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(p.pointerId)}}function ft(f,p,w,S,N,D){return f===null||f.nativeEvent!==D?(f={blockedOn:p,domEventName:w,eventSystemFlags:S,nativeEvent:D,targetContainers:[N]},p!==null&&(p=N1(p),p!==null&&Xn(p)),f):(f.eventSystemFlags|=S,p=f.targetContainers,N!==null&&p.indexOf(N)===-1&&p.push(N),f)}function en(f,p,w,S,N){switch(p){case"focusin":return Li=ft(Li,f,p,w,S,N),!0;case"dragenter":return Ki=ft(Ki,f,p,w,S,N),!0;case"mouseover":return Ua=ft(Ua,f,p,w,S,N),!0;case"pointerover":var D=N.pointerId;return Tr.set(D,ft(Tr.get(D)||null,f,p,w,S,N)),!0;case"gotpointercapture":return D=N.pointerId,da.set(D,ft(da.get(D)||null,f,p,w,S,N)),!0}return!1}function Ml(f){var p=Ns(f.target);if(p!==null){var w=vi(p);if(w!==null){if(p=w.tag,p===13){if(p=ys(w),p!==null){f.blockedOn=p,d1(f.priority,function(){qe(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Ro(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var w=cu(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(w===null){w=f.nativeEvent;var S=new w.constructor(w.type,w);ro=S,w.target.dispatchEvent(S),ro=null}else return p=N1(w),p!==null&&Xn(p),f.blockedOn=w,!1;p.shift()}return!0}function p1(f,p,w){Ro(f)&&w.delete(p)}function no(){h1=!1,Li!==null&&Ro(Li)&&(Li=null),Ki!==null&&Ro(Ki)&&(Ki=null),Ua!==null&&Ro(Ua)&&(Ua=null),Tr.forEach(p1),da.forEach(p1)}function ws(f,p){f.blockedOn===p&&(f.blockedOn=null,h1||(h1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,no)))}function ha(f){function p(N){return ws(N,f)}if(0<bo.length){ws(bo[0],f);for(var w=1;w<bo.length;w++){var S=bo[w];S.blockedOn===f&&(S.blockedOn=null)}}for(Li!==null&&ws(Li,f),Ki!==null&&ws(Ki,f),Ua!==null&&ws(Ua,f),Tr.forEach(p),da.forEach(p),w=0;w<Mn.length;w++)S=Mn[w],S.blockedOn===f&&(S.blockedOn=null);for(;0<Mn.length&&(w=Mn[0],w.blockedOn===null);)Ml(w),w.blockedOn===null&&Mn.shift()}var Qi=k.ReactCurrentBatchConfig,ja=!0;function Pl(f,p,w,S){var N=vt,D=Qi.transition;Qi.transition=null;try{vt=1,io(f,p,w,S)}finally{vt=N,Qi.transition=D}}function As(f,p,w,S){var N=vt,D=Qi.transition;Qi.transition=null;try{vt=4,io(f,p,w,S)}finally{vt=N,Qi.transition=D}}function io(f,p,w,S){if(ja){var N=cu(f,p,w,S);if(N===null)e0(f,p,S,tn,w),Dl(f,S);else if(en(N,f,p,w,S))S.stopPropagation();else if(Dl(f,S),p&4&&-1<st.indexOf(f)){for(;N!==null;){var D=N1(N);if(D!==null&&lu(D),D=cu(f,p,w,S),D===null&&e0(f,p,S,tn,w),D===N)break;N=D}N!==null&&S.stopPropagation()}else e0(f,p,S,null,w)}}var tn=null;function cu(f,p,w,S){if(tn=null,f=vs(S),f=Ns(f),f!==null)if(p=vi(f),p===null)f=null;else if(w=p.tag,w===13){if(f=ys(p),f!==null)return f;f=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return tn=f,null}function g1(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l1()){case we:return 1;case Nl:return 4;case cr:case Oo:return 16;case bl:return 536870912;default:return 16}default:return 16}}var pa=null,v1=null,fu=null;function Bl(){if(fu)return fu;var f,p=v1,w=p.length,S,N="value"in pa?pa.value:pa.textContent,D=N.length;for(f=0;f<w&&p[f]===N[f];f++);var j=w-f;for(S=1;S<=j&&p[w-S]===N[D-S];S++);return fu=N.slice(f,1<S?1-S:void 0)}function Pt(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function Es(){return!0}function Cs(){return!1}function kr(f){function p(w,S,N,D,j){this._reactName=w,this._targetInst=N,this.type=S,this.nativeEvent=D,this.target=j,this.currentTarget=null;for(var Z in f)f.hasOwnProperty(Z)&&(w=f[Z],this[Z]=w?w(D):D[Z]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Es:Cs,this.isPropagationStopped=Cs,this}return Le(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),p}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},de=kr(Do),pt=Le({},Do,{view:0,detail:0}),rn=kr(pt),Mo,du,_s,hu=Le({},pt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==_s&&(_s&&f.type==="mousemove"?(Mo=f.screenX-_s.screenX,du=f.screenY-_s.screenY):du=Mo=0,_s=f),Mo)},movementY:function(f){return"movementY"in f?f.movementY:du}}),Ll=kr(hu),x1=Le({},hu,{dataTransfer:0}),Gr=kr(x1),y1=Le({},pt,{relatedTarget:0}),gr=kr(y1),pu=Le({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),ao=kr(pu),tr=Le({},Do,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),et=kr(tr),Wf=Le({},Do,{data:0}),sr=kr(Wf),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qi(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=Xf[f])?!!p[f]:!1}function Ss(){return qi}var Fl=Le({},pt,{key:function(f){if(f.key){var p=oo[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Pt(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Po[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(f){return f.type==="keypress"?Pt(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Pt(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),m1=kr(Fl),kl=Le({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=kr(kl),Yf=Le({},pt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Bo=kr(Yf),A1=Le({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=kr(A1),Is=Le({},hu,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=kr(Is),Ha=[9,13,27,32],Lo=s&&"CompositionEvent"in window,wn=null;s&&"documentMode"in document&&(wn=document.documentMode);var Ul=s&&"TextEvent"in window&&!wn,Fi=s&&(!Lo||wn&&8<wn&&11>=wn),jl=" ",gu=!1;function Hl(f,p){switch(f){case"keyup":return Ha.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Pn=!1;function Kf(f,p){switch(f){case"compositionend":return E1(p);case"keypress":return p.which!==32?null:(gu=!0,jl);case"textInput":return f=p.data,f===jl&&gu?null:f;default:return null}}function C1(f,p){if(Pn)return f==="compositionend"||!Lo&&Hl(f,p)?(f=Bl(),fu=v1=pa=null,Pn=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Fi&&p.locale!=="ko"?null:p.data;default:return null}}var Ts={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Ts[f.type]:p==="textarea"}function Os(f,p,w,S){a1(S),p=Gl(p,"onChange"),0<p.length&&(w=new de("onChange","change",null,w,S),f.push({event:w,listeners:p}))}var L=null,u=null;function d(f){ep(f,0)}function h(f){var p=yu(f);if(gs(p))return f}function v(f,p){if(f==="change")return p}var y=!1;if(s){var m;if(s){var C="oninput"in document;if(!C){var I=document.createElement("div");I.setAttribute("oninput","return;"),C=typeof I.oninput=="function"}m=C}else m=!1;y=m&&(!document.documentMode||9<document.documentMode)}function O(){L&&(L.detachEvent("onpropertychange",P),u=L=null)}function P(f){if(f.propertyName==="value"&&h(u)){var p=[];Os(p,u,f,vs(f)),xs(d,p)}}function F(f,p,w){f==="focusin"?(O(),L=p,u=w,L.attachEvent("onpropertychange",P)):f==="focusout"&&O()}function H(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return h(u)}function Y(f,p){if(f==="click")return h(p)}function Q(f,p){if(f==="input"||f==="change")return h(p)}function ee(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var ne=typeof Object.is=="function"?Object.is:ee;function fe(f,p){if(ne(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var w=Object.keys(f),S=Object.keys(p);if(w.length!==S.length)return!1;for(S=0;S<w.length;S++){var N=w[S];if(!l.call(p,N)||!ne(f[N],p[N]))return!1}return!0}function Ie(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Te(f,p){var w=Ie(f);f=0;for(var S;w;){if(w.nodeType===3){if(S=f+w.textContent.length,f<=p&&S>=p)return{node:w,offset:p-f};f=S}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Ie(w)}}function Ce(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?Ce(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function yt(){for(var f=window,p=Nt();p instanceof f.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)f=p.contentWindow;else break;p=Nt(f.document)}return p}function dt(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function Yn(f){var p=yt(),w=f.focusedElem,S=f.selectionRange;if(p!==w&&w&&w.ownerDocument&&Ce(w.ownerDocument.documentElement,w)){if(S!==null&&dt(w)){if(p=S.start,f=S.end,f===void 0&&(f=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(f,w.value.length);else if(f=(p=w.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var N=w.textContent.length,D=Math.min(S.start,N);S=S.end===void 0?D:Math.min(S.end,N),!f.extend&&D>S&&(N=S,S=D,D=N),N=Te(w,D);var j=Te(w,S);N&&j&&(f.rangeCount!==1||f.anchorNode!==N.node||f.anchorOffset!==N.offset||f.focusNode!==j.node||f.focusOffset!==j.offset)&&(p=p.createRange(),p.setStart(N.node,N.offset),f.removeAllRanges(),D>S?(f.addRange(p),f.extend(j.node,j.offset)):(p.setEnd(j.node,j.offset),f.addRange(p)))}}for(p=[],f=w;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)f=p[w],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var ki=s&&"documentMode"in document&&11>=document.documentMode,Wr=null,zt=null,Dr=null,Bn=!1;function so(f,p,w){var S=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Bn||Wr==null||Wr!==Nt(S)||(S=Wr,"selectionStart"in S&&dt(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Dr&&fe(Dr,S)||(Dr=S,S=Gl(zt,"onSelect"),0<S.length&&(p=new de("onSelect","select",null,p,w),f.push({event:p,listeners:S}),p.target=Wr)))}function ga(f,p){var w={};return w[f.toLowerCase()]=p.toLowerCase(),w["Webkit"+f]="webkit"+p,w["Moz"+f]="moz"+p,w}var Fo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},_1={},X2={};s&&(X2=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Vl(f){if(_1[f])return _1[f];if(!Fo[f])return f;var p=Fo[f],w;for(w in p)if(p.hasOwnProperty(w)&&w in X2)return _1[f]=p[w];return f}var Y2=Vl("animationend"),$2=Vl("animationiteration"),Z2=Vl("animationstart"),K2=Vl("transitionend"),Q2=new Map,q2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(f,p){Q2.set(f,p),a(p,[f])}for(var Qf=0;Qf<q2.length;Qf++){var qf=q2[Qf],Wm=qf.toLowerCase(),Xm=qf[0].toUpperCase()+qf.slice(1);ko(Wm,"on"+Xm)}ko(Y2,"onAnimationEnd"),ko($2,"onAnimationIteration"),ko(Z2,"onAnimationStart"),ko("dblclick","onDoubleClick"),ko("focusin","onFocus"),ko("focusout","onBlur"),ko(K2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var S1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(S1));function J2(f,p,w){var S=f.type||"unknown-event";f.currentTarget=w,Wn(S,p,void 0,f),f.currentTarget=null}function ep(f,p){p=(p&4)!==0;for(var w=0;w<f.length;w++){var S=f[w],N=S.event;S=S.listeners;e:{var D=void 0;if(p)for(var j=S.length-1;0<=j;j--){var Z=S[j],J=Z.instance,he=Z.currentTarget;if(Z=Z.listener,J!==D&&N.isPropagationStopped())break e;J2(N,Z,he),D=J}else for(j=0;j<S.length;j++){if(Z=S[j],J=Z.instance,he=Z.currentTarget,Z=Z.listener,J!==D&&N.isPropagationStopped())break e;J2(N,Z,he),D=J}}}if(Dn)throw f=ke,Dn=!1,ke=null,f}function mr(f,p){var w=p[o0];w===void 0&&(w=p[o0]=new Set);var S=f+"__bubble";w.has(S)||(tp(p,f,2,!1),w.add(S))}function Jf(f,p,w){var S=0;p&&(S|=4),tp(w,f,S,p)}var zl="_reactListening"+Math.random().toString(36).slice(2);function I1(f){if(!f[zl]){f[zl]=!0,n.forEach(function(w){w!=="selectionchange"&&(Ym.has(w)||Jf(w,!1,f),Jf(w,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[zl]||(p[zl]=!0,Jf("selectionchange",!1,p))}}function tp(f,p,w,S){switch(g1(p)){case 1:var N=Pl;break;case 4:N=As;break;default:N=io}w=N.bind(null,p,w,f),N=void 0,!o1||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(N=!0),S?N!==void 0?f.addEventListener(p,w,{capture:!0,passive:N}):f.addEventListener(p,w,!0):N!==void 0?f.addEventListener(p,w,{passive:N}):f.addEventListener(p,w,!1)}function e0(f,p,w,S,N){var D=S;if(!(p&1)&&!(p&2)&&S!==null)e:for(;;){if(S===null)return;var j=S.tag;if(j===3||j===4){var Z=S.stateNode.containerInfo;if(Z===N||Z.nodeType===8&&Z.parentNode===N)break;if(j===4)for(j=S.return;j!==null;){var J=j.tag;if((J===3||J===4)&&(J=j.stateNode.containerInfo,J===N||J.nodeType===8&&J.parentNode===N))return;j=j.return}for(;Z!==null;){if(j=Ns(Z),j===null)return;if(J=j.tag,J===5||J===6){S=D=j;continue e}Z=Z.parentNode}}S=S.return}xs(function(){var he=D,_e=vs(w),Se=[];e:{var Ae=Q2.get(f);if(Ae!==void 0){var Ue=de,ze=f;switch(f){case"keypress":if(Pt(w)===0)break e;case"keydown":case"keyup":Ue=m1;break;case"focusin":ze="focus",Ue=gr;break;case"focusout":ze="blur",Ue=gr;break;case"beforeblur":case"afterblur":Ue=gr;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Bo;break;case Y2:case $2:case Z2:Ue=ao;break;case K2:Ue=$f;break;case"scroll":Ue=rn;break;case"wheel":Ue=Zf;break;case"copy":case"cut":case"paste":Ue=et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=w1}var Ge=(p&4)!==0,Xr=!Ge&&f==="scroll",oe=Ge?Ae!==null?Ae+"Capture":null:Ae;Ge=[];for(var re=he,ce;re!==null;){ce=re;var Ne=ce.stateNode;if(ce.tag===5&&Ne!==null&&(ce=Ne,oe!==null&&(Ne=Gn(re,oe),Ne!=null&&Ge.push(T1(re,Ne,ce)))),Xr)break;re=re.return}0<Ge.length&&(Ae=new Ue(Ae,ze,null,w,_e),Se.push({event:Ae,listeners:Ge}))}}if(!(p&7)){e:{if(Ae=f==="mouseover"||f==="pointerover",Ue=f==="mouseout"||f==="pointerout",Ae&&w!==ro&&(ze=w.relatedTarget||w.fromElement)&&(Ns(ze)||ze[uo]))break e;if((Ue||Ae)&&(Ae=_e.window===_e?_e:(Ae=_e.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ue?(ze=w.relatedTarget||w.toElement,Ue=he,ze=ze?Ns(ze):null,ze!==null&&(Xr=vi(ze),ze!==Xr||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Ue=null,ze=he),Ue!==ze)){if(Ge=Ll,Ne="onMouseLeave",oe="onMouseEnter",re="mouse",(f==="pointerout"||f==="pointerover")&&(Ge=w1,Ne="onPointerLeave",oe="onPointerEnter",re="pointer"),Xr=Ue==null?Ae:yu(Ue),ce=ze==null?Ae:yu(ze),Ae=new Ge(Ne,re+"leave",Ue,w,_e),Ae.target=Xr,Ae.relatedTarget=ce,Ne=null,Ns(_e)===he&&(Ge=new Ge(oe,re+"enter",ze,w,_e),Ge.target=ce,Ge.relatedTarget=Xr,Ne=Ge),Xr=Ne,Ue&&ze)t:{for(Ge=Ue,oe=ze,re=0,ce=Ge;ce;ce=vu(ce))re++;for(ce=0,Ne=oe;Ne;Ne=vu(Ne))ce++;for(;0<re-ce;)Ge=vu(Ge),re--;for(;0<ce-re;)oe=vu(oe),ce--;for(;re--;){if(Ge===oe||oe!==null&&Ge===oe.alternate)break t;Ge=vu(Ge),oe=vu(oe)}Ge=null}else Ge=null;Ue!==null&&rp(Se,Ae,Ue,Ge,!1),ze!==null&&Xr!==null&&rp(Se,Xr,ze,Ge,!0)}}e:{if(Ae=he?yu(he):window,Ue=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Ae.type==="file")var $e=v;else if(bt(Ae))if(y)$e=Q;else{$e=H;var nt=F}else(Ue=Ae.nodeName)&&Ue.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&($e=Y);if($e&&($e=$e(f,he))){Os(Se,$e,w,_e);break e}nt&&nt(f,Ae,he),f==="focusout"&&(nt=Ae._wrapperState)&&nt.controlled&&Ae.type==="number"&&St(Ae,"number",Ae.value)}switch(nt=he?yu(he):window,f){case"focusin":(bt(nt)||nt.contentEditable==="true")&&(Wr=nt,zt=he,Dr=null);break;case"focusout":Dr=zt=Wr=null;break;case"mousedown":Bn=!0;break;case"contextmenu":case"mouseup":case"dragend":Bn=!1,so(Se,w,_e);break;case"selectionchange":if(ki)break;case"keydown":case"keyup":so(Se,w,_e)}var it;if(Lo)e:{switch(f){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Pn?Hl(f,w)&&(ct="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(ct="onCompositionStart");ct&&(Fi&&w.locale!=="ko"&&(Pn||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Pn&&(it=Bl()):(pa=_e,v1="value"in pa?pa.value:pa.textContent,Pn=!0)),nt=Gl(he,ct),0<nt.length&&(ct=new sr(ct,f,null,w,_e),Se.push({event:ct,listeners:nt}),it?ct.data=it:(it=E1(w),it!==null&&(ct.data=it)))),(it=Ul?Kf(f,w):C1(f,w))&&(he=Gl(he,"onBeforeInput"),0<he.length&&(_e=new sr("onBeforeInput","beforeinput",null,w,_e),Se.push({event:_e,listeners:he}),_e.data=it))}ep(Se,p)})}function T1(f,p,w){return{instance:f,listener:p,currentTarget:w}}function Gl(f,p){for(var w=p+"Capture",S=[];f!==null;){var N=f,D=N.stateNode;N.tag===5&&D!==null&&(N=D,D=Gn(f,w),D!=null&&S.unshift(T1(f,D,N)),D=Gn(f,p),D!=null&&S.push(T1(f,D,N))),f=f.return}return S}function vu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function rp(f,p,w,S,N){for(var D=p._reactName,j=[];w!==null&&w!==S;){var Z=w,J=Z.alternate,he=Z.stateNode;if(J!==null&&J===S)break;Z.tag===5&&he!==null&&(Z=he,N?(J=Gn(w,D),J!=null&&j.unshift(T1(w,J,Z))):N||(J=Gn(w,D),J!=null&&j.push(T1(w,J,Z)))),w=w.return}j.length!==0&&f.push({event:p,listeners:j})}var $m=/\r\n?/g,Zm=/\u0000|\uFFFD/g;function np(f){return(typeof f=="string"?f:""+f).replace($m,`
`).replace(Zm,"")}function Wl(f,p,w){if(p=np(p),np(f)!==p&&w)throw Error(t(425))}function Xl(){}var t0=null,r0=null;function n0(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,Km=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(f){return ip.resolve(null).then(f).catch(qm)}:i0;function qm(f){setTimeout(function(){throw f})}function a0(f,p){var w=p,S=0;do{var N=w.nextSibling;if(f.removeChild(w),N&&N.nodeType===8)if(w=N.data,w==="/$"){if(S===0){f.removeChild(N),ha(p);return}S--}else w!=="$"&&w!=="$?"&&w!=="$!"||S++;w=N}while(w);ha(p)}function Uo(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function ap(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return f;p--}else w==="/$"&&p++}f=f.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Va="__reactFiber$"+xu,O1="__reactProps$"+xu,uo="__reactContainer$"+xu,o0="__reactEvents$"+xu,Jm="__reactListeners$"+xu,ew="__reactHandles$"+xu;function Ns(f){var p=f[Va];if(p)return p;for(var w=f.parentNode;w;){if(p=w[uo]||w[Va]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(f=ap(f);f!==null;){if(w=f[Va])return w;f=ap(f)}return p}f=w,w=f.parentNode}return null}function N1(f){return f=f[Va]||f[uo],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function yu(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(t(33))}function Yl(f){return f[O1]||null}var s0=[],mu=-1;function jo(f){return{current:f}}function wr(f){0>mu||(f.current=s0[mu],s0[mu]=null,mu--)}function vr(f,p){mu++,s0[mu]=f.current,f.current=p}var Ho={},$n=jo(Ho),xi=jo(!1),bs=Ho;function wu(f,p){var w=f.type.contextTypes;if(!w)return Ho;var S=f.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===p)return S.__reactInternalMemoizedMaskedChildContext;var N={},D;for(D in w)N[D]=p[D];return S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=N),N}function yi(f){return f=f.childContextTypes,f!=null}function $l(){wr(xi),wr($n)}function op(f,p,w){if($n.current!==Ho)throw Error(t(168));vr($n,p),vr(xi,w)}function sp(f,p,w){var S=f.stateNode;if(p=p.childContextTypes,typeof S.getChildContext!="function")return w;S=S.getChildContext();for(var N in S)if(!(N in p))throw Error(t(108,$t(f)||"Unknown",N));return Le({},w,S)}function Zl(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Ho,bs=$n.current,vr($n,f),vr(xi,xi.current),!0}function up(f,p,w){var S=f.stateNode;if(!S)throw Error(t(169));w?(f=sp(f,p,bs),S.__reactInternalMemoizedMergedChildContext=f,wr(xi),wr($n),vr($n,f)):wr(xi),vr(xi,w)}var lo=null,Kl=!1,u0=!1;function lp(f){lo===null?lo=[f]:lo.push(f)}function tw(f){Kl=!0,lp(f)}function Vo(){if(!u0&&lo!==null){u0=!0;var f=0,p=vt;try{var w=lo;for(vt=1;f<w.length;f++){var S=w[f];do S=S(!0);while(S!==null)}lo=null,Kl=!1}catch(N){throw lo!==null&&(lo=lo.slice(f+1)),Mi(we,Vo),N}finally{vt=p,u0=!1}}return null}var Au=[],Eu=0,Ql=null,ql=0,Ji=[],ea=0,Rs=null,co=1,fo="";function Ds(f,p){Au[Eu++]=ql,Au[Eu++]=Ql,Ql=f,ql=p}function cp(f,p,w){Ji[ea++]=co,Ji[ea++]=fo,Ji[ea++]=Rs,Rs=f;var S=co;f=fo;var N=32-ii(S)-1;S&=~(1<<N),w+=1;var D=32-ii(p)+N;if(30<D){var j=N-N%5;D=(S&(1<<j)-1).toString(32),S>>=j,N-=j,co=1<<32-ii(p)+N|w<<N|S,fo=D+f}else co=1<<D|w<<N|S,fo=f}function l0(f){f.return!==null&&(Ds(f,1),cp(f,1,0))}function c0(f){for(;f===Ql;)Ql=Au[--Eu],Au[Eu]=null,ql=Au[--Eu],Au[Eu]=null;for(;f===Rs;)Rs=Ji[--ea],Ji[ea]=null,fo=Ji[--ea],Ji[ea]=null,co=Ji[--ea],Ji[ea]=null}var Ui=null,ji=null,Or=!1,va=null;function fp(f,p){var w=ia(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=f,p=f.deletions,p===null?(f.deletions=[w],f.flags|=16):p.push(w)}function dp(f,p){switch(f.tag){case 5:var w=f.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,Ui=f,ji=Uo(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,Ui=f,ji=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=Rs!==null?{id:co,overflow:fo}:null,f.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=ia(18,null,null,0),w.stateNode=p,w.return=f,f.child=w,Ui=f,ji=null,!0):!1;default:return!1}}function f0(f){return(f.mode&1)!==0&&(f.flags&128)===0}function d0(f){if(Or){var p=ji;if(p){var w=p;if(!dp(f,p)){if(f0(f))throw Error(t(418));p=Uo(w.nextSibling);var S=Ui;p&&dp(f,p)?fp(S,w):(f.flags=f.flags&-4097|2,Or=!1,Ui=f)}}else{if(f0(f))throw Error(t(418));f.flags=f.flags&-4097|2,Or=!1,Ui=f}}}function hp(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ui=f}function Jl(f){if(f!==Ui)return!1;if(!Or)return hp(f),Or=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!n0(f.type,f.memoizedProps)),p&&(p=ji)){if(f0(f))throw pp(),Error(t(418));for(;p;)fp(f,p),p=Uo(p.nextSibling)}if(hp(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var w=f.data;if(w==="/$"){if(p===0){ji=Uo(f.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}f=f.nextSibling}ji=null}}else ji=Ui?Uo(f.stateNode.nextSibling):null;return!0}function pp(){for(var f=ji;f;)f=Uo(f.nextSibling)}function Cu(){ji=Ui=null,Or=!1}function h0(f){va===null?va=[f]:va.push(f)}var rw=k.ReactCurrentBatchConfig;function b1(f,p,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(t(309));var S=w.stateNode}if(!S)throw Error(t(147,f));var N=S,D=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===D?p.ref:(p=function(j){var Z=N.refs;j===null?delete Z[D]:Z[D]=j},p._stringRef=D,p)}if(typeof f!="string")throw Error(t(284));if(!w._owner)throw Error(t(290,f))}return f}function ec(f,p){throw f=Object.prototype.toString.call(p),Error(t(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function gp(f){var p=f._init;return p(f._payload)}function vp(f){function p(oe,re){if(f){var ce=oe.deletions;ce===null?(oe.deletions=[re],oe.flags|=16):ce.push(re)}}function w(oe,re){if(!f)return null;for(;re!==null;)p(oe,re),re=re.sibling;return null}function S(oe,re){for(oe=new Map;re!==null;)re.key!==null?oe.set(re.key,re):oe.set(re.index,re),re=re.sibling;return oe}function N(oe,re){return oe=Ko(oe,re),oe.index=0,oe.sibling=null,oe}function D(oe,re,ce){return oe.index=ce,f?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<re?(oe.flags|=2,re):ce):(oe.flags|=2,re)):(oe.flags|=1048576,re)}function j(oe){return f&&oe.alternate===null&&(oe.flags|=2),oe}function Z(oe,re,ce,Ne){return re===null||re.tag!==6?(re=id(ce,oe.mode,Ne),re.return=oe,re):(re=N(re,ce),re.return=oe,re)}function J(oe,re,ce,Ne){var $e=ce.type;return $e===V?_e(oe,re,ce.props.children,Ne,ce.key):re!==null&&(re.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ht&&gp($e)===re.type)?(Ne=N(re,ce.props),Ne.ref=b1(oe,re,ce),Ne.return=oe,Ne):(Ne=_c(ce.type,ce.key,ce.props,null,oe.mode,Ne),Ne.ref=b1(oe,re,ce),Ne.return=oe,Ne)}function he(oe,re,ce,Ne){return re===null||re.tag!==4||re.stateNode.containerInfo!==ce.containerInfo||re.stateNode.implementation!==ce.implementation?(re=ad(ce,oe.mode,Ne),re.return=oe,re):(re=N(re,ce.children||[]),re.return=oe,re)}function _e(oe,re,ce,Ne,$e){return re===null||re.tag!==7?(re=js(ce,oe.mode,Ne,$e),re.return=oe,re):(re=N(re,ce),re.return=oe,re)}function Se(oe,re,ce){if(typeof re=="string"&&re!==""||typeof re=="number")return re=id(""+re,oe.mode,ce),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case z:return ce=_c(re.type,re.key,re.props,null,oe.mode,ce),ce.ref=b1(oe,null,re),ce.return=oe,ce;case $:return re=ad(re,oe.mode,ce),re.return=oe,re;case ht:var Ne=re._init;return Se(oe,Ne(re._payload),ce)}if(La(re)||Ze(re))return re=js(re,oe.mode,ce,null),re.return=oe,re;ec(oe,re)}return null}function Ae(oe,re,ce,Ne){var $e=re!==null?re.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return $e!==null?null:Z(oe,re,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case z:return ce.key===$e?J(oe,re,ce,Ne):null;case $:return ce.key===$e?he(oe,re,ce,Ne):null;case ht:return $e=ce._init,Ae(oe,re,$e(ce._payload),Ne)}if(La(ce)||Ze(ce))return $e!==null?null:_e(oe,re,ce,Ne,null);ec(oe,ce)}return null}function Ue(oe,re,ce,Ne,$e){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return oe=oe.get(ce)||null,Z(re,oe,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case z:return oe=oe.get(Ne.key===null?ce:Ne.key)||null,J(re,oe,Ne,$e);case $:return oe=oe.get(Ne.key===null?ce:Ne.key)||null,he(re,oe,Ne,$e);case ht:var nt=Ne._init;return Ue(oe,re,ce,nt(Ne._payload),$e)}if(La(Ne)||Ze(Ne))return oe=oe.get(ce)||null,_e(re,oe,Ne,$e,null);ec(re,Ne)}return null}function ze(oe,re,ce,Ne){for(var $e=null,nt=null,it=re,ct=re=0,Cn=null;it!==null&&ct<ce.length;ct++){it.index>ct?(Cn=it,it=null):Cn=it.sibling;var Ut=Ae(oe,it,ce[ct],Ne);if(Ut===null){it===null&&(it=Cn);break}f&&it&&Ut.alternate===null&&p(oe,it),re=D(Ut,re,ct),nt===null?$e=Ut:nt.sibling=Ut,nt=Ut,it=Cn}if(ct===ce.length)return w(oe,it),Or&&Ds(oe,ct),$e;if(it===null){for(;ct<ce.length;ct++)it=Se(oe,ce[ct],Ne),it!==null&&(re=D(it,re,ct),nt===null?$e=it:nt.sibling=it,nt=it);return Or&&Ds(oe,ct),$e}for(it=S(oe,it);ct<ce.length;ct++)Cn=Ue(it,oe,ct,ce[ct],Ne),Cn!==null&&(f&&Cn.alternate!==null&&it.delete(Cn.key===null?ct:Cn.key),re=D(Cn,re,ct),nt===null?$e=Cn:nt.sibling=Cn,nt=Cn);return f&&it.forEach(function(Qo){return p(oe,Qo)}),Or&&Ds(oe,ct),$e}function Ge(oe,re,ce,Ne){var $e=Ze(ce);if(typeof $e!="function")throw Error(t(150));if(ce=$e.call(ce),ce==null)throw Error(t(151));for(var nt=$e=null,it=re,ct=re=0,Cn=null,Ut=ce.next();it!==null&&!Ut.done;ct++,Ut=ce.next()){it.index>ct?(Cn=it,it=null):Cn=it.sibling;var Qo=Ae(oe,it,Ut.value,Ne);if(Qo===null){it===null&&(it=Cn);break}f&&it&&Qo.alternate===null&&p(oe,it),re=D(Qo,re,ct),nt===null?$e=Qo:nt.sibling=Qo,nt=Qo,it=Cn}if(Ut.done)return w(oe,it),Or&&Ds(oe,ct),$e;if(it===null){for(;!Ut.done;ct++,Ut=ce.next())Ut=Se(oe,Ut.value,Ne),Ut!==null&&(re=D(Ut,re,ct),nt===null?$e=Ut:nt.sibling=Ut,nt=Ut);return Or&&Ds(oe,ct),$e}for(it=S(oe,it);!Ut.done;ct++,Ut=ce.next())Ut=Ue(it,oe,ct,Ut.value,Ne),Ut!==null&&(f&&Ut.alternate!==null&&it.delete(Ut.key===null?ct:Ut.key),re=D(Ut,re,ct),nt===null?$e=Ut:nt.sibling=Ut,nt=Ut);return f&&it.forEach(function(Pw){return p(oe,Pw)}),Or&&Ds(oe,ct),$e}function Xr(oe,re,ce,Ne){if(typeof ce=="object"&&ce!==null&&ce.type===V&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case z:e:{for(var $e=ce.key,nt=re;nt!==null;){if(nt.key===$e){if($e=ce.type,$e===V){if(nt.tag===7){w(oe,nt.sibling),re=N(nt,ce.props.children),re.return=oe,oe=re;break e}}else if(nt.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ht&&gp($e)===nt.type){w(oe,nt.sibling),re=N(nt,ce.props),re.ref=b1(oe,nt,ce),re.return=oe,oe=re;break e}w(oe,nt);break}else p(oe,nt);nt=nt.sibling}ce.type===V?(re=js(ce.props.children,oe.mode,Ne,ce.key),re.return=oe,oe=re):(Ne=_c(ce.type,ce.key,ce.props,null,oe.mode,Ne),Ne.ref=b1(oe,re,ce),Ne.return=oe,oe=Ne)}return j(oe);case $:e:{for(nt=ce.key;re!==null;){if(re.key===nt)if(re.tag===4&&re.stateNode.containerInfo===ce.containerInfo&&re.stateNode.implementation===ce.implementation){w(oe,re.sibling),re=N(re,ce.children||[]),re.return=oe,oe=re;break e}else{w(oe,re);break}else p(oe,re);re=re.sibling}re=ad(ce,oe.mode,Ne),re.return=oe,oe=re}return j(oe);case ht:return nt=ce._init,Xr(oe,re,nt(ce._payload),Ne)}if(La(ce))return ze(oe,re,ce,Ne);if(Ze(ce))return Ge(oe,re,ce,Ne);ec(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,re!==null&&re.tag===6?(w(oe,re.sibling),re=N(re,ce),re.return=oe,oe=re):(w(oe,re),re=id(ce,oe.mode,Ne),re.return=oe,oe=re),j(oe)):w(oe,re)}return Xr}var _u=vp(!0),xp=vp(!1),tc=jo(null),rc=null,Su=null,p0=null;function g0(){p0=Su=rc=null}function v0(f){var p=tc.current;wr(tc),f._currentValue=p}function x0(f,p,w){for(;f!==null;){var S=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),f===w)break;f=f.return}}function Iu(f,p){rc=f,p0=Su=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(mi=!0),f.firstContext=null)}function ta(f){var p=f._currentValue;if(p0!==f)if(f={context:f,memoizedValue:p,next:null},Su===null){if(rc===null)throw Error(t(308));Su=f,rc.dependencies={lanes:0,firstContext:f}}else Su=Su.next=f;return p}var Ms=null;function y0(f){Ms===null?Ms=[f]:Ms.push(f)}function yp(f,p,w,S){var N=p.interleaved;return N===null?(w.next=w,y0(p)):(w.next=N.next,N.next=w),p.interleaved=w,ho(f,S)}function ho(f,p){f.lanes|=p;var w=f.alternate;for(w!==null&&(w.lanes|=p),w=f,f=f.return;f!==null;)f.childLanes|=p,w=f.alternate,w!==null&&(w.childLanes|=p),w=f,f=f.return;return w.tag===3?w.stateNode:null}var zo=!1;function m0(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function po(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function Go(f,p,w){var S=f.updateQueue;if(S===null)return null;if(S=S.shared,Bt&2){var N=S.pending;return N===null?p.next=p:(p.next=N.next,N.next=p),S.pending=p,ho(f,w)}return N=S.interleaved,N===null?(p.next=p,y0(S)):(p.next=N.next,N.next=p),S.interleaved=p,ho(f,w)}function nc(f,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var S=p.lanes;S&=f.pendingLanes,w|=S,p.lanes=w,Fr(f,w)}}function wp(f,p){var w=f.updateQueue,S=f.alternate;if(S!==null&&(S=S.updateQueue,w===S)){var N=null,D=null;if(w=w.firstBaseUpdate,w!==null){do{var j={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};D===null?N=D=j:D=D.next=j,w=w.next}while(w!==null);D===null?N=D=p:D=D.next=p}else N=D=p;w={baseState:S.baseState,firstBaseUpdate:N,lastBaseUpdate:D,shared:S.shared,effects:S.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=p:f.next=p,w.lastBaseUpdate=p}function ic(f,p,w,S){var N=f.updateQueue;zo=!1;var D=N.firstBaseUpdate,j=N.lastBaseUpdate,Z=N.shared.pending;if(Z!==null){N.shared.pending=null;var J=Z,he=J.next;J.next=null,j===null?D=he:j.next=he,j=J;var _e=f.alternate;_e!==null&&(_e=_e.updateQueue,Z=_e.lastBaseUpdate,Z!==j&&(Z===null?_e.firstBaseUpdate=he:Z.next=he,_e.lastBaseUpdate=J))}if(D!==null){var Se=N.baseState;j=0,_e=he=J=null,Z=D;do{var Ae=Z.lane,Ue=Z.eventTime;if((S&Ae)===Ae){_e!==null&&(_e=_e.next={eventTime:Ue,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var ze=f,Ge=Z;switch(Ae=p,Ue=w,Ge.tag){case 1:if(ze=Ge.payload,typeof ze=="function"){Se=ze.call(Ue,Se,Ae);break e}Se=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ge.payload,Ae=typeof ze=="function"?ze.call(Ue,Se,Ae):ze,Ae==null)break e;Se=Le({},Se,Ae);break e;case 2:zo=!0}}Z.callback!==null&&Z.lane!==0&&(f.flags|=64,Ae=N.effects,Ae===null?N.effects=[Z]:Ae.push(Z))}else Ue={eventTime:Ue,lane:Ae,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},_e===null?(he=_e=Ue,J=Se):_e=_e.next=Ue,j|=Ae;if(Z=Z.next,Z===null){if(Z=N.shared.pending,Z===null)break;Ae=Z,Z=Ae.next,Ae.next=null,N.lastBaseUpdate=Ae,N.shared.pending=null}}while(!0);if(_e===null&&(J=Se),N.baseState=J,N.firstBaseUpdate=he,N.lastBaseUpdate=_e,p=N.shared.interleaved,p!==null){N=p;do j|=N.lane,N=N.next;while(N!==p)}else D===null&&(N.shared.lanes=0);Ls|=j,f.lanes=j,f.memoizedState=Se}}function Ap(f,p,w){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var S=f[p],N=S.callback;if(N!==null){if(S.callback=null,S=w,typeof N!="function")throw Error(t(191,N));N.call(S)}}}var R1={},za=jo(R1),D1=jo(R1),M1=jo(R1);function Ps(f){if(f===R1)throw Error(t(174));return f}function w0(f,p){switch(vr(M1,p),vr(D1,f),vr(za,R1),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:au(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=au(p,f)}wr(za),vr(za,p)}function Tu(){wr(za),wr(D1),wr(M1)}function Ep(f){Ps(M1.current);var p=Ps(za.current),w=au(p,f.type);p!==w&&(vr(D1,f),vr(za,w))}function A0(f){D1.current===f&&(wr(za),wr(D1))}var Mr=jo(0);function ac(f){for(var p=f;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var E0=[];function C0(){for(var f=0;f<E0.length;f++)E0[f]._workInProgressVersionPrimary=null;E0.length=0}var oc=k.ReactCurrentDispatcher,_0=k.ReactCurrentBatchConfig,Bs=0,Pr=null,nn=null,An=null,sc=!1,P1=!1,B1=0,nw=0;function Zn(){throw Error(t(321))}function S0(f,p){if(p===null)return!1;for(var w=0;w<p.length&&w<f.length;w++)if(!ne(f[w],p[w]))return!1;return!0}function I0(f,p,w,S,N,D){if(Bs=D,Pr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,oc.current=f===null||f.memoizedState===null?sw:uw,f=w(S,N),P1){D=0;do{if(P1=!1,B1=0,25<=D)throw Error(t(301));D+=1,An=nn=null,p.updateQueue=null,oc.current=lw,f=w(S,N)}while(P1)}if(oc.current=cc,p=nn!==null&&nn.next!==null,Bs=0,An=nn=Pr=null,sc=!1,p)throw Error(t(300));return f}function T0(){var f=B1!==0;return B1=0,f}function Ga(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Pr.memoizedState=An=f:An=An.next=f,An}function ra(){if(nn===null){var f=Pr.alternate;f=f!==null?f.memoizedState:null}else f=nn.next;var p=An===null?Pr.memoizedState:An.next;if(p!==null)An=p,nn=f;else{if(f===null)throw Error(t(310));nn=f,f={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},An===null?Pr.memoizedState=An=f:An=An.next=f}return An}function L1(f,p){return typeof p=="function"?p(f):p}function O0(f){var p=ra(),w=p.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=f;var S=nn,N=S.baseQueue,D=w.pending;if(D!==null){if(N!==null){var j=N.next;N.next=D.next,D.next=j}S.baseQueue=N=D,w.pending=null}if(N!==null){D=N.next,S=S.baseState;var Z=j=null,J=null,he=D;do{var _e=he.lane;if((Bs&_e)===_e)J!==null&&(J=J.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),S=he.hasEagerState?he.eagerState:f(S,he.action);else{var Se={lane:_e,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};J===null?(Z=J=Se,j=S):J=J.next=Se,Pr.lanes|=_e,Ls|=_e}he=he.next}while(he!==null&&he!==D);J===null?j=S:J.next=Z,ne(S,p.memoizedState)||(mi=!0),p.memoizedState=S,p.baseState=j,p.baseQueue=J,w.lastRenderedState=S}if(f=w.interleaved,f!==null){N=f;do D=N.lane,Pr.lanes|=D,Ls|=D,N=N.next;while(N!==f)}else N===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function N0(f){var p=ra(),w=p.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=f;var S=w.dispatch,N=w.pending,D=p.memoizedState;if(N!==null){w.pending=null;var j=N=N.next;do D=f(D,j.action),j=j.next;while(j!==N);ne(D,p.memoizedState)||(mi=!0),p.memoizedState=D,p.baseQueue===null&&(p.baseState=D),w.lastRenderedState=D}return[D,S]}function Cp(){}function _p(f,p){var w=Pr,S=ra(),N=p(),D=!ne(S.memoizedState,N);if(D&&(S.memoizedState=N,mi=!0),S=S.queue,b0(Tp.bind(null,w,S,f),[f]),S.getSnapshot!==p||D||An!==null&&An.memoizedState.tag&1){if(w.flags|=2048,F1(9,Ip.bind(null,w,S,N,p),void 0,null),En===null)throw Error(t(349));Bs&30||Sp(w,p,N)}return N}function Sp(f,p,w){f.flags|=16384,f={getSnapshot:p,value:w},p=Pr.updateQueue,p===null?(p={lastEffect:null,stores:null},Pr.updateQueue=p,p.stores=[f]):(w=p.stores,w===null?p.stores=[f]:w.push(f))}function Ip(f,p,w,S){p.value=w,p.getSnapshot=S,Op(p)&&Np(f)}function Tp(f,p,w){return w(function(){Op(p)&&Np(f)})}function Op(f){var p=f.getSnapshot;f=f.value;try{var w=p();return!ne(f,w)}catch{return!0}}function Np(f){var p=ho(f,1);p!==null&&wa(p,f,1,-1)}function bp(f){var p=Ga();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:L1,lastRenderedState:f},p.queue=f,f=f.dispatch=ow.bind(null,Pr,f),[p.memoizedState,f]}function F1(f,p,w,S){return f={tag:f,create:p,destroy:w,deps:S,next:null},p=Pr.updateQueue,p===null?(p={lastEffect:null,stores:null},Pr.updateQueue=p,p.lastEffect=f.next=f):(w=p.lastEffect,w===null?p.lastEffect=f.next=f:(S=w.next,w.next=f,f.next=S,p.lastEffect=f)),f}function Rp(){return ra().memoizedState}function uc(f,p,w,S){var N=Ga();Pr.flags|=f,N.memoizedState=F1(1|p,w,void 0,S===void 0?null:S)}function lc(f,p,w,S){var N=ra();S=S===void 0?null:S;var D=void 0;if(nn!==null){var j=nn.memoizedState;if(D=j.destroy,S!==null&&S0(S,j.deps)){N.memoizedState=F1(p,w,D,S);return}}Pr.flags|=f,N.memoizedState=F1(1|p,w,D,S)}function Dp(f,p){return uc(8390656,8,f,p)}function b0(f,p){return lc(2048,8,f,p)}function Mp(f,p){return lc(4,2,f,p)}function Pp(f,p){return lc(4,4,f,p)}function Bp(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function Lp(f,p,w){return w=w!=null?w.concat([f]):null,lc(4,4,Bp.bind(null,p,f),w)}function R0(){}function Fp(f,p){var w=ra();p=p===void 0?null:p;var S=w.memoizedState;return S!==null&&p!==null&&S0(p,S[1])?S[0]:(w.memoizedState=[f,p],f)}function kp(f,p){var w=ra();p=p===void 0?null:p;var S=w.memoizedState;return S!==null&&p!==null&&S0(p,S[1])?S[0]:(f=f(),w.memoizedState=[f,p],f)}function Up(f,p,w){return Bs&21?(ne(w,p)||(w=Jr(),Pr.lanes|=w,Ls|=w,f.baseState=!0),p):(f.baseState&&(f.baseState=!1,mi=!0),f.memoizedState=w)}function iw(f,p){var w=vt;vt=w!==0&&4>w?w:4,f(!0);var S=_0.transition;_0.transition={};try{f(!1),p()}finally{vt=w,_0.transition=S}}function jp(){return ra().memoizedState}function aw(f,p,w){var S=$o(f);if(w={lane:S,action:w,hasEagerState:!1,eagerState:null,next:null},Hp(f))Vp(p,w);else if(w=yp(f,p,w,S),w!==null){var N=oi();wa(w,f,S,N),zp(w,p,S)}}function ow(f,p,w){var S=$o(f),N={lane:S,action:w,hasEagerState:!1,eagerState:null,next:null};if(Hp(f))Vp(p,N);else{var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=p.lastRenderedReducer,D!==null))try{var j=p.lastRenderedState,Z=D(j,w);if(N.hasEagerState=!0,N.eagerState=Z,ne(Z,j)){var J=p.interleaved;J===null?(N.next=N,y0(p)):(N.next=J.next,J.next=N),p.interleaved=N;return}}catch{}finally{}w=yp(f,p,N,S),w!==null&&(N=oi(),wa(w,f,S,N),zp(w,p,S))}}function Hp(f){var p=f.alternate;return f===Pr||p!==null&&p===Pr}function Vp(f,p){P1=sc=!0;var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}function zp(f,p,w){if(w&4194240){var S=p.lanes;S&=f.pendingLanes,w|=S,p.lanes=w,Fr(f,w)}}var cc={readContext:ta,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},sw={readContext:ta,useCallback:function(f,p){return Ga().memoizedState=[f,p===void 0?null:p],f},useContext:ta,useEffect:Dp,useImperativeHandle:function(f,p,w){return w=w!=null?w.concat([f]):null,uc(4194308,4,Bp.bind(null,p,f),w)},useLayoutEffect:function(f,p){return uc(4194308,4,f,p)},useInsertionEffect:function(f,p){return uc(4,2,f,p)},useMemo:function(f,p){var w=Ga();return p=p===void 0?null:p,f=f(),w.memoizedState=[f,p],f},useReducer:function(f,p,w){var S=Ga();return p=w!==void 0?w(p):p,S.memoizedState=S.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},S.queue=f,f=f.dispatch=aw.bind(null,Pr,f),[S.memoizedState,f]},useRef:function(f){var p=Ga();return f={current:f},p.memoizedState=f},useState:bp,useDebugValue:R0,useDeferredValue:function(f){return Ga().memoizedState=f},useTransition:function(){var f=bp(!1),p=f[0];return f=iw.bind(null,f[1]),Ga().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,w){var S=Pr,N=Ga();if(Or){if(w===void 0)throw Error(t(407));w=w()}else{if(w=p(),En===null)throw Error(t(349));Bs&30||Sp(S,p,w)}N.memoizedState=w;var D={value:w,getSnapshot:p};return N.queue=D,Dp(Tp.bind(null,S,D,f),[f]),S.flags|=2048,F1(9,Ip.bind(null,S,D,w,p),void 0,null),w},useId:function(){var f=Ga(),p=En.identifierPrefix;if(Or){var w=fo,S=co;w=(S&~(1<<32-ii(S)-1)).toString(32)+w,p=":"+p+"R"+w,w=B1++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=nw++,p=":"+p+"r"+w.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},uw={readContext:ta,useCallback:Fp,useContext:ta,useEffect:b0,useImperativeHandle:Lp,useInsertionEffect:Mp,useLayoutEffect:Pp,useMemo:kp,useReducer:O0,useRef:Rp,useState:function(){return O0(L1)},useDebugValue:R0,useDeferredValue:function(f){var p=ra();return Up(p,nn.memoizedState,f)},useTransition:function(){var f=O0(L1)[0],p=ra().memoizedState;return[f,p]},useMutableSource:Cp,useSyncExternalStore:_p,useId:jp,unstable_isNewReconciler:!1},lw={readContext:ta,useCallback:Fp,useContext:ta,useEffect:b0,useImperativeHandle:Lp,useInsertionEffect:Mp,useLayoutEffect:Pp,useMemo:kp,useReducer:N0,useRef:Rp,useState:function(){return N0(L1)},useDebugValue:R0,useDeferredValue:function(f){var p=ra();return nn===null?p.memoizedState=f:Up(p,nn.memoizedState,f)},useTransition:function(){var f=N0(L1)[0],p=ra().memoizedState;return[f,p]},useMutableSource:Cp,useSyncExternalStore:_p,useId:jp,unstable_isNewReconciler:!1};function xa(f,p){if(f&&f.defaultProps){p=Le({},p),f=f.defaultProps;for(var w in f)p[w]===void 0&&(p[w]=f[w]);return p}return p}function D0(f,p,w,S){p=f.memoizedState,w=w(S,p),w=w==null?p:Le({},p,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var fc={isMounted:function(f){return(f=f._reactInternals)?vi(f)===f:!1},enqueueSetState:function(f,p,w){f=f._reactInternals;var S=oi(),N=$o(f),D=po(S,N);D.payload=p,w!=null&&(D.callback=w),p=Go(f,D,N),p!==null&&(wa(p,f,N,S),nc(p,f,N))},enqueueReplaceState:function(f,p,w){f=f._reactInternals;var S=oi(),N=$o(f),D=po(S,N);D.tag=1,D.payload=p,w!=null&&(D.callback=w),p=Go(f,D,N),p!==null&&(wa(p,f,N,S),nc(p,f,N))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var w=oi(),S=$o(f),N=po(w,S);N.tag=2,p!=null&&(N.callback=p),p=Go(f,N,S),p!==null&&(wa(p,f,S,w),nc(p,f,S))}};function Gp(f,p,w,S,N,D,j){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(S,D,j):p.prototype&&p.prototype.isPureReactComponent?!fe(w,S)||!fe(N,D):!0}function Wp(f,p,w){var S=!1,N=Ho,D=p.contextType;return typeof D=="object"&&D!==null?D=ta(D):(N=yi(p)?bs:$n.current,S=p.contextTypes,D=(S=S!=null)?wu(f,N):Ho),p=new p(w,D),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=fc,f.stateNode=p,p._reactInternals=f,S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=N,f.__reactInternalMemoizedMaskedChildContext=D),p}function Xp(f,p,w,S){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,S),p.state!==f&&fc.enqueueReplaceState(p,p.state,null)}function M0(f,p,w,S){var N=f.stateNode;N.props=w,N.state=f.memoizedState,N.refs={},m0(f);var D=p.contextType;typeof D=="object"&&D!==null?N.context=ta(D):(D=yi(p)?bs:$n.current,N.context=wu(f,D)),N.state=f.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(D0(f,p,D,w),N.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(p=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),p!==N.state&&fc.enqueueReplaceState(N,N.state,null),ic(f,w,N,S),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308)}function Ou(f,p){try{var w="",S=p;do w+=Ot(S),S=S.return;while(S);var N=w}catch(D){N=`
Error generating stack: `+D.message+`
`+D.stack}return{value:f,source:p,stack:N,digest:null}}function P0(f,p,w){return{value:f,source:null,stack:w??null,digest:p??null}}function B0(f,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var cw=typeof WeakMap=="function"?WeakMap:Map;function Yp(f,p,w){w=po(-1,w),w.tag=3,w.payload={element:null};var S=p.value;return w.callback=function(){yc||(yc=!0,K0=S),B0(f,p)},w}function $p(f,p,w){w=po(-1,w),w.tag=3;var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var N=p.value;w.payload=function(){return S(N)},w.callback=function(){B0(f,p)}}var D=f.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(w.callback=function(){B0(f,p),typeof S!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})}),w}function Zp(f,p,w){var S=f.pingCache;if(S===null){S=f.pingCache=new cw;var N=new Set;S.set(p,N)}else N=S.get(p),N===void 0&&(N=new Set,S.set(p,N));N.has(w)||(N.add(w),f=_w.bind(null,f,p,w),p.then(f,f))}function Kp(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function Qp(f,p,w,S,N){return f.mode&1?(f.flags|=65536,f.lanes=N,f):(f===p?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=po(-1,1),p.tag=2,Go(w,p,1))),w.lanes|=1),f)}var fw=k.ReactCurrentOwner,mi=!1;function ai(f,p,w,S){p.child=f===null?xp(p,null,w,S):_u(p,f.child,w,S)}function qp(f,p,w,S,N){w=w.render;var D=p.ref;return Iu(p,N),S=I0(f,p,w,S,D,N),w=T0(),f!==null&&!mi?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~N,go(f,p,N)):(Or&&w&&l0(p),p.flags|=1,ai(f,p,S,N),p.child)}function Jp(f,p,w,S,N){if(f===null){var D=w.type;return typeof D=="function"&&!nd(D)&&D.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=D,eg(f,p,D,S,N)):(f=_c(w.type,null,S,p,p.mode,N),f.ref=p.ref,f.return=p,p.child=f)}if(D=f.child,!(f.lanes&N)){var j=D.memoizedProps;if(w=w.compare,w=w!==null?w:fe,w(j,S)&&f.ref===p.ref)return go(f,p,N)}return p.flags|=1,f=Ko(D,S),f.ref=p.ref,f.return=p,p.child=f}function eg(f,p,w,S,N){if(f!==null){var D=f.memoizedProps;if(fe(D,S)&&f.ref===p.ref)if(mi=!1,p.pendingProps=S=D,(f.lanes&N)!==0)f.flags&131072&&(mi=!0);else return p.lanes=f.lanes,go(f,p,N)}return L0(f,p,w,S,N)}function tg(f,p,w){var S=p.pendingProps,N=S.children,D=f!==null?f.memoizedState:null;if(S.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(bu,Hi),Hi|=w;else{if(!(w&1073741824))return f=D!==null?D.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,vr(bu,Hi),Hi|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=D!==null?D.baseLanes:w,vr(bu,Hi),Hi|=S}else D!==null?(S=D.baseLanes|w,p.memoizedState=null):S=w,vr(bu,Hi),Hi|=S;return ai(f,p,N,w),p.child}function rg(f,p){var w=p.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function L0(f,p,w,S,N){var D=yi(w)?bs:$n.current;return D=wu(p,D),Iu(p,N),w=I0(f,p,w,S,D,N),S=T0(),f!==null&&!mi?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~N,go(f,p,N)):(Or&&S&&l0(p),p.flags|=1,ai(f,p,w,N),p.child)}function ng(f,p,w,S,N){if(yi(w)){var D=!0;Zl(p)}else D=!1;if(Iu(p,N),p.stateNode===null)hc(f,p),Wp(p,w,S),M0(p,w,S,N),S=!0;else if(f===null){var j=p.stateNode,Z=p.memoizedProps;j.props=Z;var J=j.context,he=w.contextType;typeof he=="object"&&he!==null?he=ta(he):(he=yi(w)?bs:$n.current,he=wu(p,he));var _e=w.getDerivedStateFromProps,Se=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function";Se||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Z!==S||J!==he)&&Xp(p,j,S,he),zo=!1;var Ae=p.memoizedState;j.state=Ae,ic(p,S,j,N),J=p.memoizedState,Z!==S||Ae!==J||xi.current||zo?(typeof _e=="function"&&(D0(p,w,_e,S),J=p.memoizedState),(Z=zo||Gp(p,w,Z,S,Ae,J,he))?(Se||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(p.flags|=4194308)):(typeof j.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=J),j.props=S,j.state=J,j.context=he,S=Z):(typeof j.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{j=p.stateNode,mp(f,p),Z=p.memoizedProps,he=p.type===p.elementType?Z:xa(p.type,Z),j.props=he,Se=p.pendingProps,Ae=j.context,J=w.contextType,typeof J=="object"&&J!==null?J=ta(J):(J=yi(w)?bs:$n.current,J=wu(p,J));var Ue=w.getDerivedStateFromProps;(_e=typeof Ue=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Z!==Se||Ae!==J)&&Xp(p,j,S,J),zo=!1,Ae=p.memoizedState,j.state=Ae,ic(p,S,j,N);var ze=p.memoizedState;Z!==Se||Ae!==ze||xi.current||zo?(typeof Ue=="function"&&(D0(p,w,Ue,S),ze=p.memoizedState),(he=zo||Gp(p,w,he,S,Ae,ze,J)||!1)?(_e||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(S,ze,J),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(S,ze,J)),typeof j.componentDidUpdate=="function"&&(p.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof j.componentDidUpdate!="function"||Z===f.memoizedProps&&Ae===f.memoizedState||(p.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Z===f.memoizedProps&&Ae===f.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=ze),j.props=S,j.state=ze,j.context=J,S=he):(typeof j.componentDidUpdate!="function"||Z===f.memoizedProps&&Ae===f.memoizedState||(p.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Z===f.memoizedProps&&Ae===f.memoizedState||(p.flags|=1024),S=!1)}return F0(f,p,w,S,D,N)}function F0(f,p,w,S,N,D){rg(f,p);var j=(p.flags&128)!==0;if(!S&&!j)return N&&up(p,w,!1),go(f,p,D);S=p.stateNode,fw.current=p;var Z=j&&typeof w.getDerivedStateFromError!="function"?null:S.render();return p.flags|=1,f!==null&&j?(p.child=_u(p,f.child,null,D),p.child=_u(p,null,Z,D)):ai(f,p,Z,D),p.memoizedState=S.state,N&&up(p,w,!0),p.child}function ig(f){var p=f.stateNode;p.pendingContext?op(f,p.pendingContext,p.pendingContext!==p.context):p.context&&op(f,p.context,!1),w0(f,p.containerInfo)}function ag(f,p,w,S,N){return Cu(),h0(N),p.flags|=256,ai(f,p,w,S),p.child}var k0={dehydrated:null,treeContext:null,retryLane:0};function U0(f){return{baseLanes:f,cachePool:null,transitions:null}}function og(f,p,w){var S=p.pendingProps,N=Mr.current,D=!1,j=(p.flags&128)!==0,Z;if((Z=j)||(Z=f!==null&&f.memoizedState===null?!1:(N&2)!==0),Z?(D=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(N|=1),vr(Mr,N&1),f===null)return d0(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?f.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(j=S.children,f=S.fallback,D?(S=p.mode,D=p.child,j={mode:"hidden",children:j},!(S&1)&&D!==null?(D.childLanes=0,D.pendingProps=j):D=Sc(j,S,0,null),f=js(f,S,w,null),D.return=p,f.return=p,D.sibling=f,p.child=D,p.child.memoizedState=U0(w),p.memoizedState=k0,f):j0(p,j));if(N=f.memoizedState,N!==null&&(Z=N.dehydrated,Z!==null))return dw(f,p,j,S,Z,N,w);if(D){D=S.fallback,j=p.mode,N=f.child,Z=N.sibling;var J={mode:"hidden",children:S.children};return!(j&1)&&p.child!==N?(S=p.child,S.childLanes=0,S.pendingProps=J,p.deletions=null):(S=Ko(N,J),S.subtreeFlags=N.subtreeFlags&14680064),Z!==null?D=Ko(Z,D):(D=js(D,j,w,null),D.flags|=2),D.return=p,S.return=p,S.sibling=D,p.child=S,S=D,D=p.child,j=f.child.memoizedState,j=j===null?U0(w):{baseLanes:j.baseLanes|w,cachePool:null,transitions:j.transitions},D.memoizedState=j,D.childLanes=f.childLanes&~w,p.memoizedState=k0,S}return D=f.child,f=D.sibling,S=Ko(D,{mode:"visible",children:S.children}),!(p.mode&1)&&(S.lanes=w),S.return=p,S.sibling=null,f!==null&&(w=p.deletions,w===null?(p.deletions=[f],p.flags|=16):w.push(f)),p.child=S,p.memoizedState=null,S}function j0(f,p){return p=Sc({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function dc(f,p,w,S){return S!==null&&h0(S),_u(p,f.child,null,w),f=j0(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function dw(f,p,w,S,N,D,j){if(w)return p.flags&256?(p.flags&=-257,S=P0(Error(t(422))),dc(f,p,j,S)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(D=S.fallback,N=p.mode,S=Sc({mode:"visible",children:S.children},N,0,null),D=js(D,N,j,null),D.flags|=2,S.return=p,D.return=p,S.sibling=D,p.child=S,p.mode&1&&_u(p,f.child,null,j),p.child.memoizedState=U0(j),p.memoizedState=k0,D);if(!(p.mode&1))return dc(f,p,j,null);if(N.data==="$!"){if(S=N.nextSibling&&N.nextSibling.dataset,S)var Z=S.dgst;return S=Z,D=Error(t(419)),S=P0(D,S,void 0),dc(f,p,j,S)}if(Z=(j&f.childLanes)!==0,mi||Z){if(S=En,S!==null){switch(j&-j){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=N&(S.suspendedLanes|j)?0:N,N!==0&&N!==D.retryLane&&(D.retryLane=N,ho(f,N),wa(S,f,N,-1))}return rd(),S=P0(Error(t(421))),dc(f,p,j,S)}return N.data==="$?"?(p.flags|=128,p.child=f.child,p=Sw.bind(null,f),N._reactRetry=p,null):(f=D.treeContext,ji=Uo(N.nextSibling),Ui=p,Or=!0,va=null,f!==null&&(Ji[ea++]=co,Ji[ea++]=fo,Ji[ea++]=Rs,co=f.id,fo=f.overflow,Rs=p),p=j0(p,S.children),p.flags|=4096,p)}function sg(f,p,w){f.lanes|=p;var S=f.alternate;S!==null&&(S.lanes|=p),x0(f.return,p,w)}function H0(f,p,w,S,N){var D=f.memoizedState;D===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:w,tailMode:N}:(D.isBackwards=p,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=w,D.tailMode=N)}function ug(f,p,w){var S=p.pendingProps,N=S.revealOrder,D=S.tail;if(ai(f,p,S.children,w),S=Mr.current,S&2)S=S&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&sg(f,w,p);else if(f.tag===19)sg(f,w,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}S&=1}if(vr(Mr,S),!(p.mode&1))p.memoizedState=null;else switch(N){case"forwards":for(w=p.child,N=null;w!==null;)f=w.alternate,f!==null&&ac(f)===null&&(N=w),w=w.sibling;w=N,w===null?(N=p.child,p.child=null):(N=w.sibling,w.sibling=null),H0(p,!1,N,w,D);break;case"backwards":for(w=null,N=p.child,p.child=null;N!==null;){if(f=N.alternate,f!==null&&ac(f)===null){p.child=N;break}f=N.sibling,N.sibling=w,w=N,N=f}H0(p,!0,w,null,D);break;case"together":H0(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function hc(f,p){!(p.mode&1)&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function go(f,p,w){if(f!==null&&(p.dependencies=f.dependencies),Ls|=p.lanes,!(w&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(t(153));if(p.child!==null){for(f=p.child,w=Ko(f,f.pendingProps),p.child=w,w.return=p;f.sibling!==null;)f=f.sibling,w=w.sibling=Ko(f,f.pendingProps),w.return=p;w.sibling=null}return p.child}function hw(f,p,w){switch(p.tag){case 3:ig(p),Cu();break;case 5:Ep(p);break;case 1:yi(p.type)&&Zl(p);break;case 4:w0(p,p.stateNode.containerInfo);break;case 10:var S=p.type._context,N=p.memoizedProps.value;vr(tc,S._currentValue),S._currentValue=N;break;case 13:if(S=p.memoizedState,S!==null)return S.dehydrated!==null?(vr(Mr,Mr.current&1),p.flags|=128,null):w&p.child.childLanes?og(f,p,w):(vr(Mr,Mr.current&1),f=go(f,p,w),f!==null?f.sibling:null);vr(Mr,Mr.current&1);break;case 19:if(S=(w&p.childLanes)!==0,f.flags&128){if(S)return ug(f,p,w);p.flags|=128}if(N=p.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),vr(Mr,Mr.current),S)break;return null;case 22:case 23:return p.lanes=0,tg(f,p,w)}return go(f,p,w)}var lg,V0,cg,fg;lg=function(f,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},V0=function(){},cg=function(f,p,w,S){var N=f.memoizedProps;if(N!==S){f=p.stateNode,Ps(za.current);var D=null;switch(w){case"input":N=Ba(f,N),S=Ba(f,S),D=[];break;case"select":N=Le({},N,{value:void 0}),S=Le({},S,{value:void 0}),D=[];break;case"textarea":N=So(f,N),S=So(f,S),D=[];break;default:typeof N.onClick!="function"&&typeof S.onClick=="function"&&(f.onclick=Xl)}Vt(w,S);var j;w=null;for(he in N)if(!S.hasOwnProperty(he)&&N.hasOwnProperty(he)&&N[he]!=null)if(he==="style"){var Z=N[he];for(j in Z)Z.hasOwnProperty(j)&&(w||(w={}),w[j]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?D||(D=[]):(D=D||[]).push(he,null));for(he in S){var J=S[he];if(Z=N!=null?N[he]:void 0,S.hasOwnProperty(he)&&J!==Z&&(J!=null||Z!=null))if(he==="style")if(Z){for(j in Z)!Z.hasOwnProperty(j)||J&&J.hasOwnProperty(j)||(w||(w={}),w[j]="");for(j in J)J.hasOwnProperty(j)&&Z[j]!==J[j]&&(w||(w={}),w[j]=J[j])}else w||(D||(D=[]),D.push(he,w)),w=J;else he==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Z=Z?Z.__html:void 0,J!=null&&Z!==J&&(D=D||[]).push(he,J)):he==="children"?typeof J!="string"&&typeof J!="number"||(D=D||[]).push(he,""+J):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(J!=null&&he==="onScroll"&&mr("scroll",f),D||Z===J||(D=[])):(D=D||[]).push(he,J))}w&&(D=D||[]).push("style",w);var he=D;(p.updateQueue=he)&&(p.flags|=4)}},fg=function(f,p,w,S){w!==S&&(p.flags|=4)};function k1(f,p){if(!Or)switch(f.tailMode){case"hidden":p=f.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var S=null;w!==null;)w.alternate!==null&&(S=w),w=w.sibling;S===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:S.sibling=null}}function Kn(f){var p=f.alternate!==null&&f.alternate.child===f.child,w=0,S=0;if(p)for(var N=f.child;N!==null;)w|=N.lanes|N.childLanes,S|=N.subtreeFlags&14680064,S|=N.flags&14680064,N.return=f,N=N.sibling;else for(N=f.child;N!==null;)w|=N.lanes|N.childLanes,S|=N.subtreeFlags,S|=N.flags,N.return=f,N=N.sibling;return f.subtreeFlags|=S,f.childLanes=w,p}function pw(f,p,w){var S=p.pendingProps;switch(c0(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(p),null;case 1:return yi(p.type)&&$l(),Kn(p),null;case 3:return S=p.stateNode,Tu(),wr(xi),wr($n),C0(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(Jl(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,va!==null&&(J0(va),va=null))),V0(f,p),Kn(p),null;case 5:A0(p);var N=Ps(M1.current);if(w=p.type,f!==null&&p.stateNode!=null)cg(f,p,w,S,N),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!S){if(p.stateNode===null)throw Error(t(166));return Kn(p),null}if(f=Ps(za.current),Jl(p)){S=p.stateNode,w=p.type;var D=p.memoizedProps;switch(S[Va]=p,S[O1]=D,f=(p.mode&1)!==0,w){case"dialog":mr("cancel",S),mr("close",S);break;case"iframe":case"object":case"embed":mr("load",S);break;case"video":case"audio":for(N=0;N<S1.length;N++)mr(S1[N],S);break;case"source":mr("error",S);break;case"img":case"image":case"link":mr("error",S),mr("load",S);break;case"details":mr("toggle",S);break;case"input":bi(S,D),mr("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!D.multiple},mr("invalid",S);break;case"textarea":n1(S,D),mr("invalid",S)}Vt(w,D),N=null;for(var j in D)if(D.hasOwnProperty(j)){var Z=D[j];j==="children"?typeof Z=="string"?S.textContent!==Z&&(D.suppressHydrationWarning!==!0&&Wl(S.textContent,Z,f),N=["children",Z]):typeof Z=="number"&&S.textContent!==""+Z&&(D.suppressHydrationWarning!==!0&&Wl(S.textContent,Z,f),N=["children",""+Z]):i.hasOwnProperty(j)&&Z!=null&&j==="onScroll"&&mr("scroll",S)}switch(w){case"input":Qr(S),er(S,D,!0);break;case"textarea":Qr(S),iu(S);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(S.onclick=Xl)}S=N,p.updateQueue=S,S!==null&&(p.flags|=4)}else{j=N.nodeType===9?N:N.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=hi(w)),f==="http://www.w3.org/1999/xhtml"?w==="script"?(f=j.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof S.is=="string"?f=j.createElement(w,{is:S.is}):(f=j.createElement(w),w==="select"&&(j=f,S.multiple?j.multiple=!0:S.size&&(j.size=S.size))):f=j.createElementNS(f,w),f[Va]=p,f[O1]=S,lg(f,p,!1,!1),p.stateNode=f;e:{switch(j=dr(w,S),w){case"dialog":mr("cancel",f),mr("close",f),N=S;break;case"iframe":case"object":case"embed":mr("load",f),N=S;break;case"video":case"audio":for(N=0;N<S1.length;N++)mr(S1[N],f);N=S;break;case"source":mr("error",f),N=S;break;case"img":case"image":case"link":mr("error",f),mr("load",f),N=S;break;case"details":mr("toggle",f),N=S;break;case"input":bi(f,S),N=Ba(f,S),mr("invalid",f);break;case"option":N=S;break;case"select":f._wrapperState={wasMultiple:!!S.multiple},N=Le({},S,{value:void 0}),mr("invalid",f);break;case"textarea":n1(f,S),N=So(f,S),mr("invalid",f);break;default:N=S}Vt(w,N),Z=N;for(D in Z)if(Z.hasOwnProperty(D)){var J=Z[D];D==="style"?De(f,J):D==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&yn(f,J)):D==="children"?typeof J=="string"?(w!=="textarea"||J!=="")&&Io(f,J):typeof J=="number"&&Io(f,""+J):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?J!=null&&D==="onScroll"&&mr("scroll",f):J!=null&&B(f,D,J,j))}switch(w){case"input":Qr(f),er(f,S,!1);break;case"textarea":Qr(f),iu(f);break;case"option":S.value!=null&&f.setAttribute("value",""+ut(S.value));break;case"select":f.multiple=!!S.multiple,D=S.value,D!=null?je(f,!!S.multiple,D,!1):S.defaultValue!=null&&je(f,!!S.multiple,S.defaultValue,!0);break;default:typeof N.onClick=="function"&&(f.onclick=Xl)}switch(w){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Kn(p),null;case 6:if(f&&p.stateNode!=null)fg(f,p,f.memoizedProps,S);else{if(typeof S!="string"&&p.stateNode===null)throw Error(t(166));if(w=Ps(M1.current),Ps(za.current),Jl(p)){if(S=p.stateNode,w=p.memoizedProps,S[Va]=p,(D=S.nodeValue!==w)&&(f=Ui,f!==null))switch(f.tag){case 3:Wl(S.nodeValue,w,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Wl(S.nodeValue,w,(f.mode&1)!==0)}D&&(p.flags|=4)}else S=(w.nodeType===9?w:w.ownerDocument).createTextNode(S),S[Va]=p,p.stateNode=S}return Kn(p),null;case 13:if(wr(Mr),S=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Or&&ji!==null&&p.mode&1&&!(p.flags&128))pp(),Cu(),p.flags|=98560,D=!1;else if(D=Jl(p),S!==null&&S.dehydrated!==null){if(f===null){if(!D)throw Error(t(318));if(D=p.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(t(317));D[Va]=p}else Cu(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Kn(p),D=!1}else va!==null&&(J0(va),va=null),D=!0;if(!D)return p.flags&65536?p:null}return p.flags&128?(p.lanes=w,p):(S=S!==null,S!==(f!==null&&f.memoizedState!==null)&&S&&(p.child.flags|=8192,p.mode&1&&(f===null||Mr.current&1?an===0&&(an=3):rd())),p.updateQueue!==null&&(p.flags|=4),Kn(p),null);case 4:return Tu(),V0(f,p),f===null&&I1(p.stateNode.containerInfo),Kn(p),null;case 10:return v0(p.type._context),Kn(p),null;case 17:return yi(p.type)&&$l(),Kn(p),null;case 19:if(wr(Mr),D=p.memoizedState,D===null)return Kn(p),null;if(S=(p.flags&128)!==0,j=D.rendering,j===null)if(S)k1(D,!1);else{if(an!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(j=ac(f),j!==null){for(p.flags|=128,k1(D,!1),S=j.updateQueue,S!==null&&(p.updateQueue=S,p.flags|=4),p.subtreeFlags=0,S=w,w=p.child;w!==null;)D=w,f=S,D.flags&=14680066,j=D.alternate,j===null?(D.childLanes=0,D.lanes=f,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=j.childLanes,D.lanes=j.lanes,D.child=j.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=j.memoizedProps,D.memoizedState=j.memoizedState,D.updateQueue=j.updateQueue,D.type=j.type,f=j.dependencies,D.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),w=w.sibling;return vr(Mr,Mr.current&1|2),p.child}f=f.sibling}D.tail!==null&&Kt()>Ru&&(p.flags|=128,S=!0,k1(D,!1),p.lanes=4194304)}else{if(!S)if(f=ac(j),f!==null){if(p.flags|=128,S=!0,w=f.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),k1(D,!0),D.tail===null&&D.tailMode==="hidden"&&!j.alternate&&!Or)return Kn(p),null}else 2*Kt()-D.renderingStartTime>Ru&&w!==1073741824&&(p.flags|=128,S=!0,k1(D,!1),p.lanes=4194304);D.isBackwards?(j.sibling=p.child,p.child=j):(w=D.last,w!==null?w.sibling=j:p.child=j,D.last=j)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=Kt(),p.sibling=null,w=Mr.current,vr(Mr,S?w&1|2:w&1),p):(Kn(p),null);case 22:case 23:return td(),S=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==S&&(p.flags|=8192),S&&p.mode&1?Hi&1073741824&&(Kn(p),p.subtreeFlags&6&&(p.flags|=8192)):Kn(p),null;case 24:return null;case 25:return null}throw Error(t(156,p.tag))}function gw(f,p){switch(c0(p),p.tag){case 1:return yi(p.type)&&$l(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Tu(),wr(xi),wr($n),C0(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return A0(p),null;case 13:if(wr(Mr),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(t(340));Cu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return wr(Mr),null;case 4:return Tu(),null;case 10:return v0(p.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var pc=!1,Qn=!1,vw=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Nu(f,p){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(S){Ur(f,p,S)}else w.current=null}function z0(f,p,w){try{w()}catch(S){Ur(f,p,S)}}var dg=!1;function xw(f,p){if(t0=ja,f=yt(),dt(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var S=w.getSelection&&w.getSelection();if(S&&S.rangeCount!==0){w=S.anchorNode;var N=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{w.nodeType,D.nodeType}catch{w=null;break e}var j=0,Z=-1,J=-1,he=0,_e=0,Se=f,Ae=null;t:for(;;){for(var Ue;Se!==w||N!==0&&Se.nodeType!==3||(Z=j+N),Se!==D||S!==0&&Se.nodeType!==3||(J=j+S),Se.nodeType===3&&(j+=Se.nodeValue.length),(Ue=Se.firstChild)!==null;)Ae=Se,Se=Ue;for(;;){if(Se===f)break t;if(Ae===w&&++he===N&&(Z=j),Ae===D&&++_e===S&&(J=j),(Ue=Se.nextSibling)!==null)break;Se=Ae,Ae=Se.parentNode}Se=Ue}w=Z===-1||J===-1?null:{start:Z,end:J}}else w=null}w=w||{start:0,end:0}}else w=null;for(r0={focusedElem:f,selectionRange:w},ja=!1,Ve=p;Ve!==null;)if(p=Ve,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Ve=f;else for(;Ve!==null;){p=Ve;try{var ze=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var Ge=ze.memoizedProps,Xr=ze.memoizedState,oe=p.stateNode,re=oe.getSnapshotBeforeUpdate(p.elementType===p.type?Ge:xa(p.type,Ge),Xr);oe.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ce=p.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ne){Ur(p,p.return,Ne)}if(f=p.sibling,f!==null){f.return=p.return,Ve=f;break}Ve=p.return}return ze=dg,dg=!1,ze}function U1(f,p,w){var S=p.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var N=S=S.next;do{if((N.tag&f)===f){var D=N.destroy;N.destroy=void 0,D!==void 0&&z0(p,w,D)}N=N.next}while(N!==S)}}function gc(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&f)===f){var S=w.create;w.destroy=S()}w=w.next}while(w!==p)}}function G0(f){var p=f.ref;if(p!==null){var w=f.stateNode;switch(f.tag){case 5:f=w;break;default:f=w}typeof p=="function"?p(f):p.current=f}}function hg(f){var p=f.alternate;p!==null&&(f.alternate=null,hg(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[Va],delete p[O1],delete p[o0],delete p[Jm],delete p[ew])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function pg(f){return f.tag===5||f.tag===3||f.tag===4}function gg(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||pg(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function W0(f,p,w){var S=f.tag;if(S===5||S===6)f=f.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(f,p):w.insertBefore(f,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(f,w)):(p=w,p.appendChild(f)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=Xl));else if(S!==4&&(f=f.child,f!==null))for(W0(f,p,w),f=f.sibling;f!==null;)W0(f,p,w),f=f.sibling}function X0(f,p,w){var S=f.tag;if(S===5||S===6)f=f.stateNode,p?w.insertBefore(f,p):w.appendChild(f);else if(S!==4&&(f=f.child,f!==null))for(X0(f,p,w),f=f.sibling;f!==null;)X0(f,p,w),f=f.sibling}var Ln=null,ya=!1;function Wo(f,p,w){for(w=w.child;w!==null;)vg(f,p,w),w=w.sibling}function vg(f,p,w){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Rt,w)}catch{}switch(w.tag){case 5:Qn||Nu(w,p);case 6:var S=Ln,N=ya;Ln=null,Wo(f,p,w),Ln=S,ya=N,Ln!==null&&(ya?(f=Ln,w=w.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)):Ln.removeChild(w.stateNode));break;case 18:Ln!==null&&(ya?(f=Ln,w=w.stateNode,f.nodeType===8?a0(f.parentNode,w):f.nodeType===1&&a0(f,w),ha(f)):a0(Ln,w.stateNode));break;case 4:S=Ln,N=ya,Ln=w.stateNode.containerInfo,ya=!0,Wo(f,p,w),Ln=S,ya=N;break;case 0:case 11:case 14:case 15:if(!Qn&&(S=w.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){N=S=S.next;do{var D=N,j=D.destroy;D=D.tag,j!==void 0&&(D&2||D&4)&&z0(w,p,j),N=N.next}while(N!==S)}Wo(f,p,w);break;case 1:if(!Qn&&(Nu(w,p),S=w.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=w.memoizedProps,S.state=w.memoizedState,S.componentWillUnmount()}catch(Z){Ur(w,p,Z)}Wo(f,p,w);break;case 21:Wo(f,p,w);break;case 22:w.mode&1?(Qn=(S=Qn)||w.memoizedState!==null,Wo(f,p,w),Qn=S):Wo(f,p,w);break;default:Wo(f,p,w)}}function xg(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new vw),p.forEach(function(S){var N=Iw.bind(null,f,S);w.has(S)||(w.add(S),S.then(N,N))})}}function ma(f,p){var w=p.deletions;if(w!==null)for(var S=0;S<w.length;S++){var N=w[S];try{var D=f,j=p,Z=j;e:for(;Z!==null;){switch(Z.tag){case 5:Ln=Z.stateNode,ya=!1;break e;case 3:Ln=Z.stateNode.containerInfo,ya=!0;break e;case 4:Ln=Z.stateNode.containerInfo,ya=!0;break e}Z=Z.return}if(Ln===null)throw Error(t(160));vg(D,j,N),Ln=null,ya=!1;var J=N.alternate;J!==null&&(J.return=null),N.return=null}catch(he){Ur(N,p,he)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)yg(p,f),p=p.sibling}function yg(f,p){var w=f.alternate,S=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(ma(p,f),Wa(f),S&4){try{U1(3,f,f.return),gc(3,f)}catch(Ge){Ur(f,f.return,Ge)}try{U1(5,f,f.return)}catch(Ge){Ur(f,f.return,Ge)}}break;case 1:ma(p,f),Wa(f),S&512&&w!==null&&Nu(w,w.return);break;case 5:if(ma(p,f),Wa(f),S&512&&w!==null&&Nu(w,w.return),f.flags&32){var N=f.stateNode;try{Io(N,"")}catch(Ge){Ur(f,f.return,Ge)}}if(S&4&&(N=f.stateNode,N!=null)){var D=f.memoizedProps,j=w!==null?w.memoizedProps:D,Z=f.type,J=f.updateQueue;if(f.updateQueue=null,J!==null)try{Z==="input"&&D.type==="radio"&&D.name!=null&&_o(N,D),dr(Z,j);var he=dr(Z,D);for(j=0;j<J.length;j+=2){var _e=J[j],Se=J[j+1];_e==="style"?De(N,Se):_e==="dangerouslySetInnerHTML"?yn(N,Se):_e==="children"?Io(N,Se):B(N,_e,Se,he)}switch(Z){case"input":Hr(N,D);break;case"textarea":Yi(N,D);break;case"select":var Ae=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!D.multiple;var Ue=D.value;Ue!=null?je(N,!!D.multiple,Ue,!1):Ae!==!!D.multiple&&(D.defaultValue!=null?je(N,!!D.multiple,D.defaultValue,!0):je(N,!!D.multiple,D.multiple?[]:"",!1))}N[O1]=D}catch(Ge){Ur(f,f.return,Ge)}}break;case 6:if(ma(p,f),Wa(f),S&4){if(f.stateNode===null)throw Error(t(162));N=f.stateNode,D=f.memoizedProps;try{N.nodeValue=D}catch(Ge){Ur(f,f.return,Ge)}}break;case 3:if(ma(p,f),Wa(f),S&4&&w!==null&&w.memoizedState.isDehydrated)try{ha(p.containerInfo)}catch(Ge){Ur(f,f.return,Ge)}break;case 4:ma(p,f),Wa(f);break;case 13:ma(p,f),Wa(f),N=f.child,N.flags&8192&&(D=N.memoizedState!==null,N.stateNode.isHidden=D,!D||N.alternate!==null&&N.alternate.memoizedState!==null||(Z0=Kt())),S&4&&xg(f);break;case 22:if(_e=w!==null&&w.memoizedState!==null,f.mode&1?(Qn=(he=Qn)||_e,ma(p,f),Qn=he):ma(p,f),Wa(f),S&8192){if(he=f.memoizedState!==null,(f.stateNode.isHidden=he)&&!_e&&f.mode&1)for(Ve=f,_e=f.child;_e!==null;){for(Se=Ve=_e;Ve!==null;){switch(Ae=Ve,Ue=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:U1(4,Ae,Ae.return);break;case 1:Nu(Ae,Ae.return);var ze=Ae.stateNode;if(typeof ze.componentWillUnmount=="function"){S=Ae,w=Ae.return;try{p=S,ze.props=p.memoizedProps,ze.state=p.memoizedState,ze.componentWillUnmount()}catch(Ge){Ur(S,w,Ge)}}break;case 5:Nu(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){Ag(Se);continue}}Ue!==null?(Ue.return=Ae,Ve=Ue):Ag(Se)}_e=_e.sibling}e:for(_e=null,Se=f;;){if(Se.tag===5){if(_e===null){_e=Se;try{N=Se.stateNode,he?(D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(Z=Se.stateNode,J=Se.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null,Z.style.display=Rr("display",j))}catch(Ge){Ur(f,f.return,Ge)}}}else if(Se.tag===6){if(_e===null)try{Se.stateNode.nodeValue=he?"":Se.memoizedProps}catch(Ge){Ur(f,f.return,Ge)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===f)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===f)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===f)break e;_e===Se&&(_e=null),Se=Se.return}_e===Se&&(_e=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:ma(p,f),Wa(f),S&4&&xg(f);break;case 21:break;default:ma(p,f),Wa(f)}}function Wa(f){var p=f.flags;if(p&2){try{e:{for(var w=f.return;w!==null;){if(pg(w)){var S=w;break e}w=w.return}throw Error(t(160))}switch(S.tag){case 5:var N=S.stateNode;S.flags&32&&(Io(N,""),S.flags&=-33);var D=gg(f);X0(f,D,N);break;case 3:case 4:var j=S.stateNode.containerInfo,Z=gg(f);W0(f,Z,j);break;default:throw Error(t(161))}}catch(J){Ur(f,f.return,J)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function yw(f,p,w){Ve=f,mg(f)}function mg(f,p,w){for(var S=(f.mode&1)!==0;Ve!==null;){var N=Ve,D=N.child;if(N.tag===22&&S){var j=N.memoizedState!==null||pc;if(!j){var Z=N.alternate,J=Z!==null&&Z.memoizedState!==null||Qn;Z=pc;var he=Qn;if(pc=j,(Qn=J)&&!he)for(Ve=N;Ve!==null;)j=Ve,J=j.child,j.tag===22&&j.memoizedState!==null?Eg(N):J!==null?(J.return=j,Ve=J):Eg(N);for(;D!==null;)Ve=D,mg(D),D=D.sibling;Ve=N,pc=Z,Qn=he}wg(f)}else N.subtreeFlags&8772&&D!==null?(D.return=N,Ve=D):wg(f)}}function wg(f){for(;Ve!==null;){var p=Ve;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Qn||gc(5,p);break;case 1:var S=p.stateNode;if(p.flags&4&&!Qn)if(w===null)S.componentDidMount();else{var N=p.elementType===p.type?w.memoizedProps:xa(p.type,w.memoizedProps);S.componentDidUpdate(N,w.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var D=p.updateQueue;D!==null&&Ap(p,D,S);break;case 3:var j=p.updateQueue;if(j!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}Ap(p,j,w)}break;case 5:var Z=p.stateNode;if(w===null&&p.flags&4){w=Z;var J=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&w.focus();break;case"img":J.src&&(w.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var he=p.alternate;if(he!==null){var _e=he.memoizedState;if(_e!==null){var Se=_e.dehydrated;Se!==null&&ha(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qn||p.flags&512&&G0(p)}catch(Ae){Ur(p,p.return,Ae)}}if(p===f){Ve=null;break}if(w=p.sibling,w!==null){w.return=p.return,Ve=w;break}Ve=p.return}}function Ag(f){for(;Ve!==null;){var p=Ve;if(p===f){Ve=null;break}var w=p.sibling;if(w!==null){w.return=p.return,Ve=w;break}Ve=p.return}}function Eg(f){for(;Ve!==null;){var p=Ve;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{gc(4,p)}catch(J){Ur(p,w,J)}break;case 1:var S=p.stateNode;if(typeof S.componentDidMount=="function"){var N=p.return;try{S.componentDidMount()}catch(J){Ur(p,N,J)}}var D=p.return;try{G0(p)}catch(J){Ur(p,D,J)}break;case 5:var j=p.return;try{G0(p)}catch(J){Ur(p,j,J)}}}catch(J){Ur(p,p.return,J)}if(p===f){Ve=null;break}var Z=p.sibling;if(Z!==null){Z.return=p.return,Ve=Z;break}Ve=p.return}}var mw=Math.ceil,vc=k.ReactCurrentDispatcher,Y0=k.ReactCurrentOwner,na=k.ReactCurrentBatchConfig,Bt=0,En=null,$r=null,Fn=0,Hi=0,bu=jo(0),an=0,j1=null,Ls=0,xc=0,$0=0,H1=null,wi=null,Z0=0,Ru=1/0,vo=null,yc=!1,K0=null,Xo=null,mc=!1,Yo=null,wc=0,V1=0,Q0=null,Ac=-1,Ec=0;function oi(){return Bt&6?Kt():Ac!==-1?Ac:Ac=Kt()}function $o(f){return f.mode&1?Bt&2&&Fn!==0?Fn&-Fn:rw.transition!==null?(Ec===0&&(Ec=Jr()),Ec):(f=vt,f!==0||(f=window.event,f=f===void 0?16:g1(f.type)),f):1}function wa(f,p,w,S){if(50<V1)throw V1=0,Q0=null,Error(t(185));G(f,w,S),(!(Bt&2)||f!==En)&&(f===En&&(!(Bt&2)&&(xc|=w),an===4&&Zo(f,Fn)),Ai(f,S),w===1&&Bt===0&&!(p.mode&1)&&(Ru=Kt()+500,Kl&&Vo()))}function Ai(f,p){var w=f.callbackNode;No(f,p);var S=Bi(f,f===En?Fn:0);if(S===0)w!==null&&mn(w),f.callbackNode=null,f.callbackPriority=0;else if(p=S&-S,f.callbackPriority!==p){if(w!=null&&mn(w),p===1)f.tag===0?tw(_g.bind(null,f)):lp(_g.bind(null,f)),Qm(function(){!(Bt&6)&&Vo()}),w=null;else{switch(Rl(S)){case 1:w=we;break;case 4:w=Nl;break;case 16:w=cr;break;case 536870912:w=bl;break;default:w=cr}w=Dg(w,Cg.bind(null,f))}f.callbackPriority=p,f.callbackNode=w}}function Cg(f,p){if(Ac=-1,Ec=0,Bt&6)throw Error(t(327));var w=f.callbackNode;if(Du()&&f.callbackNode!==w)return null;var S=Bi(f,f===En?Fn:0);if(S===0)return null;if(S&30||S&f.expiredLanes||p)p=Cc(f,S);else{p=S;var N=Bt;Bt|=2;var D=Ig();(En!==f||Fn!==p)&&(vo=null,Ru=Kt()+500,ks(f,p));do try{Ew();break}catch(Z){Sg(f,Z)}while(!0);g0(),vc.current=D,Bt=N,$r!==null?p=0:(En=null,Fn=0,p=an)}if(p!==0){if(p===2&&(N=Qt(f),N!==0&&(S=N,p=q0(f,N))),p===1)throw w=j1,ks(f,0),Zo(f,S),Ai(f,Kt()),w;if(p===6)Zo(f,S);else{if(N=f.current.alternate,!(S&30)&&!ww(N)&&(p=Cc(f,S),p===2&&(D=Qt(f),D!==0&&(S=D,p=q0(f,D))),p===1))throw w=j1,ks(f,0),Zo(f,S),Ai(f,Kt()),w;switch(f.finishedWork=N,f.finishedLanes=S,p){case 0:case 1:throw Error(t(345));case 2:Us(f,wi,vo);break;case 3:if(Zo(f,S),(S&130023424)===S&&(p=Z0+500-Kt(),10<p)){if(Bi(f,0)!==0)break;if(N=f.suspendedLanes,(N&S)!==S){oi(),f.pingedLanes|=f.suspendedLanes&N;break}f.timeoutHandle=i0(Us.bind(null,f,wi,vo),p);break}Us(f,wi,vo);break;case 4:if(Zo(f,S),(S&4194240)===S)break;for(p=f.eventTimes,N=-1;0<S;){var j=31-ii(S);D=1<<j,j=p[j],j>N&&(N=j),S&=~D}if(S=N,S=Kt()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*mw(S/1960))-S,10<S){f.timeoutHandle=i0(Us.bind(null,f,wi,vo),S);break}Us(f,wi,vo);break;case 5:Us(f,wi,vo);break;default:throw Error(t(329))}}}return Ai(f,Kt()),f.callbackNode===w?Cg.bind(null,f):null}function q0(f,p){var w=H1;return f.current.memoizedState.isDehydrated&&(ks(f,p).flags|=256),f=Cc(f,p),f!==2&&(p=wi,wi=w,p!==null&&J0(p)),f}function J0(f){wi===null?wi=f:wi.push.apply(wi,f)}function ww(f){for(var p=f;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var S=0;S<w.length;S++){var N=w[S],D=N.getSnapshot;N=N.value;try{if(!ne(D(),N))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Zo(f,p){for(p&=~$0,p&=~xc,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var w=31-ii(p),S=1<<w;f[w]=-1,p&=~S}}function _g(f){if(Bt&6)throw Error(t(327));Du();var p=Bi(f,0);if(!(p&1))return Ai(f,Kt()),null;var w=Cc(f,p);if(f.tag!==0&&w===2){var S=Qt(f);S!==0&&(p=S,w=q0(f,S))}if(w===1)throw w=j1,ks(f,0),Zo(f,p),Ai(f,Kt()),w;if(w===6)throw Error(t(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Us(f,wi,vo),Ai(f,Kt()),null}function ed(f,p){var w=Bt;Bt|=1;try{return f(p)}finally{Bt=w,Bt===0&&(Ru=Kt()+500,Kl&&Vo())}}function Fs(f){Yo!==null&&Yo.tag===0&&!(Bt&6)&&Du();var p=Bt;Bt|=1;var w=na.transition,S=vt;try{if(na.transition=null,vt=1,f)return f()}finally{vt=S,na.transition=w,Bt=p,!(Bt&6)&&Vo()}}function td(){Hi=bu.current,wr(bu)}function ks(f,p){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==-1&&(f.timeoutHandle=-1,Km(w)),$r!==null)for(w=$r.return;w!==null;){var S=w;switch(c0(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&$l();break;case 3:Tu(),wr(xi),wr($n),C0();break;case 5:A0(S);break;case 4:Tu();break;case 13:wr(Mr);break;case 19:wr(Mr);break;case 10:v0(S.type._context);break;case 22:case 23:td()}w=w.return}if(En=f,$r=f=Ko(f.current,null),Fn=Hi=p,an=0,j1=null,$0=xc=Ls=0,wi=H1=null,Ms!==null){for(p=0;p<Ms.length;p++)if(w=Ms[p],S=w.interleaved,S!==null){w.interleaved=null;var N=S.next,D=w.pending;if(D!==null){var j=D.next;D.next=N,S.next=j}w.pending=S}Ms=null}return f}function Sg(f,p){do{var w=$r;try{if(g0(),oc.current=cc,sc){for(var S=Pr.memoizedState;S!==null;){var N=S.queue;N!==null&&(N.pending=null),S=S.next}sc=!1}if(Bs=0,An=nn=Pr=null,P1=!1,B1=0,Y0.current=null,w===null||w.return===null){an=1,j1=p,$r=null;break}e:{var D=f,j=w.return,Z=w,J=p;if(p=Fn,Z.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var he=J,_e=Z,Se=_e.tag;if(!(_e.mode&1)&&(Se===0||Se===11||Se===15)){var Ae=_e.alternate;Ae?(_e.updateQueue=Ae.updateQueue,_e.memoizedState=Ae.memoizedState,_e.lanes=Ae.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Ue=Kp(j);if(Ue!==null){Ue.flags&=-257,Qp(Ue,j,Z,D,p),Ue.mode&1&&Zp(D,he,p),p=Ue,J=he;var ze=p.updateQueue;if(ze===null){var Ge=new Set;Ge.add(J),p.updateQueue=Ge}else ze.add(J);break e}else{if(!(p&1)){Zp(D,he,p),rd();break e}J=Error(t(426))}}else if(Or&&Z.mode&1){var Xr=Kp(j);if(Xr!==null){!(Xr.flags&65536)&&(Xr.flags|=256),Qp(Xr,j,Z,D,p),h0(Ou(J,Z));break e}}D=J=Ou(J,Z),an!==4&&(an=2),H1===null?H1=[D]:H1.push(D),D=j;do{switch(D.tag){case 3:D.flags|=65536,p&=-p,D.lanes|=p;var oe=Yp(D,J,p);wp(D,oe);break e;case 1:Z=J;var re=D.type,ce=D.stateNode;if(!(D.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Xo===null||!Xo.has(ce)))){D.flags|=65536,p&=-p,D.lanes|=p;var Ne=$p(D,Z,p);wp(D,Ne);break e}}D=D.return}while(D!==null)}Og(w)}catch($e){p=$e,$r===w&&w!==null&&($r=w=w.return);continue}break}while(!0)}function Ig(){var f=vc.current;return vc.current=cc,f===null?cc:f}function rd(){(an===0||an===3||an===2)&&(an=4),En===null||!(Ls&268435455)&&!(xc&268435455)||Zo(En,Fn)}function Cc(f,p){var w=Bt;Bt|=2;var S=Ig();(En!==f||Fn!==p)&&(vo=null,ks(f,p));do try{Aw();break}catch(N){Sg(f,N)}while(!0);if(g0(),Bt=w,vc.current=S,$r!==null)throw Error(t(261));return En=null,Fn=0,an}function Aw(){for(;$r!==null;)Tg($r)}function Ew(){for(;$r!==null&&!hr();)Tg($r)}function Tg(f){var p=Rg(f.alternate,f,Hi);f.memoizedProps=f.pendingProps,p===null?Og(f):$r=p,Y0.current=null}function Og(f){var p=f;do{var w=p.alternate;if(f=p.return,p.flags&32768){if(w=gw(w,p),w!==null){w.flags&=32767,$r=w;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{an=6,$r=null;return}}else if(w=pw(w,p,Hi),w!==null){$r=w;return}if(p=p.sibling,p!==null){$r=p;return}$r=p=f}while(p!==null);an===0&&(an=5)}function Us(f,p,w){var S=vt,N=na.transition;try{na.transition=null,vt=1,Cw(f,p,w,S)}finally{na.transition=N,vt=S}return null}function Cw(f,p,w,S){do Du();while(Yo!==null);if(Bt&6)throw Error(t(327));w=f.finishedWork;var N=f.finishedLanes;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(t(177));f.callbackNode=null,f.callbackPriority=0;var D=w.lanes|w.childLanes;if(Ke(f,D),f===En&&($r=En=null,Fn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||mc||(mc=!0,Dg(cr,function(){return Du(),null})),D=(w.flags&15990)!==0,w.subtreeFlags&15990||D){D=na.transition,na.transition=null;var j=vt;vt=1;var Z=Bt;Bt|=4,Y0.current=null,xw(f,w),yg(w,f),Yn(r0),ja=!!t0,r0=t0=null,f.current=w,yw(w),Ol(),Bt=Z,vt=j,na.transition=D}else f.current=w;if(mc&&(mc=!1,Yo=f,wc=N),D=f.pendingLanes,D===0&&(Xo=null),It(w.stateNode),Ai(f,Kt()),p!==null)for(S=f.onRecoverableError,w=0;w<p.length;w++)N=p[w],S(N.value,{componentStack:N.stack,digest:N.digest});if(yc)throw yc=!1,f=K0,K0=null,f;return wc&1&&f.tag!==0&&Du(),D=f.pendingLanes,D&1?f===Q0?V1++:(V1=0,Q0=f):V1=0,Vo(),null}function Du(){if(Yo!==null){var f=Rl(wc),p=na.transition,w=vt;try{if(na.transition=null,vt=16>f?16:f,Yo===null)var S=!1;else{if(f=Yo,Yo=null,wc=0,Bt&6)throw Error(t(331));var N=Bt;for(Bt|=4,Ve=f.current;Ve!==null;){var D=Ve,j=D.child;if(Ve.flags&16){var Z=D.deletions;if(Z!==null){for(var J=0;J<Z.length;J++){var he=Z[J];for(Ve=he;Ve!==null;){var _e=Ve;switch(_e.tag){case 0:case 11:case 15:U1(8,_e,D)}var Se=_e.child;if(Se!==null)Se.return=_e,Ve=Se;else for(;Ve!==null;){_e=Ve;var Ae=_e.sibling,Ue=_e.return;if(hg(_e),_e===he){Ve=null;break}if(Ae!==null){Ae.return=Ue,Ve=Ae;break}Ve=Ue}}}var ze=D.alternate;if(ze!==null){var Ge=ze.child;if(Ge!==null){ze.child=null;do{var Xr=Ge.sibling;Ge.sibling=null,Ge=Xr}while(Ge!==null)}}Ve=D}}if(D.subtreeFlags&2064&&j!==null)j.return=D,Ve=j;else e:for(;Ve!==null;){if(D=Ve,D.flags&2048)switch(D.tag){case 0:case 11:case 15:U1(9,D,D.return)}var oe=D.sibling;if(oe!==null){oe.return=D.return,Ve=oe;break e}Ve=D.return}}var re=f.current;for(Ve=re;Ve!==null;){j=Ve;var ce=j.child;if(j.subtreeFlags&2064&&ce!==null)ce.return=j,Ve=ce;else e:for(j=re;Ve!==null;){if(Z=Ve,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:gc(9,Z)}}catch($e){Ur(Z,Z.return,$e)}if(Z===j){Ve=null;break e}var Ne=Z.sibling;if(Ne!==null){Ne.return=Z.return,Ve=Ne;break e}Ve=Z.return}}if(Bt=N,Vo(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Rt,f)}catch{}S=!0}return S}finally{vt=w,na.transition=p}}return!1}function Ng(f,p,w){p=Ou(w,p),p=Yp(f,p,1),f=Go(f,p,1),p=oi(),f!==null&&(G(f,1,p),Ai(f,p))}function Ur(f,p,w){if(f.tag===3)Ng(f,f,w);else for(;p!==null;){if(p.tag===3){Ng(p,f,w);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Xo===null||!Xo.has(S))){f=Ou(w,f),f=$p(p,f,1),p=Go(p,f,1),f=oi(),p!==null&&(G(p,1,f),Ai(p,f));break}}p=p.return}}function _w(f,p,w){var S=f.pingCache;S!==null&&S.delete(p),p=oi(),f.pingedLanes|=f.suspendedLanes&w,En===f&&(Fn&w)===w&&(an===4||an===3&&(Fn&130023424)===Fn&&500>Kt()-Z0?ks(f,0):$0|=w),Ai(f,p)}function bg(f,p){p===0&&(f.mode&1?(p=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):p=1);var w=oi();f=ho(f,p),f!==null&&(G(f,p,w),Ai(f,w))}function Sw(f){var p=f.memoizedState,w=0;p!==null&&(w=p.retryLane),bg(f,w)}function Iw(f,p){var w=0;switch(f.tag){case 13:var S=f.stateNode,N=f.memoizedState;N!==null&&(w=N.retryLane);break;case 19:S=f.stateNode;break;default:throw Error(t(314))}S!==null&&S.delete(p),bg(f,w)}var Rg;Rg=function(f,p,w){if(f!==null)if(f.memoizedProps!==p.pendingProps||xi.current)mi=!0;else{if(!(f.lanes&w)&&!(p.flags&128))return mi=!1,hw(f,p,w);mi=!!(f.flags&131072)}else mi=!1,Or&&p.flags&1048576&&cp(p,ql,p.index);switch(p.lanes=0,p.tag){case 2:var S=p.type;hc(f,p),f=p.pendingProps;var N=wu(p,$n.current);Iu(p,w),N=I0(null,p,S,f,N,w);var D=T0();return p.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,yi(S)?(D=!0,Zl(p)):D=!1,p.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,m0(p),N.updater=fc,p.stateNode=N,N._reactInternals=p,M0(p,S,f,w),p=F0(null,p,S,!0,D,w)):(p.tag=0,Or&&D&&l0(p),ai(null,p,N,w),p=p.child),p;case 16:S=p.elementType;e:{switch(hc(f,p),f=p.pendingProps,N=S._init,S=N(S._payload),p.type=S,N=p.tag=Ow(S),f=xa(S,f),N){case 0:p=L0(null,p,S,f,w);break e;case 1:p=ng(null,p,S,f,w);break e;case 11:p=qp(null,p,S,f,w);break e;case 14:p=Jp(null,p,S,xa(S.type,f),w);break e}throw Error(t(306,S,""))}return p;case 0:return S=p.type,N=p.pendingProps,N=p.elementType===S?N:xa(S,N),L0(f,p,S,N,w);case 1:return S=p.type,N=p.pendingProps,N=p.elementType===S?N:xa(S,N),ng(f,p,S,N,w);case 3:e:{if(ig(p),f===null)throw Error(t(387));S=p.pendingProps,D=p.memoizedState,N=D.element,mp(f,p),ic(p,S,null,w);var j=p.memoizedState;if(S=j.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){N=Ou(Error(t(423)),p),p=ag(f,p,S,w,N);break e}else if(S!==N){N=Ou(Error(t(424)),p),p=ag(f,p,S,w,N);break e}else for(ji=Uo(p.stateNode.containerInfo.firstChild),Ui=p,Or=!0,va=null,w=xp(p,null,S,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Cu(),S===N){p=go(f,p,w);break e}ai(f,p,S,w)}p=p.child}return p;case 5:return Ep(p),f===null&&d0(p),S=p.type,N=p.pendingProps,D=f!==null?f.memoizedProps:null,j=N.children,n0(S,N)?j=null:D!==null&&n0(S,D)&&(p.flags|=32),rg(f,p),ai(f,p,j,w),p.child;case 6:return f===null&&d0(p),null;case 13:return og(f,p,w);case 4:return w0(p,p.stateNode.containerInfo),S=p.pendingProps,f===null?p.child=_u(p,null,S,w):ai(f,p,S,w),p.child;case 11:return S=p.type,N=p.pendingProps,N=p.elementType===S?N:xa(S,N),qp(f,p,S,N,w);case 7:return ai(f,p,p.pendingProps,w),p.child;case 8:return ai(f,p,p.pendingProps.children,w),p.child;case 12:return ai(f,p,p.pendingProps.children,w),p.child;case 10:e:{if(S=p.type._context,N=p.pendingProps,D=p.memoizedProps,j=N.value,vr(tc,S._currentValue),S._currentValue=j,D!==null)if(ne(D.value,j)){if(D.children===N.children&&!xi.current){p=go(f,p,w);break e}}else for(D=p.child,D!==null&&(D.return=p);D!==null;){var Z=D.dependencies;if(Z!==null){j=D.child;for(var J=Z.firstContext;J!==null;){if(J.context===S){if(D.tag===1){J=po(-1,w&-w),J.tag=2;var he=D.updateQueue;if(he!==null){he=he.shared;var _e=he.pending;_e===null?J.next=J:(J.next=_e.next,_e.next=J),he.pending=J}}D.lanes|=w,J=D.alternate,J!==null&&(J.lanes|=w),x0(D.return,w,p),Z.lanes|=w;break}J=J.next}}else if(D.tag===10)j=D.type===p.type?null:D.child;else if(D.tag===18){if(j=D.return,j===null)throw Error(t(341));j.lanes|=w,Z=j.alternate,Z!==null&&(Z.lanes|=w),x0(j,w,p),j=D.sibling}else j=D.child;if(j!==null)j.return=D;else for(j=D;j!==null;){if(j===p){j=null;break}if(D=j.sibling,D!==null){D.return=j.return,j=D;break}j=j.return}D=j}ai(f,p,N.children,w),p=p.child}return p;case 9:return N=p.type,S=p.pendingProps.children,Iu(p,w),N=ta(N),S=S(N),p.flags|=1,ai(f,p,S,w),p.child;case 14:return S=p.type,N=xa(S,p.pendingProps),N=xa(S.type,N),Jp(f,p,S,N,w);case 15:return eg(f,p,p.type,p.pendingProps,w);case 17:return S=p.type,N=p.pendingProps,N=p.elementType===S?N:xa(S,N),hc(f,p),p.tag=1,yi(S)?(f=!0,Zl(p)):f=!1,Iu(p,w),Wp(p,S,N),M0(p,S,N,w),F0(null,p,S,!0,f,w);case 19:return ug(f,p,w);case 22:return tg(f,p,w)}throw Error(t(156,p.tag))};function Dg(f,p){return Mi(f,p)}function Tw(f,p,w,S){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(f,p,w,S){return new Tw(f,p,w,S)}function nd(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ow(f){if(typeof f=="function")return nd(f)?1:0;if(f!=null){if(f=f.$$typeof,f===ge)return 11;if(f===le)return 14}return 2}function Ko(f,p){var w=f.alternate;return w===null?(w=ia(f.tag,p,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=p,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&14680064,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,p=f.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function _c(f,p,w,S,N,D){var j=2;if(S=f,typeof f=="function")nd(f)&&(j=1);else if(typeof f=="string")j=5;else e:switch(f){case V:return js(w.children,N,D,p);case te:j=8,N|=8;break;case q:return f=ia(12,w,p,N|2),f.elementType=q,f.lanes=D,f;case Ee:return f=ia(13,w,p,N),f.elementType=Ee,f.lanes=D,f;case Ye:return f=ia(19,w,p,N),f.elementType=Ye,f.lanes=D,f;case Fe:return Sc(w,N,D,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case pe:j=10;break e;case Be:j=9;break e;case ge:j=11;break e;case le:j=14;break e;case ht:j=16,S=null;break e}throw Error(t(130,f==null?f:typeof f,""))}return p=ia(j,w,p,N),p.elementType=f,p.type=S,p.lanes=D,p}function js(f,p,w,S){return f=ia(7,f,S,p),f.lanes=w,f}function Sc(f,p,w,S){return f=ia(22,f,S,p),f.elementType=Fe,f.lanes=w,f.stateNode={isHidden:!1},f}function id(f,p,w){return f=ia(6,f,null,p),f.lanes=w,f}function ad(f,p,w){return p=ia(4,f.children!==null?f.children:[],f.key,p),p.lanes=w,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Nw(f,p,w,S,N){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ae(0),this.expirationTimes=ae(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ae(0),this.identifierPrefix=S,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function od(f,p,w,S,N,D,j,Z,J){return f=new Nw(f,p,w,Z,J),p===1?(p=1,D===!0&&(p|=8)):p=0,D=ia(3,null,null,p),f.current=D,D.stateNode=f,D.memoizedState={element:S,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},m0(D),f}function bw(f,p,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:S==null?null:""+S,children:f,containerInfo:p,implementation:w}}function Mg(f){if(!f)return Ho;f=f._reactInternals;e:{if(vi(f)!==f||f.tag!==1)throw Error(t(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(yi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(t(171))}if(f.tag===1){var w=f.type;if(yi(w))return sp(f,w,p)}return p}function Pg(f,p,w,S,N,D,j,Z,J){return f=od(w,S,!0,f,N,D,j,Z,J),f.context=Mg(null),w=f.current,S=oi(),N=$o(w),D=po(S,N),D.callback=p??null,Go(w,D,N),f.current.lanes=N,G(f,N,S),Ai(f,S),f}function Ic(f,p,w,S){var N=p.current,D=oi(),j=$o(N);return w=Mg(w),p.context===null?p.context=w:p.pendingContext=w,p=po(D,j),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=Go(N,p,j),f!==null&&(wa(f,N,j,D),nc(f,N,j)),j}function Tc(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function Bg(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<p?w:p}}function sd(f,p){Bg(f,p),(f=f.alternate)&&Bg(f,p)}var Lg=typeof reportError=="function"?reportError:function(f){console.error(f)};function ud(f){this._internalRoot=f}Oc.prototype.render=ud.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(t(409));Ic(f,p,null,null)},Oc.prototype.unmount=ud.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Fs(function(){Ic(null,f,null,null)}),p[uo]=null}};function Oc(f){this._internalRoot=f}Oc.prototype.unstable_scheduleHydration=function(f){if(f){var p=pr();f={blockedOn:null,target:f,priority:p};for(var w=0;w<Mn.length&&p!==0&&p<Mn[w].priority;w++);Mn.splice(w,0,f),w===0&&Ml(f)}};function ld(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Nc(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function Fg(){}function Rw(f,p,w,S,N){if(N){if(typeof S=="function"){var D=S;S=function(){var he=Tc(j);D.call(he)}}var j=Pg(p,S,f,0,null,!1,!1,"",Fg);return f._reactRootContainer=j,f[uo]=j.current,I1(f.nodeType===8?f.parentNode:f),Fs(),j}for(;N=f.lastChild;)f.removeChild(N);if(typeof S=="function"){var Z=S;S=function(){var he=Tc(J);Z.call(he)}}var J=od(f,0,!1,null,null,!1,!1,"",Fg);return f._reactRootContainer=J,f[uo]=J.current,I1(f.nodeType===8?f.parentNode:f),Fs(function(){Ic(p,J,w,S)}),J}function bc(f,p,w,S,N){var D=w._reactRootContainer;if(D){var j=D;if(typeof N=="function"){var Z=N;N=function(){var J=Tc(j);Z.call(J)}}Ic(p,j,f,N)}else j=Rw(w,p,f,N,S);return Tc(j)}lu=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var w=fr(p.pendingLanes);w!==0&&(Fr(p,w|1),Ai(p,Kt()),!(Bt&6)&&(Ru=Kt()+500,Vo()))}break;case 13:Fs(function(){var S=ho(f,1);if(S!==null){var N=oi();wa(S,f,1,N)}}),sd(f,1)}},Xn=function(f){if(f.tag===13){var p=ho(f,134217728);if(p!==null){var w=oi();wa(p,f,134217728,w)}sd(f,134217728)}},qe=function(f){if(f.tag===13){var p=$o(f),w=ho(f,p);if(w!==null){var S=oi();wa(w,f,p,S)}sd(f,p)}},pr=function(){return vt},d1=function(f,p){var w=vt;try{return vt=f,p()}finally{vt=w}},ou=function(f,p,w){switch(p){case"input":if(Hr(f,w),p=w.name,w.type==="radio"&&p!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var S=w[p];if(S!==f&&S.form===f.form){var N=Yl(S);if(!N)throw Error(t(90));gs(S),Hr(S,N)}}}break;case"textarea":Yi(f,w);break;case"select":p=w.value,p!=null&&je(f,!!w.multiple,p,!1)}},su=ed,qr=Fs;var Dw={usingClientEntryPoint:!1,Events:[N1,yu,Yl,a1,gi,ed]},z1={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mw={bundleType:z1.bundleType,version:z1.version,rendererPackageName:z1.rendererPackageName,rendererConfig:z1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Il(f),f===null?null:f.stateNode},findFiberByHostInstance:z1.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Rt=Rc.inject(Mw),gt=Rc}catch{}}return Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dw,Ei.createPortal=function(f,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(p))throw Error(t(200));return bw(f,p,null,w)},Ei.createRoot=function(f,p){if(!ld(f))throw Error(t(299));var w=!1,S="",N=Lg;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onRecoverableError!==void 0&&(N=p.onRecoverableError)),p=od(f,1,!1,null,null,w,!1,S,N),f[uo]=p.current,I1(f.nodeType===8?f.parentNode:f),new ud(p)},Ei.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(t(188)):(f=Object.keys(f).join(","),Error(t(268,f)));return f=Il(p),f=f===null?null:f.stateNode,f},Ei.flushSync=function(f){return Fs(f)},Ei.hydrate=function(f,p,w){if(!Nc(p))throw Error(t(200));return bc(null,f,p,!0,w)},Ei.hydrateRoot=function(f,p,w){if(!ld(f))throw Error(t(405));var S=w!=null&&w.hydratedSources||null,N=!1,D="",j=Lg;if(w!=null&&(w.unstable_strictMode===!0&&(N=!0),w.identifierPrefix!==void 0&&(D=w.identifierPrefix),w.onRecoverableError!==void 0&&(j=w.onRecoverableError)),p=Pg(p,null,f,1,w??null,N,!1,D,j),f[uo]=p.current,I1(f),S)for(f=0;f<S.length;f++)w=S[f],N=w._getVersion,N=N(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,N]:p.mutableSourceEagerHydrationData.push(w,N);return new Oc(p)},Ei.render=function(f,p,w){if(!Nc(p))throw Error(t(200));return bc(null,f,p,!1,w)},Ei.unmountComponentAtNode=function(f){if(!Nc(f))throw Error(t(40));return f._reactRootContainer?(Fs(function(){bc(null,null,f,!1,function(){f._reactRootContainer=null,f[uo]=null})}),!0):!1},Ei.unstable_batchedUpdates=ed,Ei.unstable_renderSubtreeIntoContainer=function(f,p,w,S){if(!Nc(w))throw Error(t(200));if(f==null||f._reactInternals===void 0)throw Error(t(38));return bc(f,p,w,!1,S)},Ei.version="18.3.1-next-f1338f8080-20240426",Ei}var Wg;function Vw(){if(Wg)return dd.exports;Wg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dd.exports=Hw(),dd.exports}var Xg;function zw(){if(Xg)return Mc;Xg=1;var r=Vw();return Mc.createRoot=r.createRoot,Mc.hydrateRoot=r.hydrateRoot,Mc}var Gw=zw(),K=$u();const os=xl(K);class el extends Error{}el.prototype.name="InvalidTokenError";function Ww(r){return decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Xw(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Ww(e)}catch{return atob(e)}}function Yw(r,e){if(typeof r!="string")throw new el("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,n=r.split(".")[t];if(typeof n!="string")throw new el(`Invalid token specified: missing part #${t+1}`);let i;try{i=Xw(n)}catch(a){throw new el(`Invalid token specified: invalid base64 for part #${t+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new el(`Invalid token specified: invalid json for part #${t+1} (${a.message})`)}}const Cf=K.createContext(),$w=({children:r})=>{const[e,t]=K.useState(!1),[n,i]=K.useState(null),[a,o]=K.useState(null);K.useEffect(()=>{const c=localStorage.getItem("token"),g=localStorage.getItem("user");if(console.log("CONTEXXXXXXT"),c&&g)try{const x=Yw(c),A=Date.now()/1e3;x.exp>A?s(JSON.parse(g),c):l()}catch(x){console.error("Token decode error:",x),l()}},[]);const s=(c,g)=>{t(!0),i(c.id),o(c.username),localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(c))},l=()=>{t(!1),i(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return U.jsx(Cf.Provider,{value:{auth:e,id:n,username:a,login:s,logout:l},children:r})};var W1={},Yg;function Zw(){if(Yg)return W1;Yg=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.parse=o,W1.serialize=c;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function o(A,E){const _=new a,T=A.length;if(T<2)return _;const b=(E==null?void 0:E.decode)||g;let R=0;do{const M=A.indexOf("=",R);if(M===-1)break;const B=A.indexOf(";",R),k=B===-1?T:B;if(M>k){R=A.lastIndexOf(";",M-1)+1;continue}const z=s(A,R,M),$=l(A,M,z),V=A.slice(z,$);if(_[V]===void 0){let te=s(A,M+1,k),q=l(A,k,te);const pe=b(A.slice(te,q));_[V]=pe}R=k+1}while(R<T);return _}function s(A,E,_){do{const T=A.charCodeAt(E);if(T!==32&&T!==9)return E}while(++E<_);return _}function l(A,E,_){for(;E>_;){const T=A.charCodeAt(--E);if(T!==32&&T!==9)return E+1}return _}function c(A,E,_){const T=(_==null?void 0:_.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const b=T(E);if(!e.test(b))throw new TypeError(`argument val is invalid: ${E}`);let R=A+"="+b;if(!_)return R;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);R+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);R+="; Domain="+_.domain}if(_.path){if(!n.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);R+="; Path="+_.path}if(_.expires){if(!x(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);R+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(R+="; HttpOnly"),_.secure&&(R+="; Secure"),_.partitioned&&(R+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return R}function g(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function x(A){return i.call(A)==="[object Date]"}return W1}Zw();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $g="popstate";function Kw(r={}){function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return rh("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:hl(i)}return qw(e,t,null,r)}function br(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ba(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qw(){return Math.random().toString(36).substring(2,10)}function Zg(r,e){return{usr:r.state,key:r.key,idx:e}}function rh(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Zu(e):e,state:t,key:e&&e.key||n||Qw()}}function hl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Zu(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function qw(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,c=g();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function g(){return(o.state||{idx:null}).idx}function x(){s="POP";let b=g(),R=b==null?null:b-c;c=b,l&&l({action:s,location:T.location,delta:R})}function A(b,R){s="PUSH";let M=rh(T.location,b,R);c=g()+1;let B=Zg(M,c),k=T.createHref(M);try{o.pushState(B,"",k)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(k)}a&&l&&l({action:s,location:T.location,delta:1})}function E(b,R){s="REPLACE";let M=rh(T.location,b,R);c=g();let B=Zg(M,c),k=T.createHref(M);o.replaceState(B,"",k),a&&l&&l({action:s,location:T.location,delta:0})}function _(b){let R=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof b=="string"?b:hl(b);return M=M.replace(/ $/,"%20"),br(R,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,R)}let T={get action(){return s},get location(){return r(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($g,x),l=b,()=>{i.removeEventListener($g,x),l=null}},createHref(b){return e(i,b)},createURL:_,encodeLocation(b){let R=_(b);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:A,replace:E,go(b){return o.go(b)}};return T}function Uy(r,e,t="/"){return Jw(r,e,t,!1)}function Jw(r,e,t,n){let i=typeof e=="string"?Zu(e):e,a=mo(i.pathname||"/",t);if(a==null)return null;let o=jy(r);e4(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=f4(a);s=l4(o[l],c,n)}return s}function jy(r,e=[],t=[],n=""){let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(br(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=yo([n,l.relativePath]),g=t.concat(l);a.children&&a.children.length>0&&(br(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),jy(a.children,e,g,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:s4(c,a.index),routesMeta:g})};return r.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of Hy(a.path))i(a,o,l)}),e}function Hy(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Hy(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>r.startsWith("/")&&l===""?"/":l)}function e4(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:u4(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var t4=/^:[\w-]+$/,r4=3,n4=2,i4=1,a4=10,o4=-2,Kg=r=>r==="*";function s4(r,e){let t=r.split("/"),n=t.length;return t.some(Kg)&&(n+=o4),e&&(n+=n4),t.filter(i=>!Kg(i)).reduce((i,a)=>i+(t4.test(a)?r4:a===""?i4:a4),n)}function u4(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function l4(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",x=cf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},g),A=l.route;if(!x&&c&&t&&!n[n.length-1].route.index&&(x=cf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),o.push({params:i,pathname:yo([a,x.pathname]),pathnameBase:g4(yo([a,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(a=yo([a,x.pathnameBase]))}return o}function cf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=c4(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,{paramName:g,isOptional:x},A)=>{if(g==="*"){let _=s[A]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const E=s[A];return x&&!E?c[g]=void 0:c[g]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:r}}function c4(r,e=!1,t=!0){ba(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function f4(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ba(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function d4(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Zu(r):r;return{pathname:t?t.startsWith("/")?t:h4(t,e):e,search:v4(n),hash:x4(i)}}function h4(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function gd(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p4(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function i2(r){let e=p4(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function a2(r,e,t,n=!1){let i;typeof r=="string"?i=Zu(r):(i={...r},br(!i.pathname||!i.pathname.includes("?"),gd("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),gd("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),gd("#","search","hash",i)));let a=r===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=t;else{let x=e.length-1;if(!n&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),x-=1;i.pathname=A.join("/")}s=x>=0?e[x]:"/"}let l=d4(i,s),c=o&&o!=="/"&&o.endsWith("/"),g=(a||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||g)&&(l.pathname+="/"),l}var yo=r=>r.join("/").replace(/\/\/+/g,"/"),g4=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),v4=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,x4=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function y4(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Vy=["POST","PUT","PATCH","DELETE"];new Set(Vy);var m4=["GET",...Vy];new Set(m4);var Ku=K.createContext(null);Ku.displayName="DataRouter";var _f=K.createContext(null);_f.displayName="DataRouterState";var zy=K.createContext({isTransitioning:!1});zy.displayName="ViewTransition";var w4=K.createContext(new Map);w4.displayName="Fetchers";var A4=K.createContext(null);A4.displayName="Await";var Ra=K.createContext(null);Ra.displayName="Navigation";var yl=K.createContext(null);yl.displayName="Location";var fa=K.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var o2=K.createContext(null);o2.displayName="RouteError";function E4(r,{relative:e}={}){br(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=K.useContext(Ra),{hash:i,pathname:a,search:o}=ml(r,{relative:e}),s=a;return t!=="/"&&(s=a==="/"?t:yo([t,a])),n.createHref({pathname:s,search:o,hash:i})}function Qu(){return K.useContext(yl)!=null}function Eo(){return br(Qu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(yl).location}var Gy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wy(r){K.useContext(Ra).static||K.useLayoutEffect(r)}function Da(){let{isDataRoute:r}=K.useContext(fa);return r?F4():C4()}function C4(){br(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Ku),{basename:e,navigator:t}=K.useContext(Ra),{matches:n}=K.useContext(fa),{pathname:i}=Eo(),a=JSON.stringify(i2(n)),o=K.useRef(!1);return Wy(()=>{o.current=!0}),K.useCallback((l,c={})=>{if(ba(o.current,Gy),!o.current)return;if(typeof l=="number"){t.go(l);return}let g=a2(l,JSON.parse(a),i,c.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:yo([e,g.pathname])),(c.replace?t.replace:t.push)(g,c.state,c)},[e,t,a,i,r])}var _4=K.createContext(null);function S4(r){let e=K.useContext(fa).outlet;return e&&K.createElement(_4.Provider,{value:r},e)}function Ma(){let{matches:r}=K.useContext(fa),e=r[r.length-1];return e?e.params:{}}function ml(r,{relative:e}={}){let{matches:t}=K.useContext(fa),{pathname:n}=Eo(),i=JSON.stringify(i2(t));return K.useMemo(()=>a2(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function I4(r,e){return Xy(r,e)}function Xy(r,e,t,n){var M;br(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=K.useContext(Ra),{matches:o}=K.useContext(fa),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",g=s?s.pathnameBase:"/",x=s&&s.route;{let B=x&&x.path||"";Yy(c,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let A=Eo(),E;if(e){let B=typeof e=="string"?Zu(e):e;br(g==="/"||((M=B.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=A;let _=E.pathname||"/",T=_;if(g!=="/"){let B=g.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(B.length).join("/")}let b=!a&&t&&t.matches&&t.matches.length>0?t.matches:Uy(r,{pathname:T});ba(x||b!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ba(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=R4(b&&b.map(B=>Object.assign({},B,{params:Object.assign({},l,B.params),pathname:yo([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:yo([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,t,n);return e&&R?K.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function T4(){let r=L4(),e=y4(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:a},"ErrorBoundary")," or"," ",K.createElement("code",{style:a},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,o)}var O4=K.createElement(T4,null),N4=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(fa.Provider,{value:this.props.routeContext},K.createElement(o2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b4({routeContext:r,match:e,children:t}){let n=K.useContext(Ku);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(fa.Provider,{value:r},t)}function R4(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let l=i.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);br(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,s=-1;if(t)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(s=l),c.route.id){let{loaderData:g,errors:x}=t,A=c.route.loader&&!g.hasOwnProperty(c.route.id)&&(!x||x[c.route.id]===void 0);if(c.route.lazy||A){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,c,g)=>{let x,A=!1,E=null,_=null;t&&(x=a&&c.route.id?a[c.route.id]:void 0,E=c.route.errorElement||O4,o&&(s<0&&g===0?(Yy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,_=null):s===g&&(A=!0,_=c.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,g+1)),b=()=>{let R;return x?R=E:A?R=_:c.route.Component?R=K.createElement(c.route.Component,null):c.route.element?R=c.route.element:R=l,K.createElement(b4,{match:c,routeContext:{outlet:l,matches:T,isDataRoute:t!=null},children:R})};return t&&(c.route.ErrorBoundary||c.route.errorElement||g===0)?K.createElement(N4,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:b(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):b()},null)}function s2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D4(r){let e=K.useContext(Ku);return br(e,s2(r)),e}function M4(r){let e=K.useContext(_f);return br(e,s2(r)),e}function P4(r){let e=K.useContext(fa);return br(e,s2(r)),e}function u2(r){let e=P4(r),t=e.matches[e.matches.length-1];return br(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function B4(){return u2("useRouteId")}function L4(){var n;let r=K.useContext(o2),e=M4("useRouteError"),t=u2("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function F4(){let{router:r}=D4("useNavigate"),e=u2("useNavigate"),t=K.useRef(!1);return Wy(()=>{t.current=!0}),K.useCallback(async(i,a={})=>{ba(t.current,Gy),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var Qg={};function Yy(r,e,t){!e&&!Qg[r]&&(Qg[r]=!0,ba(!1,t))}K.memo(k4);function k4({routes:r,future:e,state:t}){return Xy(r,void 0,t,e)}function $c({to:r,replace:e,state:t,relative:n}){br(Qu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=K.useContext(Ra);ba(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=K.useContext(fa),{pathname:o}=Eo(),s=Da(),l=a2(r,i2(a),o,n==="path"),c=JSON.stringify(l);return K.useEffect(()=>{s(JSON.parse(c),{replace:e,state:t,relative:n})},[s,c,n,e,t]),null}function $y(r){return S4(r.context)}function Br(r){br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U4({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){br(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),s=K.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=Zu(t));let{pathname:l="/",search:c="",hash:g="",state:x=null,key:A="default"}=t,E=K.useMemo(()=>{let _=mo(l,o);return _==null?null:{location:{pathname:_,search:c,hash:g,state:x,key:A},navigationType:n}},[o,l,c,g,x,A,n]);return ba(E!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:K.createElement(Ra.Provider,{value:s},K.createElement(yl.Provider,{children:e,value:E}))}function j4({children:r,location:e}){return I4(nh(r),e)}function nh(r,e=[]){let t=[];return K.Children.forEach(r,(n,i)=>{if(!K.isValidElement(n))return;let a=[...e,i];if(n.type===K.Fragment){t.push.apply(t,nh(n.props.children,a));return}br(n.type===Br,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),br(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=nh(n.props.children,a)),t.push(o)}),t}var Zc="get",Kc="application/x-www-form-urlencoded";function Sf(r){return r!=null&&typeof r.tagName=="string"}function H4(r){return Sf(r)&&r.tagName.toLowerCase()==="button"}function V4(r){return Sf(r)&&r.tagName.toLowerCase()==="form"}function z4(r){return Sf(r)&&r.tagName.toLowerCase()==="input"}function G4(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function W4(r,e){return r.button===0&&(!e||e==="_self")&&!G4(r)}var Pc=null;function X4(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var Y4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(r){return r!=null&&!Y4.has(r)?(ba(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function $4(r,e){let t,n,i,a,o;if(V4(r)){let s=r.getAttribute("action");n=s?mo(s,e):null,t=r.getAttribute("method")||Zc,i=vd(r.getAttribute("enctype"))||Kc,a=new FormData(r)}else if(H4(r)||z4(r)&&(r.type==="submit"||r.type==="image")){let s=r.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||s.getAttribute("action");if(n=l?mo(l,e):null,t=r.getAttribute("formmethod")||s.getAttribute("method")||Zc,i=vd(r.getAttribute("formenctype"))||vd(s.getAttribute("enctype"))||Kc,a=new FormData(s,r),!X4()){let{name:c,type:g,value:x}=r;if(g==="image"){let A=c?`${c}.`:"";a.append(`${A}x`,"0"),a.append(`${A}y`,"0")}else c&&a.append(c,x)}}else{if(Sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zc,n=null,i=Kc,o=r}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:o}}function l2(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Z4(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K4(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Q4(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await Z4(a,t);return o.links?o.links():[]}return[]}));return tA(n.flat(1).filter(K4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qg(r,e,t,n,i,a){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,s=(l,c)=>{var g;return t[c].pathname!==l.pathname||((g=t[c].route.path)==null?void 0:g.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>o(l,c)||s(l,c)):a==="data"?e.filter((l,c)=>{var x;let g=n.routes[l.route.id];if(!g||!g.hasLoader)return!1;if(o(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let A=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function q4(r,e,{includeHydrateFallback:t}={}){return J4(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function J4(r){return[...new Set(r)]}function eA(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function tA(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(eA(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function rA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&mo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Zy(){let r=K.useContext(Ku);return l2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nA(){let r=K.useContext(_f);return l2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var c2=K.createContext(void 0);c2.displayName="FrameworkContext";function Ky(){let r=K.useContext(c2);return l2(r,"You must render this element inside a <HydratedRouter> element"),r}function iA(r,e){let t=K.useContext(c2),[n,i]=K.useState(!1),[a,o]=K.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:g,onTouchStart:x}=e,A=K.useRef(null);K.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let T=R=>{R.forEach(M=>{o(M.isIntersecting)})},b=new IntersectionObserver(T,{threshold:.5});return A.current&&b.observe(A.current),()=>{b.disconnect()}}},[r]),K.useEffect(()=>{if(n){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[n]);let E=()=>{i(!0)},_=()=>{i(!1),o(!1)};return t?r!=="intent"?[a,A,{}]:[a,A,{onFocus:X1(s,E),onBlur:X1(l,_),onMouseEnter:X1(c,E),onMouseLeave:X1(g,_),onTouchStart:X1(x,E)}]:[!1,A,{}]}function X1(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function aA({page:r,...e}){let{router:t}=Zy(),n=K.useMemo(()=>Uy(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?K.createElement(sA,{page:r,matches:n,...e}):null}function oA(r){let{manifest:e,routeModules:t}=Ky(),[n,i]=K.useState([]);return K.useEffect(()=>{let a=!1;return Q4(r,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[r,e,t]),n}function sA({page:r,matches:e,...t}){let n=Eo(),{manifest:i,routeModules:a}=Ky(),{basename:o}=Zy(),{loaderData:s,matches:l}=nA(),c=K.useMemo(()=>qg(r,e,l,i,n,"data"),[r,e,l,i,n]),g=K.useMemo(()=>qg(r,e,l,i,n,"assets"),[r,e,l,i,n]),x=K.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let _=new Set,T=!1;if(e.forEach(R=>{var B;let M=i.routes[R.route.id];!M||!M.hasLoader||(!c.some(k=>k.route.id===R.route.id)&&R.route.id in s&&((B=a[R.route.id])!=null&&B.shouldRevalidate)||M.hasClientLoader?T=!0:_.add(R.route.id))}),_.size===0)return[];let b=rA(r,o);return T&&_.size>0&&b.searchParams.set("_routes",e.filter(R=>_.has(R.route.id)).map(R=>R.route.id).join(",")),[b.pathname+b.search]},[o,s,n,i,c,e,r,a]),A=K.useMemo(()=>q4(g,i),[g,i]),E=oA(g);return K.createElement(K.Fragment,null,x.map(_=>K.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),A.map(_=>K.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),E.map(({key:_,link:T})=>K.createElement("link",{key:_,...T})))}function uA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qy&&(window.__reactRouterVersion="7.5.0")}catch{}function lA({basename:r,children:e,window:t}){let n=K.useRef();n.current==null&&(n.current=Kw({window:t,v5Compat:!0}));let i=n.current,[a,o]=K.useState({action:i.action,location:i.location}),s=K.useCallback(l=>{K.startTransition(()=>o(l))},[o]);return K.useLayoutEffect(()=>i.listen(s),[i,s]),K.createElement(U4,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var qy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=K.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:g,viewTransition:x,...A},E){let{basename:_}=K.useContext(Ra),T=typeof c=="string"&&qy.test(c),b,R=!1;if(typeof c=="string"&&T&&(b=c,Qy))try{let q=new URL(window.location.href),pe=c.startsWith("//")?new URL(q.protocol+c):new URL(c),Be=mo(pe.pathname,_);pe.origin===q.origin&&Be!=null?c=Be+pe.search+pe.hash:R=!0}catch{ba(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=E4(c,{relative:i}),[B,k,z]=iA(n,A),$=hA(c,{replace:o,state:s,target:l,preventScrollReset:g,relative:i,viewTransition:x});function V(q){e&&e(q),q.defaultPrevented||$(q)}let te=K.createElement("a",{...A,...z,href:b||M,onClick:R||a?e:V,ref:uA(E,k),target:l,"data-discover":!T&&t==="render"?"true":void 0});return B&&!T?K.createElement(K.Fragment,null,te,K.createElement(aA,{page:M})):te});Ys.displayName="Link";var cA=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...c},g){let x=ml(o,{relative:c.relative}),A=Eo(),E=K.useContext(_f),{navigator:_,basename:T}=K.useContext(Ra),b=E!=null&&yA(x)&&s===!0,R=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,M=A.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(M=M.toLowerCase(),B=B?B.toLowerCase():null,R=R.toLowerCase()),B&&T&&(B=mo(B,T)||B);const k=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let z=M===R||!i&&M.startsWith(R)&&M.charAt(k)==="/",$=B!=null&&(B===R||!i&&B.startsWith(R)&&B.charAt(R.length)==="/"),V={isActive:z,isPending:$,isTransitioning:b},te=z?e:void 0,q;typeof n=="function"?q=n(V):q=[n,z?"active":null,$?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let pe=typeof a=="function"?a(V):a;return K.createElement(Ys,{...c,"aria-current":te,className:q,ref:g,style:pe,to:o,viewTransition:s},typeof l=="function"?l(V):l)});cA.displayName="NavLink";var fA=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:o=Zc,action:s,onSubmit:l,relative:c,preventScrollReset:g,viewTransition:x,...A},E)=>{let _=vA(),T=xA(s,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",R=typeof s=="string"&&qy.test(s),M=B=>{if(l&&l(B),B.defaultPrevented)return;B.preventDefault();let k=B.nativeEvent.submitter,z=(k==null?void 0:k.getAttribute("formmethod"))||o;_(k||B.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:a,relative:c,preventScrollReset:g,viewTransition:x})};return K.createElement("form",{ref:E,method:b,action:T,onSubmit:n?l:M,...A,"data-discover":!R&&r==="render"?"true":void 0})});fA.displayName="Form";function dA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(r){let e=K.useContext(Ku);return br(e,dA(r)),e}function hA(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Da(),l=Eo(),c=ml(r,{relative:a});return K.useCallback(g=>{if(W4(g,e)){g.preventDefault();let x=t!==void 0?t:hl(l)===hl(c);s(r,{replace:x,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,c,t,n,e,r,i,a,o])}var pA=0,gA=()=>`__${String(++pA)}__`;function vA(){let{router:r}=Jy("useSubmit"),{basename:e}=K.useContext(Ra),t=B4();return K.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:l,body:c}=$4(n,e);if(i.navigate===!1){let g=i.fetcherKey||gA();await r.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function xA(r,{relative:e}={}){let{basename:t}=K.useContext(Ra),n=K.useContext(fa);br(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...ml(r||".",{relative:e})},o=Eo();if(r==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(g=>g==="")){s.delete("index"),l.filter(x=>x).forEach(x=>s.append("index",x));let g=s.toString();a.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:yo([t,a.pathname])),hl(a)}function yA(r,e={}){let t=K.useContext(zy);br(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Jy("useViewTransitionState"),i=ml(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=mo(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=mo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return cf(i.pathname,o)!=null||cf(i.pathname,a)!=null}new TextEncoder;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const mA={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},Jg={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},wA={prefix:"fas",iconName:"barcode",icon:[512,512,[],"f02a","M24 32C10.7 32 0 42.7 0 56L0 456c0 13.3 10.7 24 24 24l16 0c13.3 0 24-10.7 24-24L64 56c0-13.3-10.7-24-24-24L24 32zm88 0c-8.8 0-16 7.2-16 16l0 416c0 8.8 7.2 16 16 16s16-7.2 16-16l0-416c0-8.8-7.2-16-16-16zm72 0c-13.3 0-24 10.7-24 24l0 400c0 13.3 10.7 24 24 24l16 0c13.3 0 24-10.7 24-24l0-400c0-13.3-10.7-24-24-24l-16 0zm96 0c-13.3 0-24 10.7-24 24l0 400c0 13.3 10.7 24 24 24l16 0c13.3 0 24-10.7 24-24l0-400c0-13.3-10.7-24-24-24l-16 0zM448 56l0 400c0 13.3 10.7 24 24 24l16 0c13.3 0 24-10.7 24-24l0-400c0-13.3-10.7-24-24-24l-16 0c-13.3 0-24 10.7-24 24zm-64-8l0 416c0 8.8 7.2 16 16 16s16-7.2 16-16l0-416c0-8.8-7.2-16-16-16s-16 7.2-16 16z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function AA(r,e,t){return(e=CA(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ev(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Oe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ev(Object(t),!0).forEach(function(n){AA(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ev(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function EA(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function CA(r){var e=EA(r,"string");return typeof e=="symbol"?e:e+""}const tv=()=>{};let f2={},e3={},t3=null,r3={mark:tv,measure:tv};try{typeof window<"u"&&(f2=window),typeof document<"u"&&(e3=document),typeof MutationObserver<"u"&&(t3=MutationObserver),typeof performance<"u"&&(r3=performance)}catch{}const{userAgent:rv=""}=f2.navigator||{},fs=f2,Ir=e3,nv=t3,Bc=r3;fs.document;const Co=!!Ir.documentElement&&!!Ir.head&&typeof Ir.addEventListener=="function"&&typeof Ir.createElement=="function",n3=~rv.indexOf("MSIE")||~rv.indexOf("Trident/");var _A=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,SA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,i3={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},IA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},a3=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ti="classic",If="duotone",TA="sharp",OA="sharp-duotone",o3=[ti,If,TA,OA],NA={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},bA={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},RA=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),DA={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},MA=["fak","fa-kit","fakd","fa-kit-duotone"],iv={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},PA=["kit"],BA={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},LA=["fak","fakd"],FA={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},av={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Lc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},kA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],UA=["fak","fa-kit","fakd","fa-kit-duotone"],jA={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},HA={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},VA={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ih={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},zA=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],ah=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...kA,...zA],GA=["solid","regular","light","thin","duotone","brands"],s3=[1,2,3,4,5,6,7,8,9,10],WA=s3.concat([11,12,13,14,15,16,17,18,19,20]),XA=[...Object.keys(VA),...GA,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Lc.GROUP,Lc.SWAP_OPACITY,Lc.PRIMARY,Lc.SECONDARY].concat(s3.map(r=>"".concat(r,"x"))).concat(WA.map(r=>"w-".concat(r))),YA={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const wo="___FONT_AWESOME___",oh=16,u3="fa",l3="svg-inline--fa",tu="data-fa-i2svg",sh="data-fa-pseudo-element",$A="data-fa-pseudo-element-pending",d2="data-prefix",h2="data-icon",ov="fontawesome-i2svg",ZA="async",KA=["HTML","HEAD","STYLE","SCRIPT"],c3=(()=>{try{return!0}catch{return!1}})();function wl(r){return new Proxy(r,{get(e,t){return t in e?e[t]:e[ti]}})}const f3=Oe({},i3);f3[ti]=Oe(Oe(Oe(Oe({},{"fa-duotone":"duotone"}),i3[ti]),iv.kit),iv["kit-duotone"]);const QA=wl(f3),uh=Oe({},DA);uh[ti]=Oe(Oe(Oe(Oe({},{duotone:"fad"}),uh[ti]),av.kit),av["kit-duotone"]);const sv=wl(uh),lh=Oe({},ih);lh[ti]=Oe(Oe({},lh[ti]),FA.kit);const p2=wl(lh),ch=Oe({},HA);ch[ti]=Oe(Oe({},ch[ti]),BA.kit);wl(ch);const qA=_A,d3="fa-layers-text",JA=SA,e8=Oe({},NA);wl(e8);const t8=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],xd=IA,r8=[...PA,...XA],fl=fs.FontAwesomeConfig||{};function n8(r){var e=Ir.querySelector("script["+r+"]");if(e)return e.getAttribute(r)}function i8(r){return r===""?!0:r==="false"?!1:r==="true"?!0:r}Ir&&typeof Ir.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const i=i8(n8(t));i!=null&&(fl[n]=i)});const h3={styleDefault:"solid",familyDefault:ti,cssPrefix:u3,replacementClass:l3,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};fl.familyPrefix&&(fl.cssPrefix=fl.familyPrefix);const Gu=Oe(Oe({},h3),fl);Gu.autoReplaceSvg||(Gu.observeMutations=!1);const Qe={};Object.keys(h3).forEach(r=>{Object.defineProperty(Qe,r,{enumerable:!0,set:function(e){Gu[r]=e,dl.forEach(t=>t(Qe))},get:function(){return Gu[r]}})});Object.defineProperty(Qe,"familyPrefix",{enumerable:!0,set:function(r){Gu.cssPrefix=r,dl.forEach(e=>e(Qe))},get:function(){return Gu.cssPrefix}});fs.FontAwesomeConfig=Qe;const dl=[];function a8(r){return dl.push(r),()=>{dl.splice(dl.indexOf(r),1)}}const qo=oh,Za={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function o8(r){if(!r||!Co)return;const e=Ir.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=r;const t=Ir.head.childNodes;let n=null;for(let i=t.length-1;i>-1;i--){const a=t[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=a)}return Ir.head.insertBefore(e,n),r}const s8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pl(){let r=12,e="";for(;r-- >0;)e+=s8[Math.random()*62|0];return e}function qu(r){const e=[];for(let t=(r||[]).length>>>0;t--;)e[t]=r[t];return e}function g2(r){return r.classList?qu(r.classList):(r.getAttribute("class")||"").split(" ").filter(e=>e)}function p3(r){return"".concat(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u8(r){return Object.keys(r||{}).reduce((e,t)=>e+"".concat(t,'="').concat(p3(r[t]),'" '),"").trim()}function Tf(r){return Object.keys(r||{}).reduce((e,t)=>e+"".concat(t,": ").concat(r[t].trim(),";"),"")}function v2(r){return r.size!==Za.size||r.x!==Za.x||r.y!==Za.y||r.rotate!==Za.rotate||r.flipX||r.flipY}function l8(r){let{transform:e,containerWidth:t,iconWidth:n}=r;const i={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(a," ").concat(o," ").concat(s)},c={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:l,path:c}}function c8(r){let{transform:e,width:t=oh,height:n=oh,startCentered:i=!1}=r,a="";return i&&n3?a+="translate(".concat(e.x/qo-t/2,"em, ").concat(e.y/qo-n/2,"em) "):i?a+="translate(calc(-50% + ".concat(e.x/qo,"em), calc(-50% + ").concat(e.y/qo,"em)) "):a+="translate(".concat(e.x/qo,"em, ").concat(e.y/qo,"em) "),a+="scale(".concat(e.size/qo*(e.flipX?-1:1),", ").concat(e.size/qo*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var f8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function g3(){const r=u3,e=l3,t=Qe.cssPrefix,n=Qe.replacementClass;let i=f8;if(t!==r||n!==e){const a=new RegExp("\\.".concat(r,"\\-"),"g"),o=new RegExp("\\--".concat(r,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(s,".".concat(n))}return i}let uv=!1;function yd(){Qe.autoAddCss&&!uv&&(o8(g3()),uv=!0)}var d8={mixout(){return{dom:{css:g3,insertCss:yd}}},hooks(){return{beforeDOMElementCreation(){yd()},beforeI2svg(){yd()}}}};const Ao=fs||{};Ao[wo]||(Ao[wo]={});Ao[wo].styles||(Ao[wo].styles={});Ao[wo].hooks||(Ao[wo].hooks={});Ao[wo].shims||(Ao[wo].shims=[]);var Ka=Ao[wo];const v3=[],x3=function(){Ir.removeEventListener("DOMContentLoaded",x3),ff=1,v3.map(r=>r())};let ff=!1;Co&&(ff=(Ir.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ir.readyState),ff||Ir.addEventListener("DOMContentLoaded",x3));function h8(r){Co&&(ff?setTimeout(r,0):v3.push(r))}function Al(r){const{tag:e,attributes:t={},children:n=[]}=r;return typeof r=="string"?p3(r):"<".concat(e," ").concat(u8(t),">").concat(n.map(Al).join(""),"</").concat(e,">")}function lv(r,e,t){if(r&&r[e]&&r[e][t])return{prefix:e,iconName:t,icon:r[e][t]}}var md=function(e,t,n,i){var a=Object.keys(e),o=a.length,s=t,l,c,g;for(n===void 0?(l=1,g=e[a[0]]):(l=0,g=n);l<o;l++)c=a[l],g=s(g,e[c],c,e);return g};function p8(r){const e=[];let t=0;const n=r.length;for(;t<n;){const i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){const a=r.charCodeAt(t++);(a&64512)==56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),t--)}else e.push(i)}return e}function fh(r){const e=p8(r);return e.length===1?e[0].toString(16):null}function g8(r,e){const t=r.length;let n=r.charCodeAt(e),i;return n>=55296&&n<=56319&&t>e+1&&(i=r.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function cv(r){return Object.keys(r).reduce((e,t)=>{const n=r[t];return!!n.icon?e[n.iconName]=n.icon:e[t]=n,e},{})}function dh(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=t,i=cv(e);typeof Ka.hooks.addPack=="function"&&!n?Ka.hooks.addPack(r,cv(e)):Ka.styles[r]=Oe(Oe({},Ka.styles[r]||{}),i),r==="fas"&&dh("fa",e)}const{styles:gl,shims:v8}=Ka,y3=Object.keys(p2),x8=y3.reduce((r,e)=>(r[e]=Object.keys(p2[e]),r),{});let x2=null,m3={},w3={},A3={},E3={},C3={};function y8(r){return~r8.indexOf(r)}function m8(r,e){const t=e.split("-"),n=t[0],i=t.slice(1).join("-");return n===r&&i!==""&&!y8(i)?i:null}const _3=()=>{const r=n=>md(gl,(i,a,o)=>(i[o]=md(a,n,{}),i),{});m3=r((n,i,a)=>(i[3]&&(n[i[3]]=a),i[2]&&i[2].filter(s=>typeof s=="number").forEach(s=>{n[s.toString(16)]=a}),n)),w3=r((n,i,a)=>(n[a]=a,i[2]&&i[2].filter(s=>typeof s=="string").forEach(s=>{n[s]=a}),n)),C3=r((n,i,a)=>{const o=i[2];return n[a]=a,o.forEach(s=>{n[s]=a}),n});const e="far"in gl||Qe.autoFetchSvg,t=md(v8,(n,i)=>{const a=i[0];let o=i[1];const s=i[2];return o==="far"&&!e&&(o="fas"),typeof a=="string"&&(n.names[a]={prefix:o,iconName:s}),typeof a=="number"&&(n.unicodes[a.toString(16)]={prefix:o,iconName:s}),n},{names:{},unicodes:{}});A3=t.names,E3=t.unicodes,x2=Of(Qe.styleDefault,{family:Qe.familyDefault})};a8(r=>{x2=Of(r.styleDefault,{family:Qe.familyDefault})});_3();function y2(r,e){return(m3[r]||{})[e]}function w8(r,e){return(w3[r]||{})[e]}function $s(r,e){return(C3[r]||{})[e]}function S3(r){return A3[r]||{prefix:null,iconName:null}}function A8(r){const e=E3[r],t=y2("fas",r);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function ds(){return x2}const I3=()=>({prefix:null,iconName:null,rest:[]});function E8(r){let e=ti;const t=y3.reduce((n,i)=>(n[i]="".concat(Qe.cssPrefix,"-").concat(i),n),{});return o3.forEach(n=>{(r.includes(t[n])||r.some(i=>x8[n].includes(i)))&&(e=n)}),e}function Of(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=ti}=e,n=QA[t][r];if(t===If&&!r)return"fad";const i=sv[t][r]||sv[t][n],a=r in Ka.styles?r:null;return i||a||null}function C8(r){let e=[],t=null;return r.forEach(n=>{const i=m8(Qe.cssPrefix,n);i?t=i:n&&e.push(n)}),{iconName:t,rest:e}}function fv(r){return r.sort().filter((e,t,n)=>n.indexOf(e)===t)}function Nf(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let n=null;const i=ah.concat(UA),a=fv(r.filter(x=>i.includes(x))),o=fv(r.filter(x=>!ah.includes(x))),s=a.filter(x=>(n=x,!a3.includes(x))),[l=null]=s,c=E8(a),g=Oe(Oe({},C8(o)),{},{prefix:Of(l,{family:c})});return Oe(Oe(Oe({},g),T8({values:r,family:c,styles:gl,config:Qe,canonical:g,givenPrefix:n})),_8(t,n,g))}function _8(r,e,t){let{prefix:n,iconName:i}=t;if(r||!n||!i)return{prefix:n,iconName:i};const a=e==="fa"?S3(i):{},o=$s(n,i);return i=a.iconName||o||i,n=a.prefix||n,n==="far"&&!gl.far&&gl.fas&&!Qe.autoFetchSvg&&(n="fas"),{prefix:n,iconName:i}}const S8=o3.filter(r=>r!==ti||r!==If),I8=Object.keys(ih).filter(r=>r!==ti).map(r=>Object.keys(ih[r])).flat();function T8(r){const{values:e,family:t,canonical:n,givenPrefix:i="",styles:a={},config:o={}}=r,s=t===If,l=e.includes("fa-duotone")||e.includes("fad"),c=o.familyDefault==="duotone",g=n.prefix==="fad"||n.prefix==="fa-duotone";if(!s&&(l||c||g)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&S8.includes(t)&&(Object.keys(a).find(A=>I8.includes(A))||o.autoFetchSvg)){const A=RA.get(t).defaultShortPrefixId;n.prefix=A,n.iconName=$s(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||i==="fa")&&(n.prefix=ds()||"fas"),n}class O8{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(this._pullDefinitions,{});Object.keys(i).forEach(a=>{this.definitions[a]=Oe(Oe({},this.definitions[a]||{}),i[a]),dh(a,i[a]);const o=p2[ti][a];o&&dh(o,i[a]),_3()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(i=>{const{prefix:a,iconName:o,icon:s}=n[i],l=s[2];e[a]||(e[a]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[a][c]=s)}),e[a][o]=s}),e}}let dv=[],Lu={};const zu={},N8=Object.keys(zu);function b8(r,e){let{mixoutsTo:t}=e;return dv=r,Lu={},Object.keys(zu).forEach(n=>{N8.indexOf(n)===-1&&delete zu[n]}),dv.forEach(n=>{const i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(a=>{typeof i[a]=="function"&&(t[a]=i[a]),typeof i[a]=="object"&&Object.keys(i[a]).forEach(o=>{t[a]||(t[a]={}),t[a][o]=i[a][o]})}),n.hooks){const a=n.hooks();Object.keys(a).forEach(o=>{Lu[o]||(Lu[o]=[]),Lu[o].push(a[o])})}n.provides&&n.provides(zu)}),t}function hh(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];return(Lu[r]||[]).forEach(o=>{e=o.apply(null,[e,...n])}),e}function ru(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];(Lu[r]||[]).forEach(a=>{a.apply(null,t)})}function hs(){const r=arguments[0],e=Array.prototype.slice.call(arguments,1);return zu[r]?zu[r].apply(null,e):void 0}function ph(r){r.prefix==="fa"&&(r.prefix="fas");let{iconName:e}=r;const t=r.prefix||ds();if(e)return e=$s(t,e)||e,lv(T3.definitions,t,e)||lv(Ka.styles,t,e)}const T3=new O8,R8=()=>{Qe.autoReplaceSvg=!1,Qe.observeMutations=!1,ru("noAuto")},D8={i2svg:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Co?(ru("beforeI2svg",r),hs("pseudoElements2svg",r),hs("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=r;Qe.autoReplaceSvg===!1&&(Qe.autoReplaceSvg=!0),Qe.observeMutations=!0,h8(()=>{P8({autoReplaceSvgRoot:e}),ru("watch",r)})}},M8={icon:r=>{if(r===null)return null;if(typeof r=="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:$s(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){const e=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],t=Of(r[0]);return{prefix:t,iconName:$s(t,e)||e}}if(typeof r=="string"&&(r.indexOf("".concat(Qe.cssPrefix,"-"))>-1||r.match(qA))){const e=Nf(r.split(" "),{skipLookups:!0});return{prefix:e.prefix||ds(),iconName:$s(e.prefix,e.iconName)||e.iconName}}if(typeof r=="string"){const e=ds();return{prefix:e,iconName:$s(e,r)||r}}}},Xi={noAuto:R8,config:Qe,dom:D8,parse:M8,library:T3,findIconDefinition:ph,toHtml:Al},P8=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ir}=r;(Object.keys(Ka.styles).length>0||Qe.autoFetchSvg)&&Co&&Qe.autoReplaceSvg&&Xi.dom.i2svg({node:e})};function bf(r,e){return Object.defineProperty(r,"abstract",{get:e}),Object.defineProperty(r,"html",{get:function(){return r.abstract.map(t=>Al(t))}}),Object.defineProperty(r,"node",{get:function(){if(!Co)return;const t=Ir.createElement("div");return t.innerHTML=r.html,t.children}}),r}function B8(r){let{children:e,main:t,mask:n,attributes:i,styles:a,transform:o}=r;if(v2(o)&&t.found&&!n.found){const{width:s,height:l}=t,c={x:s/l/2,y:.5};i.style=Tf(Oe(Oe({},a),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function L8(r){let{prefix:e,iconName:t,children:n,attributes:i,symbol:a}=r;const o=a===!0?"".concat(e,"-").concat(Qe.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Oe(Oe({},i),{},{id:o}),children:n}]}]}function m2(r){const{icons:{main:e,mask:t},prefix:n,iconName:i,transform:a,symbol:o,title:s,maskId:l,titleId:c,extra:g,watchable:x=!1}=r,{width:A,height:E}=t.found?t:e,_=LA.includes(n),T=[Qe.replacementClass,i?"".concat(Qe.cssPrefix,"-").concat(i):""].filter(z=>g.classes.indexOf(z)===-1).filter(z=>z!==""||!!z).concat(g.classes).join(" ");let b={children:[],attributes:Oe(Oe({},g.attributes),{},{"data-prefix":n,"data-icon":i,class:T,role:g.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(E)})};const R=_&&!~g.classes.indexOf("fa-fw")?{width:"".concat(A/E*16*.0625,"em")}:{};x&&(b.attributes[tu]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||pl())},children:[s]}),delete b.attributes.title);const M=Oe(Oe({},b),{},{prefix:n,iconName:i,main:e,mask:t,maskId:l,transform:a,symbol:o,styles:Oe(Oe({},R),g.styles)}),{children:B,attributes:k}=t.found&&e.found?hs("generateAbstractMask",M)||{children:[],attributes:{}}:hs("generateAbstractIcon",M)||{children:[],attributes:{}};return M.children=B,M.attributes=k,o?L8(M):B8(M)}function hv(r){const{content:e,width:t,height:n,transform:i,title:a,extra:o,watchable:s=!1}=r,l=Oe(Oe(Oe({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(l[tu]="");const c=Oe({},o.styles);v2(i)&&(c.transform=c8({transform:i,startCentered:!0,width:t,height:n}),c["-webkit-transform"]=c.transform);const g=Tf(c);g.length>0&&(l.style=g);const x=[];return x.push({tag:"span",attributes:l,children:[e]}),a&&x.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),x}function F8(r){const{content:e,title:t,extra:n}=r,i=Oe(Oe(Oe({},n.attributes),t?{title:t}:{}),{},{class:n.classes.join(" ")}),a=Tf(n.styles);a.length>0&&(i.style=a);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}const{styles:wd}=Ka;function gh(r){const e=r[0],t=r[1],[n]=r.slice(4);let i=null;return Array.isArray(n)?i={tag:"g",attributes:{class:"".concat(Qe.cssPrefix,"-").concat(xd.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Qe.cssPrefix,"-").concat(xd.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Qe.cssPrefix,"-").concat(xd.PRIMARY),fill:"currentColor",d:n[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:t,icon:i}}const k8={found:!1,width:512,height:512};function U8(r,e){!c3&&!Qe.showMissingIcons&&r&&console.error('Icon with name "'.concat(r,'" and prefix "').concat(e,'" is missing.'))}function vh(r,e){let t=e;return e==="fa"&&Qe.styleDefault!==null&&(e=ds()),new Promise((n,i)=>{if(t==="fa"){const a=S3(r);r=a.iconName||r,e=a.prefix||e}if(r&&e&&wd[e]&&wd[e][r]){const a=wd[e][r];return n(gh(a))}U8(r,e),n(Oe(Oe({},k8),{},{icon:Qe.showMissingIcons&&r?hs("missingIconAbstract")||{}:{}}))})}const pv=()=>{},xh=Qe.measurePerformance&&Bc&&Bc.mark&&Bc.measure?Bc:{mark:pv,measure:pv},tl='FA "6.7.2"',j8=r=>(xh.mark("".concat(tl," ").concat(r," begins")),()=>O3(r)),O3=r=>{xh.mark("".concat(tl," ").concat(r," ends")),xh.measure("".concat(tl," ").concat(r),"".concat(tl," ").concat(r," begins"),"".concat(tl," ").concat(r," ends"))};var w2={begin:j8,end:O3};const Qc=()=>{};function gv(r){return typeof(r.getAttribute?r.getAttribute(tu):null)=="string"}function H8(r){const e=r.getAttribute?r.getAttribute(d2):null,t=r.getAttribute?r.getAttribute(h2):null;return e&&t}function V8(r){return r&&r.classList&&r.classList.contains&&r.classList.contains(Qe.replacementClass)}function z8(){return Qe.autoReplaceSvg===!0?qc.replace:qc[Qe.autoReplaceSvg]||qc.replace}function G8(r){return Ir.createElementNS("http://www.w3.org/2000/svg",r)}function W8(r){return Ir.createElement(r)}function N3(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=r.tag==="svg"?G8:W8}=e;if(typeof r=="string")return Ir.createTextNode(r);const n=t(r.tag);return Object.keys(r.attributes||[]).forEach(function(a){n.setAttribute(a,r.attributes[a])}),(r.children||[]).forEach(function(a){n.appendChild(N3(a,{ceFn:t}))}),n}function X8(r){let e=" ".concat(r.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const qc={replace:function(r){const e=r[0];if(e.parentNode)if(r[1].forEach(t=>{e.parentNode.insertBefore(N3(t),e)}),e.getAttribute(tu)===null&&Qe.keepOriginalSource){let t=Ir.createComment(X8(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(r){const e=r[0],t=r[1];if(~g2(e).indexOf(Qe.replacementClass))return qc.replace(r);const n=new RegExp("".concat(Qe.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((o,s)=>(s===Qe.replacementClass||s.match(n)?o.toSvg.push(s):o.toNode.push(s),o),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const i=t.map(a=>Al(a)).join(`
`);e.setAttribute(tu,""),e.innerHTML=i}};function vv(r){r()}function b3(r,e){const t=typeof e=="function"?e:Qc;if(r.length===0)t();else{let n=vv;Qe.mutateApproach===ZA&&(n=fs.requestAnimationFrame||vv),n(()=>{const i=z8(),a=w2.begin("mutate");r.map(i),a(),t()})}}let A2=!1;function R3(){A2=!0}function yh(){A2=!1}let df=null;function xv(r){if(!nv||!Qe.observeMutations)return;const{treeCallback:e=Qc,nodeCallback:t=Qc,pseudoElementsCallback:n=Qc,observeMutationsRoot:i=Ir}=r;df=new nv(a=>{if(A2)return;const o=ds();qu(a).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!gv(s.addedNodes[0])&&(Qe.searchPseudoElements&&n(s.target),e(s.target)),s.type==="attributes"&&s.target.parentNode&&Qe.searchPseudoElements&&n(s.target.parentNode),s.type==="attributes"&&gv(s.target)&&~t8.indexOf(s.attributeName))if(s.attributeName==="class"&&H8(s.target)){const{prefix:l,iconName:c}=Nf(g2(s.target));s.target.setAttribute(d2,l||o),c&&s.target.setAttribute(h2,c)}else V8(s.target)&&t(s.target)})}),Co&&df.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Y8(){df&&df.disconnect()}function $8(r){const e=r.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((n,i)=>{const a=i.split(":"),o=a[0],s=a.slice(1);return o&&s.length>0&&(n[o]=s.join(":").trim()),n},{})),t}function Z8(r){const e=r.getAttribute("data-prefix"),t=r.getAttribute("data-icon"),n=r.innerText!==void 0?r.innerText.trim():"";let i=Nf(g2(r));return i.prefix||(i.prefix=ds()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=w8(i.prefix,r.innerText)||y2(i.prefix,fh(r.innerText))),!i.iconName&&Qe.autoFetchSvg&&r.firstChild&&r.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=r.firstChild.data)),i}function K8(r){const e=qu(r.attributes).reduce((i,a)=>(i.name!=="class"&&i.name!=="style"&&(i[a.name]=a.value),i),{}),t=r.getAttribute("title"),n=r.getAttribute("data-fa-title-id");return Qe.autoA11y&&(t?e["aria-labelledby"]="".concat(Qe.replacementClass,"-title-").concat(n||pl()):(e["aria-hidden"]="true",e.focusable="false")),e}function Q8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Za,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function yv(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:n,rest:i}=Z8(r),a=K8(r),o=hh("parseNodeAttributes",{},r);let s=e.styleParser?$8(r):[];return Oe({iconName:t,title:r.getAttribute("title"),titleId:r.getAttribute("data-fa-title-id"),prefix:n,transform:Za,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:s,attributes:a}},o)}const{styles:q8}=Ka;function D3(r){const e=Qe.autoReplaceSvg==="nest"?yv(r,{styleParser:!1}):yv(r);return~e.extra.classes.indexOf(d3)?hs("generateLayersText",r,e):hs("generateSvgReplacementMutation",r,e)}function J8(){return[...MA,...ah]}function mv(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Co)return Promise.resolve();const t=Ir.documentElement.classList,n=g=>t.add("".concat(ov,"-").concat(g)),i=g=>t.remove("".concat(ov,"-").concat(g)),a=Qe.autoFetchSvg?J8():a3.concat(Object.keys(q8));a.includes("fa")||a.push("fa");const o=[".".concat(d3,":not([").concat(tu,"])")].concat(a.map(g=>".".concat(g,":not([").concat(tu,"])"))).join(", ");if(o.length===0)return Promise.resolve();let s=[];try{s=qu(r.querySelectorAll(o))}catch{}if(s.length>0)n("pending"),i("complete");else return Promise.resolve();const l=w2.begin("onTree"),c=s.reduce((g,x)=>{try{const A=D3(x);A&&g.push(A)}catch(A){c3||A.name==="MissingIcon"&&console.error(A)}return g},[]);return new Promise((g,x)=>{Promise.all(c).then(A=>{b3(A,()=>{n("active"),n("complete"),i("pending"),typeof e=="function"&&e(),l(),g()})}).catch(A=>{l(),x(A)})})}function eE(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;D3(r).then(t=>{t&&b3([t],e)})}function tE(r){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:ph(e||{});let{mask:i}=t;return i&&(i=(i||{}).icon?i:ph(i||{})),r(n,Oe(Oe({},t),{},{mask:i}))}}const rE=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Za,symbol:n=!1,mask:i=null,maskId:a=null,title:o=null,titleId:s=null,classes:l=[],attributes:c={},styles:g={}}=e;if(!r)return;const{prefix:x,iconName:A,icon:E}=r;return bf(Oe({type:"icon"},r),()=>(ru("beforeDOMElementCreation",{iconDefinition:r,params:e}),Qe.autoA11y&&(o?c["aria-labelledby"]="".concat(Qe.replacementClass,"-title-").concat(s||pl()):(c["aria-hidden"]="true",c.focusable="false")),m2({icons:{main:gh(E),mask:i?gh(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:A,transform:Oe(Oe({},Za),t),symbol:n,title:o,maskId:a,titleId:s,extra:{attributes:c,styles:g,classes:l}})))};var nE={mixout(){return{icon:tE(rE)}},hooks(){return{mutationObserverCallbacks(r){return r.treeCallback=mv,r.nodeCallback=eE,r}}},provides(r){r.i2svg=function(e){const{node:t=Ir,callback:n=()=>{}}=e;return mv(t,n)},r.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:i,titleId:a,prefix:o,transform:s,symbol:l,mask:c,maskId:g,extra:x}=t;return new Promise((A,E)=>{Promise.all([vh(n,o),c.iconName?vh(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(_=>{let[T,b]=_;A([e,m2({icons:{main:T,mask:b},prefix:o,iconName:n,transform:s,symbol:l,maskId:g,title:i,titleId:a,extra:x,watchable:!0})])}).catch(E)})},r.generateAbstractIcon=function(e){let{children:t,attributes:n,main:i,transform:a,styles:o}=e;const s=Tf(o);s.length>0&&(n.style=s);let l;return v2(a)&&(l=hs("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),t.push(l||i.icon),{children:t,attributes:n}}}},iE={mixout(){return{layer(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return bf({type:"layer"},()=>{ru("beforeDOMElementCreation",{assembler:r,params:e});let n=[];return r(i=>{Array.isArray(i)?i.map(a=>{n=n.concat(a.abstract)}):n=n.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Qe.cssPrefix,"-layers"),...t].join(" ")},children:n}]})}}}},aE={mixout(){return{counter(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:n=[],attributes:i={},styles:a={}}=e;return bf({type:"counter",content:r},()=>(ru("beforeDOMElementCreation",{content:r,params:e}),F8({content:r.toString(),title:t,extra:{attributes:i,styles:a,classes:["".concat(Qe.cssPrefix,"-layers-counter"),...n]}})))}}}},oE={mixout(){return{text(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Za,title:n=null,classes:i=[],attributes:a={},styles:o={}}=e;return bf({type:"text",content:r},()=>(ru("beforeDOMElementCreation",{content:r,params:e}),hv({content:r,transform:Oe(Oe({},Za),t),title:n,extra:{attributes:a,styles:o,classes:["".concat(Qe.cssPrefix,"-layers-text"),...i]}})))}}},provides(r){r.generateLayersText=function(e,t){const{title:n,transform:i,extra:a}=t;let o=null,s=null;if(n3){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();o=c.width/l,s=c.height/l}return Qe.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,hv({content:e.innerHTML,width:o,height:s,transform:i,title:n,extra:a,watchable:!0})])}}};const sE=new RegExp('"',"ug"),wv=[1105920,1112319],Av=Oe(Oe(Oe(Oe({},{FontAwesome:{normal:"fas",400:"fas"}}),bA),YA),jA),mh=Object.keys(Av).reduce((r,e)=>(r[e.toLowerCase()]=Av[e],r),{}),uE=Object.keys(mh).reduce((r,e)=>{const t=mh[e];return r[e]=t[900]||[...Object.entries(t)][0][1],r},{});function lE(r){const e=r.replace(sE,""),t=g8(e,0),n=t>=wv[0]&&t<=wv[1],i=e.length===2?e[0]===e[1]:!1;return{value:fh(i?e[0]:e),isSecondary:n||i}}function cE(r,e){const t=r.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),i=isNaN(n)?"normal":n;return(mh[t]||{})[i]||uE[t]}function Ev(r,e){const t="".concat($A).concat(e.replace(":","-"));return new Promise((n,i)=>{if(r.getAttribute(t)!==null)return n();const o=qu(r.children).filter(A=>A.getAttribute(sh)===e)[0],s=fs.getComputedStyle(r,e),l=s.getPropertyValue("font-family"),c=l.match(JA),g=s.getPropertyValue("font-weight"),x=s.getPropertyValue("content");if(o&&!c)return r.removeChild(o),n();if(c&&x!=="none"&&x!==""){const A=s.getPropertyValue("content");let E=cE(l,g);const{value:_,isSecondary:T}=lE(A),b=c[0].startsWith("FontAwesome");let R=y2(E,_),M=R;if(b){const B=A8(_);B.iconName&&B.prefix&&(R=B.iconName,E=B.prefix)}if(R&&!T&&(!o||o.getAttribute(d2)!==E||o.getAttribute(h2)!==M)){r.setAttribute(t,M),o&&r.removeChild(o);const B=Q8(),{extra:k}=B;k.attributes[sh]=e,vh(R,E).then(z=>{const $=m2(Oe(Oe({},B),{},{icons:{main:z,mask:I3()},prefix:E,iconName:M,extra:k,watchable:!0})),V=Ir.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?r.insertBefore(V,r.firstChild):r.appendChild(V),V.outerHTML=$.map(te=>Al(te)).join(`
`),r.removeAttribute(t),n()}).catch(i)}else n()}else n()})}function fE(r){return Promise.all([Ev(r,"::before"),Ev(r,"::after")])}function dE(r){return r.parentNode!==document.head&&!~KA.indexOf(r.tagName.toUpperCase())&&!r.getAttribute(sh)&&(!r.parentNode||r.parentNode.tagName!=="svg")}function Cv(r){if(Co)return new Promise((e,t)=>{const n=qu(r.querySelectorAll("*")).filter(dE).map(fE),i=w2.begin("searchPseudoElements");R3(),Promise.all(n).then(()=>{i(),yh(),e()}).catch(()=>{i(),yh(),t()})})}var hE={hooks(){return{mutationObserverCallbacks(r){return r.pseudoElementsCallback=Cv,r}}},provides(r){r.pseudoElements2svg=function(e){const{node:t=Ir}=e;Qe.searchPseudoElements&&Cv(t)}}};let _v=!1;var pE={mixout(){return{dom:{unwatch(){R3(),_v=!0}}}},hooks(){return{bootstrap(){xv(hh("mutationObserverCallbacks",{}))},noAuto(){Y8()},watch(r){const{observeMutationsRoot:e}=r;_v?yh():xv(hh("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Sv=r=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce((t,n)=>{const i=n.toLowerCase().split("-"),a=i[0];let o=i.slice(1).join("-");if(a&&o==="h")return t.flipX=!0,t;if(a&&o==="v")return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(a){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o;break}return t},e)};var gE={mixout(){return{parse:{transform:r=>Sv(r)}}},hooks(){return{parseNodeAttributes(r,e){const t=e.getAttribute("data-fa-transform");return t&&(r.transform=Sv(t)),r}}},provides(r){r.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:i,iconWidth:a}=e;const o={transform:"translate(".concat(i/2," 256)")},s="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),g={transform:"".concat(s," ").concat(l," ").concat(c)},x={transform:"translate(".concat(a/2*-1," -256)")},A={outer:o,inner:g,path:x};return{tag:"g",attributes:Oe({},A.outer),children:[{tag:"g",attributes:Oe({},A.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Oe(Oe({},t.icon.attributes),A.path)}]}]}}}};const Ad={x:0,y:0,width:"100%",height:"100%"};function Iv(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.attributes&&(r.attributes.fill||e)&&(r.attributes.fill="black"),r}function vE(r){return r.tag==="g"?r.children:[r]}var xE={hooks(){return{parseNodeAttributes(r,e){const t=e.getAttribute("data-fa-mask"),n=t?Nf(t.split(" ").map(i=>i.trim())):I3();return n.prefix||(n.prefix=ds()),r.mask=n,r.maskId=e.getAttribute("data-fa-mask-id"),r}}},provides(r){r.generateAbstractMask=function(e){let{children:t,attributes:n,main:i,mask:a,maskId:o,transform:s}=e;const{width:l,icon:c}=i,{width:g,icon:x}=a,A=l8({transform:s,containerWidth:g,iconWidth:l}),E={tag:"rect",attributes:Oe(Oe({},Ad),{},{fill:"white"})},_=c.children?{children:c.children.map(Iv)}:{},T={tag:"g",attributes:Oe({},A.inner),children:[Iv(Oe({tag:c.tag,attributes:Oe(Oe({},c.attributes),A.path)},_))]},b={tag:"g",attributes:Oe({},A.outer),children:[T]},R="mask-".concat(o||pl()),M="clip-".concat(o||pl()),B={tag:"mask",attributes:Oe(Oe({},Ad),{},{id:R,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[E,b]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:M},children:vE(x)},B]};return t.push(k,{tag:"rect",attributes:Oe({fill:"currentColor","clip-path":"url(#".concat(M,")"),mask:"url(#".concat(R,")")},Ad)}),{children:t,attributes:n}}}},yE={provides(r){let e=!1;fs.matchMedia&&(e=fs.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){const t=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:Oe(Oe({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=Oe(Oe({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Oe(Oe({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:Oe(Oe({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Oe(Oe({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:Oe(Oe({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Oe(Oe({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:Oe(Oe({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Oe(Oe({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},mE={hooks(){return{parseNodeAttributes(r,e){const t=e.getAttribute("data-fa-symbol"),n=t===null?!1:t===""?!0:t;return r.symbol=n,r}}}},wE=[d8,nE,iE,aE,oE,hE,pE,gE,xE,yE,mE];b8(wE,{mixoutsTo:Xi});Xi.noAuto;Xi.config;Xi.library;Xi.dom;const wh=Xi.parse;Xi.findIconDefinition;Xi.toHtml;const AE=Xi.icon;Xi.layer;Xi.text;Xi.counter;var Ed={exports:{}},Cd,Tv;function EE(){if(Tv)return Cd;Tv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cd=r,Cd}var _d,Ov;function CE(){if(Ov)return _d;Ov=1;var r=EE();function e(){}function t(){}return t.resetWarningCache=e,_d=function(){function n(o,s,l,c,g,x){if(x!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},_d}var Nv;function E2(){return Nv||(Nv=1,Ed.exports=CE()()),Ed.exports}var _E=E2();const Tt=xl(_E);function bv(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $a(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bv(Object(t),!0).forEach(function(n){Fu(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bv(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hf(r){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(r)}function Fu(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function SE(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function IE(r,e){if(r==null)return{};var t=SE(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Ah(r){return TE(r)||OE(r)||NE(r)||bE()}function TE(r){if(Array.isArray(r))return Eh(r)}function OE(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function NE(r,e){if(r){if(typeof r=="string")return Eh(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eh(r,e)}}function Eh(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function bE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RE(r){var e,t=r.beat,n=r.fade,i=r.beatFade,a=r.bounce,o=r.shake,s=r.flash,l=r.spin,c=r.spinPulse,g=r.spinReverse,x=r.pulse,A=r.fixedWidth,E=r.inverse,_=r.border,T=r.listItem,b=r.flip,R=r.size,M=r.rotation,B=r.pull,k=(e={"fa-beat":t,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":g,"fa-spin-pulse":c,"fa-pulse":x,"fa-fw":A,"fa-inverse":E,"fa-border":_,"fa-li":T,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},Fu(e,"fa-".concat(R),typeof R<"u"&&R!==null),Fu(e,"fa-rotate-".concat(M),typeof M<"u"&&M!==null&&M!==0),Fu(e,"fa-pull-".concat(B),typeof B<"u"&&B!==null),Fu(e,"fa-swap-opacity",r.swapOpacity),e);return Object.keys(k).map(function(z){return k[z]?z:null}).filter(function(z){return z})}function DE(r){return r=r-0,r===r}function M3(r){return DE(r)?r:(r=r.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),r.substr(0,1).toLowerCase()+r.substr(1))}var ME=["style"];function PE(r){return r.charAt(0).toUpperCase()+r.slice(1)}function BE(r){return r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),i=M3(t.slice(0,n)),a=t.slice(n+1).trim();return i.startsWith("webkit")?e[PE(i)]=a:e[i]=a,e},{})}function P3(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(l){return P3(r,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,c){var g=e.attributes[c];switch(c){case"class":l.attrs.className=g,delete e.attributes.class;break;case"style":l.attrs.style=BE(g);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=g:l.attrs[M3(c)]=g}return l},{attrs:{}}),a=t.style,o=a===void 0?{}:a,s=IE(t,ME);return i.attrs.style=$a($a({},i.attrs.style),o),r.apply(void 0,[e.tag,$a($a({},i.attrs),s)].concat(Ah(n)))}var B3=!1;try{B3=!0}catch{}function LE(){if(!B3&&console&&typeof console.error=="function"){var r;(r=console).error.apply(r,arguments)}}function Rv(r){if(r&&hf(r)==="object"&&r.prefix&&r.iconName&&r.icon)return r;if(wh.icon)return wh.icon(r);if(r===null)return null;if(r&&hf(r)==="object"&&r.prefix&&r.iconName)return r;if(Array.isArray(r)&&r.length===2)return{prefix:r[0],iconName:r[1]};if(typeof r=="string")return{prefix:"fas",iconName:r}}function Sd(r,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Fu({},r,e):{}}var Dv={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Wu=os.forwardRef(function(r,e){var t=$a($a({},Dv),r),n=t.icon,i=t.mask,a=t.symbol,o=t.className,s=t.title,l=t.titleId,c=t.maskId,g=Rv(n),x=Sd("classes",[].concat(Ah(RE(t)),Ah((o||"").split(" ")))),A=Sd("transform",typeof t.transform=="string"?wh.transform(t.transform):t.transform),E=Sd("mask",Rv(i)),_=AE(g,$a($a($a($a({},x),A),E),{},{symbol:a,title:s,titleId:l,maskId:c}));if(!_)return LE("Could not find icon",g),null;var T=_.abstract,b={ref:e};return Object.keys(t).forEach(function(R){Dv.hasOwnProperty(R)||(b[R]=t[R])}),FE(T[0],b)});Wu.displayName="FontAwesomeIcon";Wu.propTypes={beat:Tt.bool,border:Tt.bool,beatFade:Tt.bool,bounce:Tt.bool,className:Tt.string,fade:Tt.bool,flash:Tt.bool,mask:Tt.oneOfType([Tt.object,Tt.array,Tt.string]),maskId:Tt.string,fixedWidth:Tt.bool,inverse:Tt.bool,flip:Tt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Tt.oneOfType([Tt.object,Tt.array,Tt.string]),listItem:Tt.bool,pull:Tt.oneOf(["right","left"]),pulse:Tt.bool,rotation:Tt.oneOf([0,90,180,270]),shake:Tt.bool,size:Tt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Tt.bool,spinPulse:Tt.bool,spinReverse:Tt.bool,symbol:Tt.oneOfType([Tt.bool,Tt.string]),title:Tt.string,titleId:Tt.string,transform:Tt.oneOfType([Tt.string,Tt.object]),swapOpacity:Tt.bool};var FE=P3.bind(null,os.createElement);const kE="/PackageManagement/assets/user-profile-94p9axBk.png",UE="/PackageManagement/assets/package-icon-CszgUqHs.png",jE=()=>{const r=Da(),[e,t]=K.useState(!1),{username:n,logout:i}=K.useContext(Cf),a=()=>t(!e),o=()=>t(!1);return U.jsxs("div",{className:"page",children:[U.jsxs("div",{className:"navbar",children:[U.jsx(Wu,{icon:mA,onClick:a}),U.jsxs("div",{className:"navbar-profile",children:[U.jsx("p",{children:n}),U.jsx("img",{src:kE,onClick:()=>{i(),r("/login")}})]})]}),U.jsx("div",{className:"content",children:U.jsx($y,{})}),e&&U.jsx("div",{className:"backdrop",onClick:o}),U.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[U.jsxs("div",{className:"sidebar-header",children:[U.jsx("img",{src:UE,style:{width:"50px"}}),U.jsx("div",{className:"header-name",children:U.jsx("p",{children:"ระบบจัดการพัสดุหอพัก"})})]}),U.jsxs("ul",{children:[U.jsx("li",{onClick:o,children:U.jsx(Ys,{to:"/dashboard",children:"🏠 หน้าหลัก"})}),U.jsx("li",{onClick:o,children:U.jsx(Ys,{to:"/mypackage",children:"📦 พัสดุของฉัน"})}),U.jsx("li",{onClick:o,children:U.jsx(Ys,{to:"/mydorms",children:"🏨 หอพักของฉัน"})})]}),U.jsx("hr",{}),U.jsxs("ul",{children:[U.jsx("li",{onClick:o,children:U.jsx(Ys,{to:"/join-dorm",children:"👥 เข้าร่วมหอพัก"})}),U.jsx("li",{onClick:o,children:U.jsx(Ys,{to:"/create-dorm",children:"👥 สร้างหอพัก"})})]})]})]})},HE=({children:r})=>{const{auth:e}=K.useContext(Cf);return e?r:(console.log("AUTH PROTECTED WITH REQUIREAUTH"),U.jsx($c,{to:"/login"}))};function L3(r,e){return function(){return r.apply(e,arguments)}}const{toString:VE}=Object.prototype,{getPrototypeOf:C2}=Object,Rf=(r=>e=>{const t=VE.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Pa=r=>(r=r.toLowerCase(),e=>Rf(e)===r),Df=r=>e=>typeof e===r,{isArray:Ju}=Array,vl=Df("undefined");function zE(r){return r!==null&&!vl(r)&&r.constructor!==null&&!vl(r.constructor)&&Wi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const F3=Pa("ArrayBuffer");function GE(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&F3(r.buffer),e}const WE=Df("string"),Wi=Df("function"),k3=Df("number"),Mf=r=>r!==null&&typeof r=="object",XE=r=>r===!0||r===!1,Jc=r=>{if(Rf(r)!=="object")return!1;const e=C2(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},YE=Pa("Date"),$E=Pa("File"),ZE=Pa("Blob"),KE=Pa("FileList"),QE=r=>Mf(r)&&Wi(r.pipe),qE=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Wi(r.append)&&((e=Rf(r))==="formdata"||e==="object"&&Wi(r.toString)&&r.toString()==="[object FormData]"))},JE=Pa("URLSearchParams"),[eC,tC,rC,nC]=["ReadableStream","Request","Response","Headers"].map(Pa),iC=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function El(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ju(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const a=t?Object.getOwnPropertyNames(r):Object.keys(r),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,r[s],s,r)}}function U3(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j3=r=>!vl(r)&&r!==Zs;function Ch(){const{caseless:r}=j3(this)&&this||{},e={},t=(n,i)=>{const a=r&&U3(e,i)||i;Jc(e[a])&&Jc(n)?e[a]=Ch(e[a],n):Jc(n)?e[a]=Ch({},n):Ju(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&El(arguments[n],t);return e}const aC=(r,e,t,{allOwnKeys:n}={})=>(El(e,(i,a)=>{t&&Wi(i)?r[a]=L3(i,t):r[a]=i},{allOwnKeys:n}),r),oC=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),sC=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},uC=(r,e,t,n)=>{let i,a,o;const s={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),a=i.length;a-- >0;)o=i[a],(!n||n(o,r,e))&&!s[o]&&(e[o]=r[o],s[o]=!0);r=t!==!1&&C2(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},lC=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},cC=r=>{if(!r)return null;if(Ju(r))return r;let e=r.length;if(!k3(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},fC=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&C2(Uint8Array)),dC=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(r,a[0],a[1])}},hC=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},pC=Pa("HTMLFormElement"),gC=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Mv=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),vC=Pa("RegExp"),H3=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};El(t,(i,a)=>{let o;(o=e(i,a,r))!==!1&&(n[a]=o||i)}),Object.defineProperties(r,n)},xC=r=>{H3(r,(e,t)=>{if(Wi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Wi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},yC=(r,e)=>{const t={},n=i=>{i.forEach(a=>{t[a]=!0})};return Ju(r)?n(r):n(String(r).split(e)),t},mC=()=>{},wC=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function AC(r){return!!(r&&Wi(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const EC=r=>{const e=new Array(10),t=(n,i)=>{if(Mf(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=Ju(n)?[]:{};return El(n,(o,s)=>{const l=t(o,i+1);!vl(l)&&(a[s]=l)}),e[i]=void 0,a}}return n};return t(r,0)},CC=Pa("AsyncFunction"),_C=r=>r&&(Mf(r)||Wi(r))&&Wi(r.then)&&Wi(r.catch),V3=((r,e)=>r?setImmediate:e?((t,n)=>(Zs.addEventListener("message",({source:i,data:a})=>{i===Zs&&a===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Zs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Wi(Zs.postMessage)),SC=typeof queueMicrotask<"u"?queueMicrotask.bind(Zs):typeof process<"u"&&process.nextTick||V3,ve={isArray:Ju,isArrayBuffer:F3,isBuffer:zE,isFormData:qE,isArrayBufferView:GE,isString:WE,isNumber:k3,isBoolean:XE,isObject:Mf,isPlainObject:Jc,isReadableStream:eC,isRequest:tC,isResponse:rC,isHeaders:nC,isUndefined:vl,isDate:YE,isFile:$E,isBlob:ZE,isRegExp:vC,isFunction:Wi,isStream:QE,isURLSearchParams:JE,isTypedArray:fC,isFileList:KE,forEach:El,merge:Ch,extend:aC,trim:iC,stripBOM:oC,inherits:sC,toFlatObject:uC,kindOf:Rf,kindOfTest:Pa,endsWith:lC,toArray:cC,forEachEntry:dC,matchAll:hC,isHTMLForm:pC,hasOwnProperty:Mv,hasOwnProp:Mv,reduceDescriptors:H3,freezeMethods:xC,toObjectSet:yC,toCamelCase:gC,noop:mC,toFiniteNumber:wC,findKey:U3,global:Zs,isContextDefined:j3,isSpecCompliantForm:AC,toJSONObject:EC,isAsyncFn:CC,isThenable:_C,setImmediate:V3,asap:SC};function xt(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ve.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const z3=xt.prototype,G3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{G3[r]={value:r}});Object.defineProperties(xt,G3);Object.defineProperty(z3,"isAxiosError",{value:!0});xt.from=(r,e,t,n,i,a)=>{const o=Object.create(z3);return ve.toFlatObject(r,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),xt.call(o,r.message,e,t,n,i),o.cause=r,o.name=r.name,a&&Object.assign(o,a),o};const IC=null;function _h(r){return ve.isPlainObject(r)||ve.isArray(r)}function W3(r){return ve.endsWith(r,"[]")?r.slice(0,-2):r}function Pv(r,e,t){return r?r.concat(e).map(function(i,a){return i=W3(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function TC(r){return ve.isArray(r)&&!r.some(_h)}const OC=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Pf(r,e,t){if(!ve.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,b){return!ve.isUndefined(b[T])});const n=t.metaTokens,i=t.visitor||g,a=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(ve.isDate(_))return _.toISOString();if(!l&&ve.isBlob(_))throw new xt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(_)||ve.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function g(_,T,b){let R=_;if(_&&!b&&typeof _=="object"){if(ve.endsWith(T,"{}"))T=n?T:T.slice(0,-2),_=JSON.stringify(_);else if(ve.isArray(_)&&TC(_)||(ve.isFileList(_)||ve.endsWith(T,"[]"))&&(R=ve.toArray(_)))return T=W3(T),R.forEach(function(B,k){!(ve.isUndefined(B)||B===null)&&e.append(o===!0?Pv([T],k,a):o===null?T:T+"[]",c(B))}),!1}return _h(_)?!0:(e.append(Pv(b,T,a),c(_)),!1)}const x=[],A=Object.assign(OC,{defaultVisitor:g,convertValue:c,isVisitable:_h});function E(_,T){if(!ve.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));x.push(_),ve.forEach(_,function(R,M){(!(ve.isUndefined(R)||R===null)&&i.call(e,R,ve.isString(M)?M.trim():M,T,A))===!0&&E(R,T?T.concat(M):[M])}),x.pop()}}if(!ve.isObject(r))throw new TypeError("data must be an object");return E(r),e}function Bv(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function _2(r,e){this._pairs=[],r&&Pf(r,this,e)}const X3=_2.prototype;X3.append=function(e,t){this._pairs.push([e,t])};X3.toString=function(e){const t=e?function(n){return e.call(this,n,Bv)}:Bv;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function NC(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y3(r,e,t){if(!e)return r;const n=t&&t.encode||NC;ve.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=ve.isURLSearchParams(e)?e.toString():new _2(e,t).toString(n),a){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class Lv{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(n){n!==null&&e(n)})}}const $3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bC=typeof URLSearchParams<"u"?URLSearchParams:_2,RC=typeof FormData<"u"?FormData:null,DC=typeof Blob<"u"?Blob:null,MC={isBrowser:!0,classes:{URLSearchParams:bC,FormData:RC,Blob:DC},protocols:["http","https","file","blob","url","data"]},S2=typeof window<"u"&&typeof document<"u",Sh=typeof navigator=="object"&&navigator||void 0,PC=S2&&(!Sh||["ReactNative","NativeScript","NS"].indexOf(Sh.product)<0),BC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LC=S2&&window.location.href||"http://localhost",FC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S2,hasStandardBrowserEnv:PC,hasStandardBrowserWebWorkerEnv:BC,navigator:Sh,origin:LC},Symbol.toStringTag,{value:"Module"})),ei={...FC,...MC};function kC(r,e){return Pf(r,new ei.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,a){return ei.isNode&&ve.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function UC(r){return ve.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jC(r){const e={},t=Object.keys(r);let n;const i=t.length;let a;for(n=0;n<i;n++)a=t[n],e[a]=r[a];return e}function Z3(r){function e(t,n,i,a){let o=t[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=t.length;return o=!o&&ve.isArray(i)?i.length:o,l?(ve.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!ve.isObject(i[o]))&&(i[o]=[]),e(t,n,i[o],a)&&ve.isArray(i[o])&&(i[o]=jC(i[o])),!s)}if(ve.isFormData(r)&&ve.isFunction(r.entries)){const t={};return ve.forEachEntry(r,(n,i)=>{e(UC(n),i,t,0)}),t}return null}function HC(r,e,t){if(ve.isString(r))try{return(e||JSON.parse)(r),ve.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const Cl={transitional:$3,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,a=ve.isObject(e);if(a&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return i?JSON.stringify(Z3(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kC(e,this.formSerializer).toString();if((s=ve.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Pf(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),HC(e)):e}],transformResponse:[function(e){const t=this.transitional||Cl.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(n&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?xt.from(s,xt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ei.classes.FormData,Blob:ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],r=>{Cl.headers[r]={}});const VC=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zC=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!t||e[t]&&VC[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Fv=Symbol("internals");function Y1(r){return r&&String(r).trim().toLowerCase()}function ef(r){return r===!1||r==null?r:ve.isArray(r)?r.map(ef):String(r)}function GC(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const WC=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Id(r,e,t,n,i){if(ve.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!ve.isString(e)){if(ve.isString(n))return e.indexOf(n)!==-1;if(ve.isRegExp(n))return n.test(e)}}function XC(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function YC(r,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class Ti{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function a(s,l,c){const g=Y1(l);if(!g)throw new Error("header name must be a non-empty string");const x=ve.findKey(i,g);(!x||i[x]===void 0||c===!0||c===void 0&&i[x]!==!1)&&(i[x||l]=ef(s))}const o=(s,l)=>ve.forEach(s,(c,g)=>a(c,g,l));if(ve.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ve.isString(e)&&(e=e.trim())&&!WC(e))o(zC(e),t);else if(ve.isHeaders(e))for(const[s,l]of e.entries())a(l,s,n);else e!=null&&a(t,e,n);return this}get(e,t){if(e=Y1(e),e){const n=ve.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return GC(i);if(ve.isFunction(t))return t.call(this,i,n);if(ve.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Y1(e),e){const n=ve.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Id(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function a(o){if(o=Y1(o),o){const s=ve.findKey(n,o);s&&(!t||Id(n,n[s],s,t))&&(delete n[s],i=!0)}}return ve.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const a=t[n];(!e||Id(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,n={};return ve.forEach(this,(i,a)=>{const o=ve.findKey(n,a);if(o){t[o]=ef(i),delete t[a];return}const s=e?XC(a):String(a).trim();s!==a&&delete t[a],t[s]=ef(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&ve.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Fv]=this[Fv]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Y1(o);n[s]||(YC(i,o),n[s]=!0)}return ve.isArray(e)?e.forEach(a):a(e),this}}Ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Ti.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});ve.freezeMethods(Ti);function Td(r,e){const t=this||Cl,n=e||t,i=Ti.from(n.headers);let a=n.data;return ve.forEach(r,function(s){a=s.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function K3(r){return!!(r&&r.__CANCEL__)}function e1(r,e,t){xt.call(this,r??"canceled",xt.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(e1,xt,{__CANCEL__:!0});function Q3(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new xt("Request failed with status code "+t.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function $C(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function ZC(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),g=n[a];o||(o=c),t[i]=l,n[i]=c;let x=a,A=0;for(;x!==i;)A+=t[x++],x=x%r;if(i=(i+1)%r,i===a&&(a=(a+1)%r),c-o<e)return;const E=g&&c-g;return E?Math.round(A*1e3/E):void 0}}function KC(r,e){let t=0,n=1e3/e,i,a;const o=(c,g=Date.now())=>{t=g,i=null,a&&(clearTimeout(a),a=null),r.apply(null,c)};return[(...c)=>{const g=Date.now(),x=g-t;x>=n?o(c,g):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},n-x)))},()=>i&&o(i)]}const pf=(r,e,t=3)=>{let n=0;const i=ZC(50,250);return KC(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,c=i(l),g=o<=s;n=o;const x={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&g?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};r(x)},t)},kv=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Uv=r=>(...e)=>ve.asap(()=>r(...e)),QC=ei.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ei.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ei.origin),ei.navigator&&/(msie|trident)/i.test(ei.navigator.userAgent)):()=>!0,qC=ei.hasStandardBrowserEnv?{write(r,e,t,n,i,a){const o=[r+"="+encodeURIComponent(e)];ve.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ve.isString(n)&&o.push("path="+n),ve.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JC(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function e_(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function q3(r,e,t){let n=!JC(e);return r&&(n||t==!1)?e_(r,e):e}const jv=r=>r instanceof Ti?{...r}:r;function nu(r,e){e=e||{};const t={};function n(c,g,x,A){return ve.isPlainObject(c)&&ve.isPlainObject(g)?ve.merge.call({caseless:A},c,g):ve.isPlainObject(g)?ve.merge({},g):ve.isArray(g)?g.slice():g}function i(c,g,x,A){if(ve.isUndefined(g)){if(!ve.isUndefined(c))return n(void 0,c,x,A)}else return n(c,g,x,A)}function a(c,g){if(!ve.isUndefined(g))return n(void 0,g)}function o(c,g){if(ve.isUndefined(g)){if(!ve.isUndefined(c))return n(void 0,c)}else return n(void 0,g)}function s(c,g,x){if(x in e)return n(c,g);if(x in r)return n(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,g,x)=>i(jv(c),jv(g),x,!0)};return ve.forEach(Object.keys(Object.assign({},r,e)),function(g){const x=l[g]||i,A=x(r[g],e[g],g);ve.isUndefined(A)&&x!==s||(t[g]=A)}),t}const J3=r=>{const e=nu({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=Ti.from(o),e.url=Y3(q3(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(ve.isFormData(t)){if(ei.hasStandardBrowserEnv||ei.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...g]=l?l.split(";").map(x=>x.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...g].join("; "))}}if(ei.hasStandardBrowserEnv&&(n&&ve.isFunction(n)&&(n=n(e)),n||n!==!1&&QC(e.url))){const c=i&&a&&qC.read(a);c&&o.set(i,c)}return e},t_=typeof XMLHttpRequest<"u",r_=t_&&function(r){return new Promise(function(t,n){const i=J3(r);let a=i.data;const o=Ti.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,g,x,A,E,_;function T(){E&&E(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function R(){if(!b)return;const B=Ti.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),z={data:!s||s==="text"||s==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:B,config:r,request:b};Q3(function(V){t(V),T()},function(V){n(V),T()},z),b=null}"onloadend"in b?b.onloadend=R:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(R)},b.onabort=function(){b&&(n(new xt("Request aborted",xt.ECONNABORTED,r,b)),b=null)},b.onerror=function(){n(new xt("Network Error",xt.ERR_NETWORK,r,b)),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||$3;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new xt(k,z.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,r,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&ve.forEach(o.toJSON(),function(k,z){b.setRequestHeader(z,k)}),ve.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),s&&s!=="json"&&(b.responseType=i.responseType),c&&([A,_]=pf(c,!0),b.addEventListener("progress",A)),l&&b.upload&&([x,E]=pf(l),b.upload.addEventListener("progress",x),b.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(g=B=>{b&&(n(!B||B.type?new e1(null,r,b):B),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const M=$C(i.url);if(M&&ei.protocols.indexOf(M)===-1){n(new xt("Unsupported protocol "+M+":",xt.ERR_BAD_REQUEST,r));return}b.send(a||null)})},n_=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const a=function(c){if(!i){i=!0,s();const g=c instanceof Error?c:this.reason;n.abort(g instanceof xt?g:new e1(g instanceof Error?g.message:g))}};let o=e&&setTimeout(()=>{o=null,a(new xt(`timeout ${e} of ms exceeded`,xt.ETIMEDOUT))},e);const s=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),r=null)};r.forEach(c=>c.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>ve.asap(s),l}},i_=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},a_=async function*(r,e){for await(const t of o_(r))yield*i_(t,e)},o_=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Hv=(r,e,t,n)=>{const i=a_(r,e);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:g}=await i.next();if(c){s(),l.close();return}let x=g.byteLength;if(t){let A=a+=x;t(A)}l.enqueue(new Uint8Array(g))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},Bf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",em=Bf&&typeof ReadableStream=="function",s_=Bf&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),tm=(r,...e)=>{try{return!!r(...e)}catch{return!1}},u_=em&&tm(()=>{let r=!1;const e=new Request(ei.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Vv=64*1024,Ih=em&&tm(()=>ve.isReadableStream(new Response("").body)),gf={stream:Ih&&(r=>r.body)};Bf&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gf[e]&&(gf[e]=ve.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new xt(`Response type '${e}' is not supported`,xt.ERR_NOT_SUPPORT,n)})})})(new Response);const l_=async r=>{if(r==null)return 0;if(ve.isBlob(r))return r.size;if(ve.isSpecCompliantForm(r))return(await new Request(ei.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(r)||ve.isArrayBuffer(r))return r.byteLength;if(ve.isURLSearchParams(r)&&(r=r+""),ve.isString(r))return(await s_(r)).byteLength},c_=async(r,e)=>{const t=ve.toFiniteNumber(r.getContentLength());return t??l_(e)},f_=Bf&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:g,withCredentials:x="same-origin",fetchOptions:A}=J3(r);c=c?(c+"").toLowerCase():"text";let E=n_([i,a&&a.toAbortSignal()],o),_;const T=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let b;try{if(l&&u_&&t!=="get"&&t!=="head"&&(b=await c_(g,n))!==0){let z=new Request(e,{method:"POST",body:n,duplex:"half"}),$;if(ve.isFormData(n)&&($=z.headers.get("content-type"))&&g.setContentType($),z.body){const[V,te]=kv(b,pf(Uv(l)));n=Hv(z.body,Vv,V,te)}}ve.isString(x)||(x=x?"include":"omit");const R="credentials"in Request.prototype;_=new Request(e,{...A,signal:E,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:R?x:void 0});let M=await fetch(_);const B=Ih&&(c==="stream"||c==="response");if(Ih&&(s||B&&T)){const z={};["status","statusText","headers"].forEach(q=>{z[q]=M[q]});const $=ve.toFiniteNumber(M.headers.get("content-length")),[V,te]=s&&kv($,pf(Uv(s),!0))||[];M=new Response(Hv(M.body,Vv,V,()=>{te&&te(),T&&T()}),z)}c=c||"text";let k=await gf[ve.findKey(gf,c)||"text"](M,r);return!B&&T&&T(),await new Promise((z,$)=>{Q3(z,$,{data:k,headers:Ti.from(M.headers),status:M.status,statusText:M.statusText,config:r,request:_})})}catch(R){throw T&&T(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,r,_),{cause:R.cause||R}):xt.from(R,R&&R.code,r,_)}}),Th={http:IC,xhr:r_,fetch:f_};ve.forEach(Th,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const zv=r=>`- ${r}`,d_=r=>ve.isFunction(r)||r===null||r===!1,rm={getAdapter:r=>{r=ve.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let a=0;a<e;a++){t=r[a];let o;if(n=t,!d_(t)&&(n=Th[(o=String(t)).toLowerCase()],n===void 0))throw new xt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(zv).join(`
`):" "+zv(a[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Th};function Od(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new e1(null,r)}function Gv(r){return Od(r),r.headers=Ti.from(r.headers),r.data=Td.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),rm.getAdapter(r.adapter||Cl.adapter)(r).then(function(n){return Od(r),n.data=Td.call(r,r.transformResponse,n),n.headers=Ti.from(n.headers),n},function(n){return K3(n)||(Od(r),n&&n.response&&(n.response.data=Td.call(r,r.transformResponse,n.response),n.response.headers=Ti.from(n.response.headers))),Promise.reject(n)})}const nm="1.8.4",Lf={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Lf[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Wv={};Lf.transitional=function(e,t,n){function i(a,o){return"[Axios v"+nm+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new xt(i(o," has been removed"+(t?" in "+t:"")),xt.ERR_DEPRECATED);return t&&!Wv[o]&&(Wv[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,s):!0}};Lf.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function h_(r,e,t){if(typeof r!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=r[a],l=s===void 0||o(s,a,r);if(l!==!0)throw new xt("option "+a+" must be "+l,xt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xt("Unknown option "+a,xt.ERR_BAD_OPTION)}}const tf={assertOptions:h_,validators:Lf},Xa=tf.validators;class qs{constructor(e){this.defaults=e,this.interceptors={request:new Lv,response:new Lv}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=nu(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:a}=t;n!==void 0&&tf.assertOptions(n,{silentJSONParsing:Xa.transitional(Xa.boolean),forcedJSONParsing:Xa.transitional(Xa.boolean),clarifyTimeoutError:Xa.transitional(Xa.boolean)},!1),i!=null&&(ve.isFunction(i)?t.paramsSerializer={serialize:i}:tf.assertOptions(i,{encode:Xa.function,serialize:Xa.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),tf.assertOptions(t,{baseUrl:Xa.spelling("baseURL"),withXsrfToken:Xa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&ve.merge(a.common,a[t.method]);a&&ve.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),t.headers=Ti.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(l=l&&T.synchronous,s.unshift(T.fulfilled,T.rejected))});const c=[];this.interceptors.response.forEach(function(T){c.push(T.fulfilled,T.rejected)});let g,x=0,A;if(!l){const _=[Gv.bind(this),void 0];for(_.unshift.apply(_,s),_.push.apply(_,c),A=_.length,g=Promise.resolve(t);x<A;)g=g.then(_[x++],_[x++]);return g}A=s.length;let E=t;for(x=0;x<A;){const _=s[x++],T=s[x++];try{E=_(E)}catch(b){T.call(this,b);break}}try{g=Gv.call(this,E)}catch(_){return Promise.reject(_)}for(x=0,A=c.length;x<A;)g=g.then(c[x++],c[x++]);return g}getUri(e){e=nu(this.defaults,e);const t=q3(e.baseURL,e.url,e.allowAbsoluteUrls);return Y3(t,e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(e){qs.prototype[e]=function(t,n){return this.request(nu(n||{},{method:e,url:t,data:(n||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(n){return function(a,o,s){return this.request(nu(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}qs.prototype[e]=t(),qs.prototype[e+"Form"]=t(!0)});class I2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new e1(a,o,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new I2(function(i){e=i}),cancel:e}}}function p_(r){return function(t){return r.apply(null,t)}}function g_(r){return ve.isObject(r)&&r.isAxiosError===!0}const Oh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oh).forEach(([r,e])=>{Oh[e]=r});function im(r){const e=new qs(r),t=L3(qs.prototype.request,e);return ve.extend(t,qs.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return im(nu(r,i))},t}const Zr=im(Cl);Zr.Axios=qs;Zr.CanceledError=e1;Zr.CancelToken=I2;Zr.isCancel=K3;Zr.VERSION=nm;Zr.toFormData=Pf;Zr.AxiosError=xt;Zr.Cancel=Zr.CanceledError;Zr.all=function(e){return Promise.all(e)};Zr.spread=p_;Zr.isAxiosError=g_;Zr.mergeConfig=nu;Zr.AxiosHeaders=Ti;Zr.formToJSON=r=>Z3(ve.isHTMLForm(r)?new FormData(r):r);Zr.getAdapter=rm.getAdapter;Zr.HttpStatusCode=Oh;Zr.default=Zr;const v_="http://16.176.62.189:3000",Ja=v_,kt=Zr.create({baseURL:Ja});console.log("🟢 RUNNING ON:","production","| API URL:",Ja);kt.interceptors.request.use(r=>{const e=localStorage.getItem("token");return e&&(r.headers.Authorization=`Bearer ${e}`),r});var Mu={},Nd,Xv;function am(){return Xv||(Xv=1,Nd={L:1,M:0,Q:3,H:2}),Nd}var bd,Yv;function om(){return Yv||(Yv=1,bd={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),bd}var Rd,$v;function x_(){if($v)return Rd;$v=1;var r=om();function e(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var n=0;n<this.data.length;n++)t.put(this.data.charCodeAt(n),8)}},Rd=e,Rd}var Dd,Zv;function y_(){if(Zv)return Dd;Zv=1;var r=am();function e(t,n){this.totalCount=t,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,n){var i=e.getRsBlockTable(t,n);if(i==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var a=i.length/3,o=new Array,s=0;s<a;s++)for(var l=i[s*3+0],c=i[s*3+1],g=i[s*3+2],x=0;x<l;x++)o.push(new e(c,g));return o},e.getRsBlockTable=function(t,n){switch(n){case r.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case r.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case r.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case r.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},Dd=e,Dd}var Md,Kv;function m_(){if(Kv)return Md;Kv=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Md=r,Md}var Pd,Qv;function sm(){if(Qv)return Pd;Qv=1;for(var r={glog:function(t){if(t<1)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return r.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)r.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)r.EXP_TABLE[e]=r.EXP_TABLE[e-4]^r.EXP_TABLE[e-5]^r.EXP_TABLE[e-6]^r.EXP_TABLE[e-8];for(var e=0;e<255;e++)r.LOG_TABLE[r.EXP_TABLE[e]]=e;return Pd=r,Pd}var Bd,qv;function um(){if(qv)return Bd;qv=1;var r=sm();function e(t,n){if(t.length==null)throw new Error(t.length+"/"+n);for(var i=0;i<t.length&&t[i]==0;)i++;this.num=new Array(t.length-i+n);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var n=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)n[i+a]^=r.gexp(r.glog(this.get(i))+r.glog(t.get(a)));return new e(n,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var n=r.glog(this.get(0))-r.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<t.getLength();a++)i[a]^=r.gexp(r.glog(t.get(a))+n);return new e(i,0).mod(t)}},Bd=e,Bd}var Ld,Jv;function w_(){if(Jv)return Ld;Jv=1;var r=om(),e=um(),t=sm(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var o=a<<10;i.getBCHDigit(o)-i.getBCHDigit(i.G15)>=0;)o^=i.G15<<i.getBCHDigit(o)-i.getBCHDigit(i.G15);return(a<<10|o)^i.G15_MASK},getBCHTypeNumber:function(a){for(var o=a<<12;i.getBCHDigit(o)-i.getBCHDigit(i.G18)>=0;)o^=i.G18<<i.getBCHDigit(o)-i.getBCHDigit(i.G18);return a<<12|o},getBCHDigit:function(a){for(var o=0;a!=0;)o++,a>>>=1;return o},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,o,s){switch(a){case n.PATTERN000:return(o+s)%2==0;case n.PATTERN001:return o%2==0;case n.PATTERN010:return s%3==0;case n.PATTERN011:return(o+s)%3==0;case n.PATTERN100:return(Math.floor(o/2)+Math.floor(s/3))%2==0;case n.PATTERN101:return o*s%2+o*s%3==0;case n.PATTERN110:return(o*s%2+o*s%3)%2==0;case n.PATTERN111:return(o*s%3+(o+s)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var o=new e([1],0),s=0;s<a;s++)o=o.multiply(new e([1,t.gexp(s)],0));return o},getLengthInBits:function(a,o){if(1<=o&&o<10)switch(a){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(o<27)switch(a){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(o<41)switch(a){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+o)},getLostPoint:function(a){for(var o=a.getModuleCount(),s=0,l=0;l<o;l++)for(var c=0;c<o;c++){for(var g=0,x=a.isDark(l,c),A=-1;A<=1;A++)if(!(l+A<0||o<=l+A))for(var E=-1;E<=1;E++)c+E<0||o<=c+E||A==0&&E==0||x==a.isDark(l+A,c+E)&&g++;g>5&&(s+=3+g-5)}for(var l=0;l<o-1;l++)for(var c=0;c<o-1;c++){var _=0;a.isDark(l,c)&&_++,a.isDark(l+1,c)&&_++,a.isDark(l,c+1)&&_++,a.isDark(l+1,c+1)&&_++,(_==0||_==4)&&(s+=3)}for(var l=0;l<o;l++)for(var c=0;c<o-6;c++)a.isDark(l,c)&&!a.isDark(l,c+1)&&a.isDark(l,c+2)&&a.isDark(l,c+3)&&a.isDark(l,c+4)&&!a.isDark(l,c+5)&&a.isDark(l,c+6)&&(s+=40);for(var c=0;c<o;c++)for(var l=0;l<o-6;l++)a.isDark(l,c)&&!a.isDark(l+1,c)&&a.isDark(l+2,c)&&a.isDark(l+3,c)&&a.isDark(l+4,c)&&!a.isDark(l+5,c)&&a.isDark(l+6,c)&&(s+=40);for(var T=0,c=0;c<o;c++)for(var l=0;l<o;l++)a.isDark(l,c)&&T++;var b=Math.abs(100*T/o/o-50)/5;return s+=b*10,s}};return Ld=i,Ld}var Fd,ex;function A_(){if(ex)return Fd;ex=1;var r=x_(),e=y_(),t=m_(),n=w_(),i=um();function a(s,l){this.typeNumber=s,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=a.prototype;return o.addData=function(s){var l=new r(s);this.dataList.push(l),this.dataCache=null},o.isDark=function(s,l){if(s<0||this.moduleCount<=s||l<0||this.moduleCount<=l)throw new Error(s+","+l);return this.modules[s][l]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var s=1;for(s=1;s<40;s++){for(var l=e.getRSBlocks(s,this.errorCorrectLevel),c=new t,g=0,x=0;x<l.length;x++)g+=l[x].dataCount;for(var x=0;x<this.dataList.length;x++){var A=this.dataList[x];c.put(A.mode,4),c.put(A.getLength(),n.getLengthInBits(A.mode,s)),A.write(c)}if(c.getLengthInBits()<=g*8)break}this.typeNumber=s}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(s,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++)this.modules[c][g]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,l),this.typeNumber>=7&&this.setupTypeNumber(s),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},o.setupPositionProbePattern=function(s,l){for(var c=-1;c<=7;c++)if(!(s+c<=-1||this.moduleCount<=s+c))for(var g=-1;g<=7;g++)l+g<=-1||this.moduleCount<=l+g||(0<=c&&c<=6&&(g==0||g==6)||0<=g&&g<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=g&&g<=4?this.modules[s+c][l+g]=!0:this.modules[s+c][l+g]=!1)},o.getBestMaskPattern=function(){for(var s=0,l=0,c=0;c<8;c++){this.makeImpl(!0,c);var g=n.getLostPoint(this);(c==0||s>g)&&(s=g,l=c)}return l},o.createMovieClip=function(s,l,c){var g=s.createEmptyMovieClip(l,c),x=1;this.make();for(var A=0;A<this.modules.length;A++)for(var E=A*x,_=0;_<this.modules[A].length;_++){var T=_*x,b=this.modules[A][_];b&&(g.beginFill(0,100),g.moveTo(T,E),g.lineTo(T+x,E),g.lineTo(T+x,E+x),g.lineTo(T,E+x),g.endFill())}return g},o.setupTimingPattern=function(){for(var s=8;s<this.moduleCount-8;s++)this.modules[s][6]==null&&(this.modules[s][6]=s%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},o.setupPositionAdjustPattern=function(){for(var s=n.getPatternPosition(this.typeNumber),l=0;l<s.length;l++)for(var c=0;c<s.length;c++){var g=s[l],x=s[c];if(this.modules[g][x]==null)for(var A=-2;A<=2;A++)for(var E=-2;E<=2;E++)A==-2||A==2||E==-2||E==2||A==0&&E==0?this.modules[g+A][x+E]=!0:this.modules[g+A][x+E]=!1}},o.setupTypeNumber=function(s){for(var l=n.getBCHTypeNumber(this.typeNumber),c=0;c<18;c++){var g=!s&&(l>>c&1)==1;this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=g}for(var c=0;c<18;c++){var g=!s&&(l>>c&1)==1;this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=g}},o.setupTypeInfo=function(s,l){for(var c=this.errorCorrectLevel<<3|l,g=n.getBCHTypeInfo(c),x=0;x<15;x++){var A=!s&&(g>>x&1)==1;x<6?this.modules[x][8]=A:x<8?this.modules[x+1][8]=A:this.modules[this.moduleCount-15+x][8]=A}for(var x=0;x<15;x++){var A=!s&&(g>>x&1)==1;x<8?this.modules[8][this.moduleCount-x-1]=A:x<9?this.modules[8][15-x-1+1]=A:this.modules[8][15-x-1]=A}this.modules[this.moduleCount-8][8]=!s},o.mapData=function(s,l){for(var c=-1,g=this.moduleCount-1,x=7,A=0,E=this.moduleCount-1;E>0;E-=2)for(E==6&&E--;;){for(var _=0;_<2;_++)if(this.modules[g][E-_]==null){var T=!1;A<s.length&&(T=(s[A]>>>x&1)==1);var b=n.getMask(l,g,E-_);b&&(T=!T),this.modules[g][E-_]=T,x--,x==-1&&(A++,x=7)}if(g+=c,g<0||this.moduleCount<=g){g-=c,c=-c;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(s,l,c){for(var g=e.getRSBlocks(s,l),x=new t,A=0;A<c.length;A++){var E=c[A];x.put(E.mode,4),x.put(E.getLength(),n.getLengthInBits(E.mode,s)),E.write(x)}for(var _=0,A=0;A<g.length;A++)_+=g[A].dataCount;if(x.getLengthInBits()>_*8)throw new Error("code length overflow. ("+x.getLengthInBits()+">"+_*8+")");for(x.getLengthInBits()+4<=_*8&&x.put(0,4);x.getLengthInBits()%8!=0;)x.putBit(!1);for(;!(x.getLengthInBits()>=_*8||(x.put(a.PAD0,8),x.getLengthInBits()>=_*8));)x.put(a.PAD1,8);return a.createBytes(x,g)},a.createBytes=function(s,l){for(var c=0,g=0,x=0,A=new Array(l.length),E=new Array(l.length),_=0;_<l.length;_++){var T=l[_].dataCount,b=l[_].totalCount-T;g=Math.max(g,T),x=Math.max(x,b),A[_]=new Array(T);for(var R=0;R<A[_].length;R++)A[_][R]=255&s.buffer[R+c];c+=T;var M=n.getErrorCorrectPolynomial(b),B=new i(A[_],M.getLength()-1),k=B.mod(M);E[_]=new Array(M.getLength()-1);for(var R=0;R<E[_].length;R++){var z=R+k.getLength()-E[_].length;E[_][R]=z>=0?k.get(z):0}}for(var $=0,R=0;R<l.length;R++)$+=l[R].totalCount;for(var V=new Array($),te=0,R=0;R<g;R++)for(var _=0;_<l.length;_++)R<A[_].length&&(V[te++]=A[_][R]);for(var R=0;R<x;R++)for(var _=0;_<l.length;_++)R<E[_].length&&(V[te++]=E[_][R]);return V},Fd=a,Fd}var Fc={},tx;function E_(){if(tx)return Fc;tx=1,Object.defineProperty(Fc,"__esModule",{value:!0});var r=Object.assign||function(c){for(var g=1;g<arguments.length;g++){var x=arguments[g];for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(c[A]=x[A])}return c},e=E2(),t=a(e),n=$u(),i=a(n);function a(c){return c&&c.__esModule?c:{default:c}}function o(c,g){var x={};for(var A in c)g.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(c,A)&&(x[A]=c[A]);return x}var s={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},l=(0,n.forwardRef)(function(c,g){var x=c.bgColor,A=c.bgD,E=c.fgD,_=c.fgColor,T=c.size,b=c.title,R=c.viewBoxSize,M=c.xmlns,B=M===void 0?"http://www.w3.org/2000/svg":M,k=o(c,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",r({},k,{height:T,ref:g,viewBox:"0 0 "+R+" "+R,width:T,xmlns:B}),b?i.default.createElement("title",null,b):null,i.default.createElement("path",{d:A,fill:x}),i.default.createElement("path",{d:E,fill:_}))});return l.displayName="QRCodeSvg",l.propTypes=s,Fc.default=l,Fc}var rx;function C_(){if(rx)return Mu;rx=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.QRCode=void 0;var r=Object.assign||function(T){for(var b=1;b<arguments.length;b++){var R=arguments[b];for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(T[M]=R[M])}return T},e=E2(),t=x(e),n=am(),i=x(n),a=A_(),o=x(a),s=$u(),l=x(s),c=E_(),g=x(c);function x(T){return T&&T.__esModule?T:{default:T}}function A(T,b){var R={};for(var M in T)b.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(T,M)&&(R[M]=T[M]);return R}var E={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},_=(0,s.forwardRef)(function(T,b){var R=T.bgColor,M=R===void 0?"#FFFFFF":R,B=T.fgColor,k=B===void 0?"#000000":B,z=T.level,$=z===void 0?"L":z,V=T.size,te=V===void 0?256:V,q=T.value,pe=A(T,["bgColor","fgColor","level","size","value"]),Be=new o.default(-1,i.default[$]);Be.addData(q),Be.make();var ge=Be.modules;return l.default.createElement(g.default,r({},pe,{bgColor:M,bgD:ge.map(function(Ee,Ye){return Ee.map(function(le,ht){return le?"":"M "+ht+" "+Ye+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:k,fgD:ge.map(function(Ee,Ye){return Ee.map(function(le,ht){return le?"M "+ht+" "+Ye+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:b,size:te,viewBoxSize:ge.length}))});return Mu.QRCode=_,_.displayName="QRCode",_.propTypes=E,Mu.default=_,Mu}var __=C_();const T2=xl(__),S_=({id:r,onClose:e})=>{const[t,n]=K.useState("");K.useEffect(()=>{console.log(r),i()},[r]);const i=async()=>{if(r)try{const a=await kt.get(`/dorm-user/getUserCode/${r}`);n(a.data.code),console.log(a.data)}catch(a){console.error("Failed to fetch package:",a)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-box",children:[U.jsx("h3",{children:"QR Code ของคุณ"}),U.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"20px 0"},children:U.jsx(T2,{value:t,size:300})}),U.jsxs("p",{children:["รหัส QR Code: ",t]}),U.jsx("button",{className:"modal-button",onClick:e,children:"ปิด"})]})})},I_=()=>{const r=async()=>{try{await kt.post("/email/sendEmail"),alert("email sent!")}catch(e){console.error(e),alert("Failed to send email")}};return U.jsx("button",{onClick:r,children:"Send Mock Email"})},T_="/PackageManagement/assets/package-large-Ivr_o05Z.png",O_="/PackageManagement/assets/dorm1-D0zsLX4D.png",N_=()=>{const r=Da(),e=1,[t,n]=K.useState([]),[i,a]=K.useState([]),[o,s]=K.useState(!1),[l,c]=K.useState("");K.useEffect(()=>{g(),x()},[]);const g=async()=>{try{const A=await kt.post("/package/getByUserID",{userID:e});n(A.data)}catch(A){console.error("Failed to fetch packages:",A)}},x=async()=>{try{const A=await kt.post("/dorm-user/getByUserID",{userID:e});a(A.data),console.log(A.data)}catch(A){console.error("Failed to fetch dorms:",A)}};return U.jsxs("div",{className:"dashboard-container",children:[U.jsx("h2",{children:"หน้าหลัก"}),U.jsxs("div",{className:"dashboard-package-container",children:[U.jsxs("div",{className:"flex-between-menu",style:{width:"100%"},children:[U.jsxs("div",{className:"package-title",children:[U.jsx("p",{children:"จำนวนพัสดุที่ยังไม่ได้รับ"}),U.jsxs("h1",{children:[t.length," รายการ"]})]}),U.jsx("img",{src:T_})]}),U.jsxs("div",{className:"mybtn btn-peel",onClick:()=>r("/mypackage"),children:["ไปยังหน้ารวมพัสดุของฉัน ",U.jsx(Wu,{icon:Jg})]})]}),U.jsx("h2",{children:"หอพักของคุณ"}),U.jsx("div",{className:"dorm-container",children:i.map(A=>U.jsxs("div",{className:"dorm-card",onClick:()=>r(`/dorm/${A.dormID}`),children:[U.jsx("div",{className:"dorm-image",children:U.jsx("img",{src:A.pathToPicture!=""&&A.pathToPicture!=null?`${Ja}${A.pathToPicture}`:O_})}),U.jsxs("div",{className:"dorm-info",children:[U.jsx("p",{children:A.dormName}),U.jsx("div",{className:"mybtn btn-icon btn-black",children:U.jsx(Wu,{icon:Jg})})]})]},A.id))}),o&&U.jsx(S_,{id:l,onClose:()=>{s(!1),c("")}}),U.jsx(I_,{})]})},b_=()=>U.jsx("div",{children:"Unknown"}),R_=()=>{const[r,e]=K.useState(""),[t,n]=K.useState(""),{login:i}=K.useContext(Cf),a=Da(),o=async s=>{if(s.preventDefault(),r=="dev"){localStorage.setItem("backend_url",t),alert(`Backend URL set to: ${t}`),window.location.reload();return}try{const l=await kt.post("/user/login",{username:r,password:t});localStorage.setItem("token",l.data.token),localStorage.setItem("user",JSON.stringify(l.data.user)),i(l.data.user,l.data.token),alert("Successful Login"),a("/dashboard")}catch(l){console.error("Login failed:",l),alert("Login failed")}};return U.jsx("div",{className:"login-container",children:U.jsxs("form",{className:"login-form",onSubmit:o,children:[U.jsx("h2",{className:"login-title",children:"เข้าสู่ระบบ"}),U.jsx("label",{htmlFor:"username",children:"Username"}),U.jsx("input",{id:"username",type:"text",placeholder:"Username",className:"login-input",value:r,onChange:s=>e(s.target.value),required:!0}),U.jsx("label",{htmlFor:"password",children:"Password"}),U.jsx("input",{id:"password",type:"password",placeholder:"Password",className:"login-input",value:t,onChange:s=>n(s.target.value),required:!0}),U.jsx("a",{onClick:()=>a("/register"),children:"สมัครสมาชิก"}),U.jsx("button",{type:"submit",className:"login-button",children:"Login"})]})})},D_=()=>{const[r,e]=K.useState(""),[t,n]=K.useState(""),[i,a]=K.useState(""),[o,s]=K.useState(""),l=Da(),c=async g=>{if(g.preventDefault(),t!==i){alert("Passwords do not match");return}try{const x=await kt.post("/user/register",{username:r,password:t,email:o});alert("Registered successfully"),l("/dashboard")}catch(x){console.error("Registration failed:",x),alert(`ERROR:
`+x.response.data.message)}};return U.jsx("div",{className:"login-container",children:U.jsxs("form",{className:"login-form",onSubmit:c,children:[U.jsx("h2",{className:"login-title",children:"สมัครสมาชิก"}),U.jsx("label",{htmlFor:"username",children:"Username"}),U.jsx("input",{id:"username",type:"text",className:"login-input",placeholder:"Username",value:r,onChange:g=>e(g.target.value),required:!0}),U.jsx("label",{htmlFor:"password",children:"Password"}),U.jsx("input",{id:"password",type:"password",className:"login-input",placeholder:"Password",value:t,onChange:g=>n(g.target.value),required:!0}),U.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),U.jsx("input",{id:"confirmPassword",type:"password",className:"login-input",placeholder:"Confirm Password",value:i,onChange:g=>a(g.target.value),required:!0}),U.jsx("label",{htmlFor:"email",children:"Email"}),U.jsx("input",{id:"email",type:"email",className:"login-input",placeholder:"Email",value:o,onChange:g=>s(g.target.value),required:!0}),U.jsx("a",{onClick:()=>l("/login"),children:"เข้าสู่ระบบ"}),U.jsx("button",{type:"submit",className:"login-button",children:"Register"})]})})},M_=({roomData:r,onClose:e,onRefresh:t})=>{const[n,i]=K.useState(r.roomNo),a=async()=>{try{await kt.put(`/dorm-room/update/${r.id}`,{roomNo:n}),t(),e()}catch(s){console.error("Failed to update room:",s)}},o=async()=>{try{await kt.delete(`/dorm-room/delete/${r.id}`),t(),e()}catch(s){console.error("Failed to delete room:",s)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("h3",{children:"แก้ไขห้องพัก"}),U.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),placeholder:"เลขห้อง"}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{onClick:e,children:"ยกเลิก"}),U.jsx("button",{onClick:o,style:{backgroundColor:"red",color:"white"},children:"ลบห้อง"}),U.jsx("button",{onClick:a,children:"บันทึก"})]})]})})},P_=({dormID:r,onClose:e,onRefresh:t})=>{const[n,i]=K.useState(""),a=async()=>{try{await kt.post("/dorm-room/create",{dormID:r,roomNo:n}),t(),e()}catch(o){console.error("Failed to add room:",o)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("h3",{children:"เพิ่มห้องพัก"}),U.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),placeholder:"หมายเลขห้อง"}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{onClick:a,children:"เพิ่ม"}),U.jsx("button",{onClick:e,children:"ยกเลิก"})]})]})})},B_=()=>{const{id:r}=Ma(),[e,t]=K.useState([]),[n,i]=K.useState(null),[a,o]=K.useState(!1),s=async()=>{try{const l=await kt.get(`/dorm-room/getAllRoom/${r}`);t(l.data)}catch(l){console.error("Failed to fetch rooms:",l)}};return K.useEffect(()=>{s()},[r]),U.jsxs("div",{children:[U.jsxs("div",{className:"flex-between-menu",children:[U.jsx("h2",{children:"จัดการห้องพัก"}),U.jsx("a",{onClick:()=>o(!0),children:"เพิ่มห้องพัก"})]}),e.map(l=>U.jsxs("div",{className:"user-card",children:[U.jsx("div",{className:"user-info",children:U.jsx("p",{children:l.roomNo})}),U.jsx("div",{className:"user-action",children:U.jsx("button",{className:"go-button",onClick:()=>i(l),children:"จัดการ"})})]},l.id)),n&&U.jsx(M_,{roomData:n,onClose:()=>i(null),onRefresh:s}),a&&U.jsx(P_,{dormID:r,onClose:()=>o(!1),onRefresh:s})]})},L_=({dormData:r,setIsEditMode:e,refreshDorm:t})=>{const[n,i]=K.useState(r.name),[a,o]=K.useState(r.address),[s,l]=K.useState(r.ownerName),[c,g]=K.useState(r.phoneNo),x=async()=>{try{await kt.put(`/dorm/update/${r.id}`,{name:n,address:a,ownerName:s,phoneNo:c}),await t(),e(!1)}catch(A){console.error("Failed to update dorm:",A)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("h3",{children:"แก้ไขรายละเอียดหอพัก"}),U.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"ชื่อหอพัก"}),U.jsx("input",{type:"text",value:a,onChange:A=>o(A.target.value),placeholder:"ที่อยู่"}),U.jsx("input",{type:"text",value:s,onChange:A=>l(A.target.value),placeholder:"เจ้าของหอพัก"}),U.jsx("input",{type:"text",value:c,onChange:A=>g(A.target.value),placeholder:"เบอร์ติดต่อ"}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{onClick:x,children:"ยืนยัน"}),U.jsx("button",{onClick:()=>e(!1),children:"ยกเลิก"})]})]})})},F_=()=>{const{id:r}=Ma(),[e,t]=K.useState(null),[n,i]=K.useState(!1);K.useEffect(()=>{r&&a()},[r]);const a=async()=>{try{const o=await kt.get(`/dorm/info/${r}`);t(o.data)}catch(o){console.error("Error fetching dorm:",o)}};return e?n?U.jsx(L_,{dormData:e,setIsEditMode:i,refreshDorm:a}):U.jsxs("div",{children:[U.jsxs("div",{className:"flex-between-menu",children:[U.jsx("h2",{className:"page-header",children:"ข้อมูลหอพัก"}),U.jsx("a",{onClick:()=>i(!0),children:"แก้ไขรายละเอียด"})]}),U.jsxs("div",{className:"dorm-detail",children:[U.jsxs("div",{className:"dorm-info-text",children:[U.jsxs("p",{children:[U.jsx("strong",{children:"ชื่อหอพัก:"})," ",e.name]}),U.jsxs("p",{children:[U.jsx("strong",{children:"ที่อยู่:"})," ",e.address]}),U.jsxs("p",{children:[U.jsx("strong",{children:"เจ้าของหอพัก:"})," ",e.ownerName]}),U.jsxs("p",{children:[U.jsx("strong",{children:"เบอร์ติดต่อ:"})," ",e.phoneNo]})]}),e.pathToPicture&&U.jsx("img",{className:"dorm-image",src:`${Ja}${e.pathToPicture}`,alt:"Dorm"})]})]}):U.jsx("div",{children:"Loading..."})},k_=()=>{const{id:r}=Ma(),e=Da(),t=Eo(),[n,i]=K.useState(null),a=o=>t.pathname.endsWith(o);return K.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("token");if(!s)return;const l=await kt.get("/user/verify-token",{headers:{Authorization:`Bearer ${s}`}}),c=l.data.user.id;console.log("USER ID: ",c);const g=await kt.post("/dorm-user/getUserRoleByDorm",{userID:l.data.user.id,dormID:r});i(g.data.role),console.log("USER ROLE: ",g.data.role)}catch(s){console.error("Failed to determine user role:",s)}})()},[r]),U.jsxs("div",{className:"dorm-content",children:[U.jsxs("div",{className:"dorm-navbar",children:[U.jsx("div",{className:"dorm-name",children:U.jsxs("h2",{children:["หอพัก ",r]})}),U.jsx("div",{className:"nav-link",children:n==="owner"?U.jsxs(U.Fragment,{children:[U.jsx("a",{onClick:()=>e("./info"),className:`peel-tab ${a("info")?"peel-active":""}`,children:"ข้อมูลหอพัก"}),U.jsx("a",{onClick:()=>e("./qrinvite"),className:`peel-tab ${a("qrinvite")?"peel-active":""}`,children:"QR Code"}),U.jsx("a",{onClick:()=>e("./requests"),className:`peel-tab ${a("requests")?"peel-active":""}`,children:"คำขอเข้าร่วมหอพัก"}),U.jsx("a",{onClick:()=>e("./users"),className:`peel-tab ${a("users")?"peel-active":""}`,children:"จัดการผู้ใช้งานในหอพัก"}),U.jsx("a",{onClick:()=>e("./rooms"),className:`peel-tab ${a("rooms")?"peel-active":""}`,children:"จัดการห้องพัก"})]}):n==="manager"?U.jsxs(U.Fragment,{children:[U.jsx("a",{onClick:()=>e("./info"),className:`peel-tab ${a("info")?"peel-active":""}`,children:"ข้อมูลหอพัก"}),U.jsx("a",{onClick:()=>e("./allpackage"),className:`peel-tab ${a("allpackage")?"peel-active":""}`,children:"รายการพัสดุทั้งหมด"}),U.jsx("a",{onClick:()=>e("./deliver"),className:`peel-tab ${a("deliver")?"peel-active":""}`,children:"นำจ่ายพัสดุ"}),U.jsx("a",{onClick:()=>e("./addpackage"),className:`peel-tab ${a("addpackage")?"peel-active":""}`,children:"เพิ่มพัสดุ"})]}):U.jsxs(U.Fragment,{children:[U.jsx("p",{onClick:()=>e("./info"),className:`peel-tab ${a("info")?"peel-active":""}`,children:"ข้อมูลหอพัก"}),U.jsx("p",{onClick:()=>e("./myqrcode"),className:`peel-tab ${a("myqrcode")?"peel-active":""}`,children:"QR Code รับพัสดุ"}),U.jsx("p",{onClick:()=>e("./mypackage"),className:`peel-tab ${a("mypackage")?"peel-active":""}`,children:"พัสดุของฉัน"})]})})]}),U.jsx($y,{})]})},U_=({id:r,onClose:e})=>{const{id:t}=Ma(),[n,i]=K.useState({recipientID:"",recipientName:"",recipientRoomNo:"",trackingNo:"",pathToPicture:""}),[a,o]=K.useState([]),[s,l]=K.useState([]);K.useEffect(()=>{r&&(c(),g(),x())},[r]);const c=async()=>{try{const T=(await kt.post("/package/getById",{id:r})).data;i({recipientID:T.recipientID,recipientName:T.recipientName,recipientRoomNo:T.recipientRoomNo,trackingNo:T.trackingNo,pathToPicture:T.pathToPicture})}catch(_){console.error("Failed to fetch package:",_)}},g=async()=>{try{const _=await kt.get(`/dorm-room/getAllRoom/${t}`);o(_.data)}catch(_){console.error("Failed to fetch rooms:",_)}},x=async()=>{try{const _=await kt.post("/dorm-user/getAllUser",{dormID:t});l(_.data)}catch(_){console.error("Failed to fetch people:",_)}},A=_=>{const{name:T,value:b}=_.target;if(T==="recipientName"){const R=s.find(M=>M.fullName===b);i(M=>({...M,recipientName:b,recipientID:R?R.userID:""}))}else i(R=>({...R,[T]:b}))};K.useEffect(()=>{console.log(n)},[n]);const E=async()=>{try{await kt.post("/package/update",{...n,id:r}),e()}catch(_){console.error("Failed to update package:",_)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("h3",{children:"แก้ไขรายละเอียดพัสดุ"}),U.jsx("label",{htmlFor:"recipientName",children:"ชื่อผู้รับ"}),U.jsxs("select",{id:"recipientName",name:"recipientName",value:n.recipientName,onChange:A,children:[U.jsx("option",{value:"",children:"เลือกชื่อผู้รับ"}),s.map(_=>U.jsx("option",{value:_.fullName,children:_.fullName},_.userID))]}),U.jsx("label",{htmlFor:"roomNo",children:"หมายเลขห้อง"}),U.jsxs("select",{id:"roomNo",name:"recipientRoomNo",value:n.recipientRoomNo,onChange:A,children:[U.jsx("option",{value:"",children:"เลือกห้อง"}),a.map(_=>U.jsx("option",{value:_.roomNo,children:_.roomNo},_.id))]}),U.jsx("label",{htmlFor:"trackNo",children:"หมายเลขพัสดุ"}),U.jsx("input",{id:"trackNo",type:"text",name:"trackingNo",value:n.trackingNo,onChange:A,placeholder:"Tracking No."}),U.jsx("div",{style:{marginTop:"10px"},children:U.jsx("img",{src:n.pathToPicture?`${Ja}${n.pathToPicture}`:`${Ja}/packages/default.png`,alt:"พัสดุ",style:{width:"150px",borderRadius:"8px"}})}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{onClick:e,children:"ยกเลิก"}),U.jsx("button",{onClick:E,children:"ยืนยัน"})]})]})})},j_=()=>{const{id:r}=Ma(),[e,t]=K.useState("wait_for_deliver"),[n,i]=K.useState([]),[a,o]=K.useState(""),[s,l]=K.useState(!1),[c,g]=K.useState(""),x=Da(),A=async()=>{try{const E=await kt.post("/package/getByDormAndStatus",{dormID:r,status:e});i(E.data)}catch(E){console.error("Failed to fetch packages:",E)}};return K.useEffect(()=>{A()},[r,e]),U.jsxs("div",{children:[U.jsxs("div",{className:"flex-between-menu",children:[U.jsx("h2",{children:"รายการพัสดุทั้งหมด"}),U.jsx("a",{onClick:()=>x(`/dorm/${r}/deliver`),children:"นำจ่ายพัสดุ"})]}),U.jsx("input",{type:"text",className:"myinput",placeholder:"🔍 ค้นด้วยเลขพัสดุ / เลขห้อง / ชื่อผู้รับ",value:c,onChange:E=>g(E.target.value)}),U.jsxs("div",{className:"line-wrap",style:{marginTop:"15px"},children:[U.jsx("div",{className:`line-item ${e==="wait_for_deliver"?"selected":""}`,onClick:()=>t("wait_for_deliver"),children:"รอการนำจ่าย"}),U.jsx("div",{className:`line-item ${e==="delivered"?"selected":""}`,onClick:()=>t("delivered"),children:"นำจ่ายแล้ว"})]}),U.jsx("div",{className:"package-container",children:n.map(E=>U.jsxs("div",{className:"package-card",children:[U.jsx("div",{className:"package-image",children:U.jsx("img",{src:E.pathToPicture?`${Ja}${E.pathToPicture}`:`${Ja}/packages/default.png`,alt:"package"})}),U.jsxs("div",{className:"package-info",children:[U.jsxs("h2",{children:[E.recipientRoomNo," | ",E.recipientName]}),U.jsxs("h3",{style:{color:"#191970"},children:[U.jsx(Wu,{icon:wA})," ",E.trackingNo]}),U.jsxs("p",{children:["🗓️ เข้าสู่ระบบเมื่อ: ",new Date(E.registerTime).toLocaleString()]}),U.jsxs("p",{children:["👤 เพิ่มโดย: ",E.registerBy]})]}),E.status=="wait_for_deliver"&&U.jsx("div",{className:"package-action",children:U.jsx("button",{className:"go-button",onClick:()=>{l(!0),o(E.id)},children:"แก้ไขข้อมูล"})})]},E.id))}),s&&U.jsx(U_,{id:a,onClose:()=>{l(!1),o(""),A()}})]})},H_=()=>{const{id:r}=Ma(),e=Da(),[t,n]=K.useState("");return K.useEffect(()=>{(async()=>{try{const a=await kt.get(`/dorm/info/${r}`);n(a.data.inviteCode)}catch(a){console.error("Error fetching invite code:",a)}})()},[r]),U.jsxs("div",{children:[U.jsx("h2",{children:"QR Code ของหอพัก"}),U.jsx("p",{children:"ใช้สำหรับการเข้าร่วมหอพัก"}),t?U.jsxs(U.Fragment,{children:[U.jsx("div",{style:{marginTop:"20px"},children:U.jsx(T2,{value:t})}),U.jsxs("p",{children:["รหัส Code: ",t]})]}):U.jsx("p",{children:"กำลังโหลด..."}),U.jsx("button",{className:"mybutton",onClick:()=>e("/"),children:"กลับไปหน้าหลัก"})]})},V_=({id:r,handleCloseModal:e})=>{const[t,n]=K.useState(""),[i,a]=K.useState(""),[o,s]=K.useState(""),[l,c]=K.useState([]),[g,x]=K.useState("");K.useEffect(()=>{o==="tenant"&&E()},[o]),K.useEffect(()=>{A()},[r]);const A=async()=>{try{const T=await kt.get(`/request/${r}`);n(T.data.fullName),a(T.data.dormID)}catch(T){console.error("Failed to fetch full name from request:",T)}},E=async()=>{try{const T=await kt.get(`/dorm-room/getAllRoom/${i}`);c(T.data)}catch(T){console.error("Failed to fetch rooms",T)}},_=async()=>{try{await kt.post("/dorm-user/addUser",{fullName:t,role:o,roomID:o==="tenant"?g:0,userID:1,dormID:i,requestID:r}),await kt.delete(`/request/deleteRequest/${r}`),e()}catch(T){console.error("Submit error",T)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("h3",{children:"จัดการคำขอ"}),U.jsx("input",{type:"text",value:t,onChange:T=>n(T.target.value),placeholder:"ชื่อ-นามสกุล"}),U.jsxs("select",{value:o,onChange:T=>s(T.target.value),children:[U.jsx("option",{value:"",children:"เลือกบทบาท"}),U.jsx("option",{value:"tenant",children:"ผู้เช่า"}),U.jsx("option",{value:"package_manager",children:"เจ้าหน้าที่พัสดุ"}),U.jsx("option",{value:"admin",children:"แอดมิน"})]}),o==="tenant"&&U.jsxs("select",{value:g,onChange:T=>x(T.target.value),children:[U.jsx("option",{value:"",children:"เลือกห้องพัก"}),l.map(T=>U.jsx("option",{value:T.id,children:T.roomNo},T.id))]}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{onClick:_,children:"ยืนยัน"}),U.jsx("button",{onClick:e,children:"ยกเลิก"})]})]})})},z_=()=>{const{id:r}=Ma(),[e,t]=K.useState([]),[n,i]=K.useState(!1),[a,o]=K.useState("");K.useEffect(()=>{s()},[r]);const s=async()=>{try{const g=await kt.get(`/request/getAllRequestInDorm/${r}`);t(g.data)}catch(g){console.error("Error fetching requests:",g)}},l=g=>{o(g),i(!0)},c=()=>{o(""),i(!1),s()};return U.jsxs("div",{children:[U.jsx("h2",{children:"คำขอเข้าร่วมหอพัก"}),U.jsx("div",{className:"package-container",children:e.map(g=>U.jsxs("div",{className:"package-card",children:[U.jsx("div",{className:"package-image"}),U.jsxs("div",{className:"package-info",children:[U.jsx("p",{children:U.jsxs("strong",{children:["หอพัก ",g.dormID," ห้องพัก ",g.roomID||"-"]})}),U.jsxs("p",{children:["ชื่อผู้ขอ: ",g.fullName]}),U.jsxs("p",{children:["วันที่: ",new Date(g.date).toLocaleString()]}),U.jsxs("p",{children:["สถานะ: ",g.status]})]}),U.jsx("div",{className:"package-action",children:U.jsx("button",{className:"go-button",onClick:()=>l(g.id),children:"จัดการคำขอ"})})]},g.id))}),n&&U.jsx(V_,{id:a,handleCloseModal:c})]})},G_=({id:r,onClose:e})=>{const{id:t}=Ma(),[n,i]=K.useState(""),[a,o]=K.useState(""),[s,l]=K.useState(""),[c,g]=K.useState([]);K.useEffect(()=>{r&&x()},[r]),K.useEffect(()=>{a==="tenant"&&A()},[a]);const x=async()=>{try{const _=await kt.post("/dorm-user/getById",{id:r});i(_.data.fullName),o(_.data.role),l(_.data.roomID||"")}catch(_){console.error("Failed to fetch user:",_)}},A=async()=>{try{const _=await kt.get(`/dorm-room/getAllRoom/${t}`);g(_.data)}catch(_){console.error("Failed to fetch rooms:",_)}},E=async()=>{try{await kt.post("/dorm-user/updateUser",{id:r,fullName:n,role:a,roomID:a==="tenant"?s:0}),e()}catch(_){console.error("Failed to update user:",_)}};return U.jsx("div",{className:"modal-overlay",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("h3",{children:"แก้ไขผู้ใช้"}),U.jsx("input",{type:"text",value:n,onChange:_=>i(_.target.value),placeholder:"ชื่อ-นามสกุล"}),U.jsxs("select",{value:a,onChange:_=>o(_.target.value),children:[U.jsx("option",{value:"",children:"เลือกบทบาท"}),U.jsx("option",{value:"tenant",children:"ผู้เช่า"}),U.jsx("option",{value:"package_manager",children:"เจ้าหน้าที่พัสดุ"}),U.jsx("option",{value:"admin",children:"แอดมิน"})]}),a==="tenant"&&U.jsxs("select",{value:s,onChange:_=>l(_.target.value),children:[U.jsx("option",{value:"",children:"เลือกห้องพัก"}),c.map(_=>U.jsx("option",{value:_.id,children:_.roomNo},_.id))]}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{onClick:E,children:"ยืนยัน"}),U.jsx("button",{onClick:e,children:"ยกเลิก"})]})]})})},W_=()=>{const{id:r}=Ma(),[e,t]=K.useState("tenant"),[n,i]=K.useState([]),[a,o]=K.useState(""),[s,l]=K.useState(!1),c=async()=>{try{const g=await kt.post("/dorm-user/getByDormAndRole",{dormID:r,role:e});i(g.data)}catch(g){console.error("Failed to fetch users:",g)}};return K.useEffect(()=>{c()},[r,e]),U.jsxs("div",{children:[U.jsx("h2",{children:"จัดการผู้ใช้งานในหอพัก"}),U.jsxs("div",{className:"line-wrap",children:[U.jsx("div",{className:`line-item ${e==="tenant"?"selected":""}`,onClick:()=>t("tenant"),children:"ผู้เช่า"}),U.jsx("div",{className:`line-item ${e==="package_manager"?"selected":""}`,onClick:()=>t("package_manager"),children:"เจ้าหน้าที่พัสดุ"}),U.jsx("div",{className:`line-item ${e==="admin"?"selected":""}`,onClick:()=>t("admin"),children:"ผู้ดูแล"})]}),U.jsx("h3",{children:"ผู้ใช้ทั้งหมด"}),n.map(g=>U.jsxs("div",{className:"user-card",children:[U.jsx("div",{className:"user-info",children:U.jsxs("p",{children:[g.roomID?U.jsx("strong",{children:g.roomID}):null," ",g.fullName]})}),U.jsx("div",{className:"user-action",onClick:()=>{o(g.id),l(!0)},children:U.jsx("button",{className:"go-button",children:"จัดการ"})})]},g.id)),s&&U.jsx(G_,{id:a,onClose:()=>{l(!1),o(""),c()}})]})};function X_(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function Y_(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var $_=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lm=function(r){$_(e,r);function e(t,n){var i=this.constructor,a=r.call(this,t,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),X_(a,i.prototype),Y_(a),a}return e}(Error),Z_=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oi=function(r){Z_(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(lm),K_=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ca=function(r){K_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Oi),Q_=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),at=function(r){Q_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Oi),q_=function(){function r(e){if(this.binarizer=e,e===null)throw new at("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}(),J_=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),On=function(r){J_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Oi),e6=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}(),xr=function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}(),t6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O2=function(r){t6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Oi),r6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nx=function(r){r6(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(O2),n6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pn=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new at("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new nx(t);if(n>e)throw new nx(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=n6(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return xr.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(t,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},r.numberComparator=function(e,t){return e-t},r}(),Ct=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),bn=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);xr.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=n[i]}var s=i*32+Ct.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=~n[i]}var s=i*32+Ct.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new at;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:t&31,c=(2<<l)-(1<<s);a[o]|=c}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new at;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,c=s<a?31:t&31,g=(2<<c)-(1<<l)&4294967295;if((o[s]&g)!==(n?g:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new at("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new at("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[n+a]=o}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var c=e[a];l|=c<<32-s,e[a-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&pn.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+pn.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r}(),Nh;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Nh||(Nh={}));const Nr=Nh;var i6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Me=function(r){i6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Oi),a6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rr;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(rr||(rr={}));var dn=function(){function r(e,t,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,g=l.length;c!==g;c++){var x=l[c];r.VALUES_TO_ECI.set(x,this)}try{for(var A=a6(o),E=A.next();!E.done;E=A.next()){var _=E.value;r.NAME_TO_ECI.set(_,this)}}catch(T){i={error:T}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Me("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new Me("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new Me("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(rr.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(rr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(rr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(rr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(rr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(rr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(rr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(rr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(rr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(rr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(rr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(rr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(rr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(rr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(rr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(rr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(rr.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(rr.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(rr.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(rr.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(rr.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(rr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(rr.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(rr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(rr.Big5,28,"Big5"),r.GB18030=new r(rr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(rr.EUC_KR,30,"EUC_KR","EUC-KR"),r}(),o6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rf=function(r){o6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Oi),la=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof dn?e:dn.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(dn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new rf("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(dn.UTF8)||e.equals(dn.ISO8859_1)||e.equals(dn.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r}(),Dt=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return la.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Nr.CHARACTER_SET)!==void 0)return t.get(Nr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,c=0,g=0,x=0,A=0,E=0,_=0,T=0,b=0,R=0,M=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,B=0;B<n&&(i||a||o);B++){var k=e[B]&255;o&&(s>0?k&128?s--:o=!1:k&128&&(k&64?(s++,k&32?(s++,k&16?(s++,k&8?o=!1:g++):c++):l++):o=!1)),i&&(k>127&&k<160?i=!1:k>159&&(k<192||k===215||k===247)&&R++),a&&(x>0?k<64||k===127||k>252?a=!1:x--:k===128||k===160||k>239?a=!1:k>160&&k<224?(A++,_=0,E++,E>T&&(T=E)):k>127?(x++,E=0,_++,_>b&&(b=_)):(E=0,_=0))}return o&&s>0&&(o=!1),a&&x>0&&(a=!1),o&&(M||l+c+g>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||T>=3||b>=3)?r.SHIFT_JIS:i&&a?T===2&&A===2||R*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:o?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(s,l,c,g,x,A){if(s==="%%")return"%";if(t[++i]!==void 0){s=g?parseInt(g.substr(1)):void 0;var E=x?parseInt(x.substr(1)):void 0,_;switch(A){case"s":_=t[i];break;case"c":_=t[i][0];break;case"f":_=parseFloat(t[i]).toFixed(s);break;case"p":_=parseFloat(t[i]).toPrecision(s);break;case"e":_=parseFloat(t[i]).toExponential(s);break;case"x":_=parseInt(t[i]).toString(E||16);break;case"d":_=parseFloat(parseInt(t[i],E||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(E);for(var T=parseInt(c),b=c&&c[0]+""=="0"?"0":" ";_.length<T;)_=l!==void 0?_+b:b+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.getBytes=function(e,t){return la.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=dn.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=dn.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=dn.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}(),mt=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Dt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r}(),eo=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new at("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new at("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new at("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new at("illegal character encountered: "+e.substring(c));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new at("row lengths do not match");l++}for(var g=new r(s,l),x=0;x<a;x++)i[x]&&g.set(Math.floor(x%s),Math.floor(x/s));return g},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new at("input matrix dimensions do not match");for(var t=new bn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,t).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new at("Left and top must be nonnegative");if(i<1||n<1)throw new at("Height and width must be at least 1");var a=e+n,o=t+i;if(o>this.height||a>this.width)throw new at("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=t;c<o;c++)for(var g=c*s,x=e;x<a;x++)l[g+Math.floor(x/32)]|=1<<(x&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new bn(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(o*32,i[a+o]);return t},r.prototype.setRow=function(e,t){xr.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new bn(e),i=new bn(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,o=t,s=-1,l=-1,c=0;c<t;c++)for(var g=0;g<n;g++){var x=i[c*n+g];if(x!==0){if(c<o&&(o=c),c>l&&(l=c),g*32<a){for(var A=0;!(x<<31-A&4294967295);)A++;g*32+A<a&&(a=g*32+A)}if(g*32+31>s){for(var A=31;!(x>>>A);)A--;g*32+A>s&&(s=g*32+A)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,o=t[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=t[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&pn.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+pn.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new mt,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}(),s6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xe=function(r){s6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Oi),u6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),l6=function(r){u6(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new bn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var g=o[0]&255,x=o[1]&255,l=1;l<a-1;l++){var A=o[l+1]&255;(x*4-g-A)/2<c&&n.set(l),g=x,x=A}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new eo(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=t.getRow(l,this.luminances),g=Math.floor(n*4/5),x=Math.floor(n/5);x<g;x++){var A=c[x]&255;o[A>>e.LUMINANCE_SHIFT]++}for(var E=e.estimateBlackPoint(o),_=t.getMatrix(),s=0;s<i;s++)for(var T=s*n,x=0;x<n;x++){var A=_[T+x]&255;A<E&&a.set(x,s)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,o=0,s=0;s<n;s++)t[s]>o&&(a=s,o=t[s]),t[s]>i&&(i=t[s]);for(var l=0,c=0,s=0;s<n;s++){var g=s-a,x=t[s]*g*g;x>c&&(l=s,c=x)}if(a>l){var A=a;a=l,l=A}if(l-a<=n/16)throw new xe;for(var E=l-1,_=-1,s=l-1;s>a;s--){var T=s-a,x=T*T*(l-s)*(i-t[s]);x>_&&(E=s,_=x)}return E<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(e6),c6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f6=function(r){c6(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),c=new eo(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,c),this.matrix=c}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,o,s,l){for(var c=o-e.BLOCK_SIZE,g=a-e.BLOCK_SIZE,x=0;x<i;x++){var A=x<<e.BLOCK_SIZE_POWER;A>c&&(A=c);for(var E=e.cap(x,2,i-3),_=0;_<n;_++){var T=_<<e.BLOCK_SIZE_POWER;T>g&&(T=g);for(var b=e.cap(_,2,n-3),R=0,M=-2;M<=2;M++){var B=s[E+M];R+=B[b-2]+B[b-1]+B[b]+B[b+1]+B[b+2]}var k=R/25;e.thresholdBlock(t,T,A,k,a,l)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,o,s){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var g=0;g<e.BLOCK_SIZE;g++)(t[c+g]&255)<=a&&s.set(n+g,i+l)},e.calculateBlackPoints=function(t,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),g=0;g<i;g++){c[g]=new Int32Array(n);var x=g<<e.BLOCK_SIZE_POWER;x>s&&(x=s);for(var A=0;A<n;A++){var E=A<<e.BLOCK_SIZE_POWER;E>l&&(E=l);for(var _=0,T=255,b=0,R=0,M=x*a+E;R<e.BLOCK_SIZE;R++,M+=a){for(var B=0;B<e.BLOCK_SIZE;B++){var k=t[M+B]&255;_+=k,k<T&&(T=k),k>b&&(b=k)}if(b-T>e.MIN_DYNAMIC_RANGE)for(R++,M+=a;R<e.BLOCK_SIZE;R++,M+=a)for(var B=0;B<e.BLOCK_SIZE;B++)_+=t[M+B]&255}var z=_>>e.BLOCK_SIZE_POWER*2;if(b-T<=e.MIN_DYNAMIC_RANGE&&(z=T/2,g>0&&A>0)){var $=(c[g-1][A]+2*c[g][A-1]+c[g-1][A-1])/4;T<$&&(z=$)}c[g][A]=z}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(l6),Ff=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new rf("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new rf("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new rf("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new mt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},r}(),d6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),N2=function(r){d6(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Ff),h6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p6=function(r){h6(e,r);function e(t,n){n===void 0&&(n=!1);var i=r.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,n),i}return e.makeBufferFromCanvasImageData=function(t,n){n===void 0&&(n=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,n)},e.toGrayscaleBuffer=function(t,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,c=t.length;s<c;s+=4,l++){var g=void 0,x=t[s+3];if(x===0)g=255;else{var A=t[s],E=t[s+1],_=t[s+2];g=306*A+601*E+117*_+512>>10}o[l]=g}else for(var s=0,l=0,T=t.length;s<T;s+=4,l++){var g=void 0,x=t[s+3];if(x===0)g=255;else{var A=t[s],E=t[s+1],_=t[s+2];g=306*A+601*E+117*_+512>>10}o[l]=255-g}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new at("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new N2(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Ff),g6=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}(),si=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},ui=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},v6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t1=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return si(this,void 0,void 0,function(){var e,t,n,i,a,o,s,l,c,g,x,A;return ui(this,function(E){switch(E.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=E.sent(),t=[];try{for(n=v6(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(t.length+1),c=a.groupId,g={deviceId:s,label:l,kind:o,groupId:c},t.push(g))}catch(_){x={error:_}}finally{try{i&&!i.done&&(A=n.return)&&A.call(n)}finally{if(x)throw x.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return si(this,void 0,void 0,function(){var e;return ui(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new g6(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return si(this,void 0,void 0,function(){var t;return ui(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return si(this,void 0,void 0,function(){return ui(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return si(this,void 0,void 0,function(){var n,i;return ui(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return si(this,void 0,void 0,function(){var n;return ui(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return si(this,void 0,void 0,function(){var n,i;return ui(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return si(this,void 0,void 0,function(){return ui(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return si(this,void 0,void 0,function(){var i,a;return ui(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return si(this,void 0,void 0,function(){var i;return ui(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return si(this,void 0,void 0,function(){var i;return ui(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return si(this,void 0,void 0,function(){var n;return ui(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return si(this,void 0,void 0,function(){return ui(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Ca("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Ca("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Ca("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Ca("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new Ca("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Ca("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ca("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ca("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ca("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Ca("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return si(this,void 0,void 0,function(){return ui(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return si(this,void 0,void 0,function(){return ui(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new xe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(A){var c=t&&A instanceof xe,g=A instanceof On||A instanceof Me,x=g&&n;if(c||x)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(A)}};return new Promise(function(o,s){return a(o,s)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){t(null,l);var o=l instanceof On||l instanceof Me,s=l instanceof xe;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new p6(n,t),a=new f6(i);return new q_(a)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}(),ri=function(){function r(e,t,n,i,a,o){n===void 0&&(n=t==null?0:8*t.length),o===void 0&&(o=xr.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=xr.currentTimeMillis():this.timestamp=o}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);xr.arraycopy(t,0,n,0,t.length),xr.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}(),bh;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(bh||(bh={}));const tt=bh;var Rh;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Rh||(Rh={}));const Vn=Rh;var kf=function(){function r(e,t,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}(),rl=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new at;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}(),ss=function(){function r(e,t){if(t.length===0)throw new at;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),xr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];n=rl.addOrSubtract(n,o)}return n}n=t[0];for(var s=t.length,l=this.field,i=1;i<s;i++)n=rl.addOrSubtract(l.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new at("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;xr.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=rl.addOrSubtract(t[s-o],n[s]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new at("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var c=t[l],g=0;g<a;g++)o[l+g]=rl.addOrSubtract(o[l+g],s.multiply(c,i[g]));return new r(s,o)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=n.multiply(a[o],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new at;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],t);return new r(o,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new at("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new at("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=t.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(s,l),g=t.buildMonomial(s,l);n=n.addOrSubtract(g),i=i.addOrSubtract(c)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}(),x6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cm=function(r){x6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Oi),y6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Si=function(r){y6(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=t,s&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new ss(a,Int32Array.from([0])),a.one=new ss(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new at;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new ss(this,i)},e.prototype.inverse=function(t){if(t===0)throw new cm;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ct.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(rl),m6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kc=function(r){m6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Oi),w6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_l=function(r){w6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Oi),Uf=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new ss(n,e),a=new Int32Array(t),o=!0,s=0;s<t;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new ss(n,a),g=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),x=g[0],A=g[1],E=this.findErrorLocations(x),_=this.findErrorMagnitudes(A,E),s=0;s<E.length;s++){var T=e.length-1-n.log(E[s]);if(T<0)throw new kc("Bad error location");e[T]=Si.addOrSubtract(e[T],_[s])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,s=t,l=a.getZero(),c=a.getOne();s.getDegree()>=(n/2|0);){var g=o,x=l;if(o=s,l=c,o.isZero())throw new kc("r_{i-1} was zero");s=g;for(var A=a.getZero(),E=o.getCoefficient(o.getDegree()),_=a.inverse(E);s.getDegree()>=o.getDegree()&&!s.isZero();){var T=s.getDegree()-o.getDegree(),b=a.multiply(s.getCoefficient(s.getDegree()),_);A=A.addOrSubtract(a.buildMonomial(T,b)),s=s.addOrSubtract(o.multiplyByMonomial(T,b))}if(c=A.multiply(l).addOrSubtract(x),s.getDegree()>=o.getDegree())throw new _l("Division algorithm failed to reduce polynomial?")}var R=c.getCoefficient(0);if(R===0)throw new kc("sigmaTilde(0) was zero");var M=a.inverse(R),B=c.multiplyScalar(M),k=s.multiplyScalar(M);return[B,k]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==t)throw new kc("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(t[o]),l=1,c=0;c<n;c++)if(o!==c){var g=a.multiply(t[c],s),x=g&1?g&-2:g|1;l=a.multiply(l,x)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},r}(),kn;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(kn||(kn={}));var ix=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),o=r.getEncodedData(i),s=new kf(a,o,null,null);return s.setNumBits(i.length),s},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=kn.UPPER,i=kn.UPPER,a="",o=0;o<t;)if(i===kn.BINARY){if(t-o<5)break;var s=r.readCode(e,o,5);if(o+=5,s===0){if(t-o<11)break;s=r.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(t-o<8){o=t;break}var c=r.readCode(e,o,8);a+=Dt.castAsNonUtf8Char(c),o+=8}i=n}else{var g=i===kn.DIGIT?4:5;if(t-o<g)break;var c=r.readCode(e,o,g);o+=g;var x=r.getCharacter(i,c);x.startsWith("CTRL_")?(n=i,i=r.getTable(x.charAt(5)),x.charAt(6)==="L"&&(n=i)):(a+=x,i=n)}return a},r.getTable=function(e){switch(e){case"L":return kn.LOWER;case"P":return kn.PUNCT;case"M":return kn.MIXED;case"D":return kn.DIGIT;case"B":return kn.BINARY;case"U":default:return kn.UPPER}},r.getCharacter=function(e,t){switch(e){case kn.UPPER:return r.UPPER_TABLE[t];case kn.LOWER:return r.LOWER_TABLE[t];case kn.MIXED:return r.MIXED_TABLE[t];case kn.PUNCT:return r.PUNCT_TABLE[t];case kn.DIGIT:return r.DIGIT_TABLE[t];default:throw new _l("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=Si.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Si.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Si.AZTEC_DATA_10):(n=12,t=Si.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Me;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=r.readCode(e,o,n);try{var c=new Uf(t);c.decode(s,a-i)}catch(b){throw new Me(b)}for(var g=(1<<n)-1,x=0,l=0;l<i;l++){var A=s[l];if(A===0||A===g)throw new Me;(A===1||A===g-1)&&x++}for(var E=new Array(i*n-x),_=0,l=0;l<i;l++){var A=s[l];if(A===1||A===g-1)E.fill(A>1,_,_+n-1),_+=n-1;else for(var T=n-1;T>=0;--T)E[_++]=(A&1<<T)!==0}return E},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*Ct.truncDivision(Ct.truncDivision(i,2)-1,15),c=i/2,g=Ct.truncDivision(l,2),s=0;s<c;s++){var x=s+Ct.truncDivision(s,15);a[c-s-1]=g-x-1,a[c+s]=g+x+1}for(var s=0,A=0;s<n;s++){for(var E=(n-s)*4+(t?9:12),_=s*2,T=i-1-_,b=0;b<E;b++)for(var R=b*2,M=0;M<2;M++)o[A+R+M]=e.get(a[_+M],a[_+b]),o[A+2*E+R+M]=e.get(a[_+b],a[T-M]),o[A+4*E+R+M]=e.get(a[T-M],a[T-b]),o[A+6*E+R+M]=e.get(a[T-b],a[_+M]);A+=E*8}return o},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}(),jt=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,o=t-i;return Math.sqrt(a*a+o*o)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r}(),Dh=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),We=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Dh.floatToIntBits(this.x)+Dh.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=t&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=t?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},r.distance=function(e,t){return jt.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r}(),b2=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),A6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),E6=function(r){A6(e,r);function e(t,n,i,a,o){var s=r.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(b2),Mh=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,c=!1,g=!1,x=!1,A=this.width,E=this.height;o;){o=!1;for(var _=!0;(_||!l)&&t<A;)_=this.containsBlackPoint(n,i,t,!1),_?(t++,o=!0,l=!0):l||t++;if(t>=A){a=!0;break}for(var T=!0;(T||!c)&&i<E;)T=this.containsBlackPoint(e,t,i,!0),T?(i++,o=!0,c=!0):c||i++;if(i>=E){a=!0;break}for(var b=!0;(b||!g)&&e>=0;)b=this.containsBlackPoint(n,i,e,!1),b?(e--,o=!0,g=!0):g||e--;if(e<0){a=!0;break}for(var R=!0;(R||!x)&&n>=0;)R=this.containsBlackPoint(e,t,n,!0),R?(n--,o=!0,x=!0):x||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var M=t-e,B=null,k=1;B===null&&k<M;k++)B=this.getBlackPointOnSegment(e,i-k,e+k,i);if(B==null)throw new xe;for(var z=null,k=1;z===null&&k<M;k++)z=this.getBlackPointOnSegment(e,n+k,e+k,n);if(z==null)throw new xe;for(var $=null,k=1;$===null&&k<M;k++)$=this.getBlackPointOnSegment(t,n+k,t-k,n);if($==null)throw new xe;for(var V=null,k=1;V===null&&k<M;k++)V=this.getBlackPointOnSegment(t,i-k,t-k,i);if(V==null)throw new xe;return this.centerEdges(V,B,$,z)}else throw new xe},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=jt.round(jt.distance(e,t,n,i)),o=(n-e)/a,s=(i-t)/a,l=this.image,c=0;c<a;c++){var g=jt.round(e+c*o),x=jt.round(t+c*s);if(l.get(g,x))return new We(g,x)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),o=e.getY(),s=t.getX(),l=t.getY(),c=n.getX(),g=n.getY(),x=i.getX(),A=i.getY(),E=r.CORR;return a<this.width/2?[new We(x-E,A+E),new We(s+E,l+E),new We(c-E,g-E),new We(a+E,o-E)]:[new We(x+E,A+E),new We(s+E,l-E),new We(c-E,g+E),new We(a-E,o-E)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var s=e;s<=t;s++)if(a.get(n,s))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}(),ax=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var s=Math.floor(t[o]),l=Math.floor(t[o+1]);if(s<-1||s>n||l<-1||l>i)throw new xe;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var s=Math.floor(t[o]),l=Math.floor(t[o+1]);if(s<-1||s>n||l<-1||l>i)throw new xe;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}},r}(),fm=function(){function r(e,t,n,i,a,o,s,l,c){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,o,s,l,c,g,x,A,E,_,T,b){var R=r.quadrilateralToSquare(e,t,n,i,a,o,s,l),M=r.squareToQuadrilateral(c,g,x,A,E,_,T,b);return M.times(R)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,g=this.a32,x=this.a33,A=0;A<t;A+=2){var E=e[A],_=e[A+1],T=a*E+l*_+x;e[A]=(n*E+o*_+c)/T,e[A+1]=(i*E+s*_+g)/T}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,g=this.a32,x=this.a33,A=e.length,E=0;E<A;E++){var _=e[E],T=t[E],b=a*_+l*T+x;e[E]=(n*_+o*T+c)/b,t[E]=(i*_+s*T+g)/b}},r.squareToQuadrilateral=function(e,t,n,i,a,o,s,l){var c=e-n+a-s,g=t-i+o-l;if(c===0&&g===0)return new r(n-e,a-n,e,i-t,o-i,t,0,0,1);var x=n-a,A=s-a,E=i-o,_=l-o,T=x*_-A*E,b=(c*_-A*g)/T,R=(x*g-c*E)/T;return new r(n-e+b*n,s-e+R*s,e,i-t+b*i,l-t+R*l,t,b,R,1)},r.quadrilateralToSquare=function(e,t,n,i,a,o,s,l){return r.squareToQuadrilateral(e,t,n,i,a,o,s,l).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}(),C6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_6=function(r){C6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,o,s,l,c,g,x,A,E,_,T,b,R,M,B,k){var z=fm.quadrilateralToQuadrilateral(a,o,s,l,c,g,x,A,E,_,T,b,R,M,B,k);return this.sampleGridWithTransform(t,n,i,z)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new xe;for(var o=new eo(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,g=l+.5,x=0;x<c;x+=2)s[x]=x/2+.5,s[x+1]=g;a.transformPoints(s),ax.checkAndNudgePoints(t,s);try{for(var x=0;x<c;x+=2)t.get(Math.floor(s[x]),Math.floor(s[x+1]))&&o.set(x/2,l)}catch{throw new xe}}return o},e}(ax),R2=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new _6,r}(),Ci=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new We(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}(),S6=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new E6(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new xe;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,o,s){var l=(a>>t-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Ct.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new xe},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new Uf(Si.AZTEC_PARAM);l.decode(o,a)}catch{throw new xe}for(var c=0,s=0;s<i;s++)c=(c<<4)+o[s];return c},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),g=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var x=this.distancePoint(g,s)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(x<.75||x>1.25||!this.isWhiteOrBlackRectangle(s,l,c,g))break}t=s,n=l,i=c,a=g,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;var A=new We(t.getX()+.5,t.getY()-.5),E=new We(n.getX()+.5,n.getY()+.5),_=new We(i.getX()-.5,i.getY()+.5),T=new We(a.getX()-.5,a.getY()-.5);return this.expandSquare([A,E,_,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new Mh(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ci(o+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ci(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ci(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ci(o-7,s-7),!1,-1,-1).toResultPoint()}var l=jt.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=jt.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new Mh(this.image,15,l,c).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ci(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ci(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ci(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ci(l-7,c-7),!1,-1,-1).toResultPoint()}return l=jt.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=jt.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Ci(l,c)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var o=R2.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),o=a/n,s=e.getX(),l=e.getY(),c=o*(t.getX()-e.getX())/a,g=o*(t.getY()-e.getY())/a,x=0;x<n;x++)this.image.get(jt.round(s+x*c),jt.round(l+x*g))&&(i|=1<<n-x-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new Ci(e.getX()-a,e.getY()+a),t=new Ci(t.getX()-a,t.getY()-a),n=new Ci(n.getX()+a,n.getY()-a),i=new Ci(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,t);return s!==o||(s=this.getColor(t,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),g=Math.ceil(n),x=0;x<g;x++)s+=i,l+=a,this.image.get(jt.round(s),jt.round(l))!==c&&o++;var A=o/n;return A>.1&&A<.9?0:A<=.1===c?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new Ci(a,o)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new We(s+i*a,l+i*o),g=new We(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var x=new We(s+i*a,l+i*o),A=new We(s-i*a,l-i*o),E=[c,x,g,A];return E},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=jt.round(e.getX()),n=jt.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return jt.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return jt.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ct.truncDivision(this.nbLayers-4,8)+1)+15},r}(),Ph=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new S6(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new ix().decode(s)}catch(x){n=x}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new ix().decode(s)}catch(x){throw n??x}var l=new ri(o.getText(),o.getRawBytes(),o.getNumBits(),a,tt.AZTEC,xr.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(Vn.BYTE_SEGMENTS,c);var g=o.getECLevel();return g!=null&&l.putMetadata(Vn.ERROR_CORRECTION_LEVEL,g),l},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Nr.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}(),I6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){I6(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ph,t)||this}return e})(t1);var vn=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Nr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),s=270;o!==null&&o.get(Vn.ORIENTATION)===!0&&(s=s+o.get(Vn.ORIENTATION)%360),a.putMetadata(Vn.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),g=0;g<l.length;g++)l[g]=new We(c-l[g].getY()-1,l[g].getX());return a}else throw new xe}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new bn(n),o=t&&t.get(Nr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),g=0;g<l;g++){var x=Math.trunc((g+1)/2),A=(g&1)===0,E=c+s*(A?x:-x);if(E<0||E>=i)break;try{a=e.getBlackRow(E,a)}catch{continue}for(var _=function(M){if(M===1&&(a.reverse(),t&&t.get(Nr.NEED_RESULT_POINT_CALLBACK)===!0)){var B=new Map;t.forEach(function($,V){return B.set(V,$)}),B.delete(Nr.NEED_RESULT_POINT_CALLBACK),t=B}try{var k=T.decodeRow(E,a,t);if(M===1){k.putMetadata(Vn.ORIENTATION,180);var z=k.getResultPoints();z!==null&&(z[0]=new We(n-z[0].getX()-1,z[0].getY()),z[1]=new We(n-z[1].getX()-1,z[1].getY()))}return{value:k}}catch{}},T=this,b=0;b<2;b++){var R=_(b);if(typeof R=="object")return R.value}}throw new xe},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new xe;for(var s=!e.get(t),l=0,c=t;c<o;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===o))throw new xe},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new xe;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,g=0;g<i;g++){var x=e[g],A=t[g]*l,E=x>A?x-A:A-x;if(E>n)return Number.POSITIVE_INFINITY;c+=E}return c/a},r}(),T6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ox=function(r){T6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,g=i;g<n;g++)if(t.get(g)!==l)o[a]++;else{if(a===c-1){for(var x=e.MAX_AVG_VARIANCE,A=-1,E=e.CODE_START_A;E<=e.CODE_START_C;E++){var _=vn.patternMatchVariance(o,e.CODE_PATTERNS[E],e.MAX_INDIVIDUAL_VARIANCE);_<x&&(x=_,A=E)}if(A>=0&&t.isRange(Math.max(0,s-(g-s)/2),s,!1))return Int32Array.from([s,g,A]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new xe},e.decodeCode=function(t,n,i){vn.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=s)}if(o>=0)return o;throw new xe},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(Nr.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var g;switch(s){case e.CODE_START_A:g=e.CODE_CODE_A;break;case e.CODE_START_B:g=e.CODE_CODE_B;break;case e.CODE_START_C:g=e.CODE_CODE_C;break;default:throw new Me}for(var x=!1,A=!1,E="",_=o[0],T=o[1],b=Int32Array.from([0,0,0,0,0,0]),R=0,M=0,B=s,k=0,z=!0,$=!1,V=!1;!x;){var te=A;switch(A=!1,R=M,M=e.decodeCode(n,b,T),c[l++]=M,M!==e.CODE_STOP&&(z=!0),M!==e.CODE_STOP&&(k++,B+=k*M),_=T,T+=b.reduce(function(Fe,be){return Fe+be},0),M){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Me}switch(g){case e.CODE_CODE_A:if(M<64)V===$?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),V=!1;else if(M<96)V===$?E+=String.fromCharCode(M-64):E+=String.fromCharCode(M+64),V=!1;else switch(M!==e.CODE_STOP&&(z=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!$&&V?($=!0,V=!1):$&&V?($=!1,V=!1):V=!0;break;case e.CODE_SHIFT:A=!0,g=e.CODE_CODE_B;break;case e.CODE_CODE_B:g=e.CODE_CODE_B;break;case e.CODE_CODE_C:g=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_B:if(M<96)V===$?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),V=!1;else switch(M!==e.CODE_STOP&&(z=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!$&&V?($=!0,V=!1):$&&V?($=!1,V=!1):V=!0;break;case e.CODE_SHIFT:A=!0,g=e.CODE_CODE_A;break;case e.CODE_CODE_A:g=e.CODE_CODE_A;break;case e.CODE_CODE_C:g=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_C:if(M<100)M<10&&(E+="0"),E+=M;else switch(M!==e.CODE_STOP&&(z=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_CODE_A:g=e.CODE_CODE_A;break;case e.CODE_CODE_B:g=e.CODE_CODE_B;break;case e.CODE_STOP:x=!0;break}break}te&&(g=g===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var q=T-_;if(T=n.getNextUnset(T),!n.isRange(T,Math.min(n.getSize(),T+(T-_)/2),!1))throw new xe;if(B-=k*R,B%103!==R)throw new On;var pe=E.length;if(pe===0)throw new xe;pe>0&&z&&(g===e.CODE_CODE_C?E=E.substring(0,pe-2):E=E.substring(0,pe-1));for(var Be=(o[1]+o[0])/2,ge=_+q/2,Ee=c.length,Ye=new Uint8Array(Ee),le=0;le<Ee;le++)Ye[le]=c[le];var ht=[new We(Be,t),new We(ge,t)];return new ri(E,Ye,0,ht,tt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(vn),O6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sx=function(r){O6(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var g=e.findAsteriskPattern(n,c),x=n.getNextSet(g[1]),A=n.getSize(),E,_;do{e.recordPattern(n,x,c);var T=e.toNarrowWidePattern(c);if(T<0)throw new xe;E=e.patternToChar(T),this.decodeRowResult+=E,_=x;try{for(var b=(a=void 0,kd(c)),R=b.next();!R.done;R=b.next()){var M=R.value;x+=M}}catch(Ee){a={error:Ee}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}x=n.getNextSet(x)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var k=kd(c),z=k.next();!z.done;z=k.next()){var M=z.value;B+=M}}catch(Ee){s={error:Ee}}finally{try{z&&!z.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}var $=x-_-B;if(x!==A&&$*2<B)throw new xe;if(this.usingCheckDigit){for(var V=this.decodeRowResult.length-1,te=0,q=0;q<V;q++)te+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(V)!==e.ALPHABET_STRING.charAt(te%43))throw new On;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new xe;var pe;this.extendedMode?pe=e.decodeExtended(this.decodeRowResult):pe=this.decodeRowResult;var Be=(g[1]+g[0])/2,ge=_+B/2;return new ri(pe,null,0,[new We(Be,t),new We(ge,t)],tt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),o=0,s=a,l=!1,c=n.length,g=a;g<i;g++)if(t.get(g)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((g-s)/2)),s,!1))return[s,g];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new xe},e.toNarrowWidePattern=function(t){var n,i,a=t.length,o=0,s;do{var l=2147483647;try{for(var c=(n=void 0,kd(t)),g=c.next();!g.done;g=c.next()){var x=g.value;x<l&&x>o&&(l=x)}}catch(T){n={error:T}}finally{try{g&&!g.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,s=0;for(var A=0,E=0,_=0;_<a;_++){var x=t[_];x>o&&(E|=1<<a-1-_,s++,A+=x)}if(s===3){for(var _=0;_<a&&s>0;_++){var x=t[_];if(x>o&&(s--,x*2>=A))return-1}return E}}while(s>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new xe},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=t.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Me;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Me;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Me;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Me;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(vn),N6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ud=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ux=function(r){N6(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,i){var a,o,s,l,c=this.findAsteriskPattern(n),g=n.getNextSet(c[1]),x=n.getSize(),A=this.counters;A.fill(0),this.decodeRowResult="";var E,_;do{e.recordPattern(n,g,A);var T=this.toPattern(A);if(T<0)throw new xe;E=this.patternToChar(T),this.decodeRowResult+=E,_=g;try{for(var b=(a=void 0,Ud(A)),R=b.next();!R.done;R=b.next()){var M=R.value;g+=M}}catch(q){a={error:q}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}g=n.getNextSet(g)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var k=Ud(A),z=k.next();!z.done;z=k.next()){var M=z.value;B+=M}}catch(q){s={error:q}}finally{try{z&&!z.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}if(g===x||!n.get(g))throw new xe;if(this.decodeRowResult.length<2)throw new xe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var $=this.decodeExtended(this.decodeRowResult),V=(c[1]+c[0])/2,te=_+B/2;return new ri($,null,0,[new We(V,t),new We(te,t)],tt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,c=0,g=i;g<n;g++)if(t.get(g)!==s)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,g]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,s=!s}throw new xe},e.prototype.toPattern=function(t){var n,i,a=0;try{for(var o=Ud(t),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(_){n={error:_}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,g=t.length,x=0;x<g;x++){var A=Math.round(t[x]*9/a);if(A<1||A>4)return-1;if(x&1)c<<=A;else for(var E=0;E<A;E++)c=c<<1|1}return c},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new xe},e.prototype.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new Me;var s=t.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Me;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Me;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Me;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Me;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(t.charAt(s)),++a>i&&(a=1);if(t.charAt(n)!==e.ALPHABET_STRING[o%47])throw new On},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(vn),b6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),R6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lx=function(r){b6(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),c=new mt;e.decodeMiddle(n,s[1],l[0],c);var g=c.toString(),x=null;i!=null&&(x=i.get(Nr.ALLOWED_LENGTHS)),x==null&&(x=e.DEFAULT_ALLOWED_LENGTHS);var A=g.length,E=!1,_=0;try{for(var T=R6(x),b=T.next();!b.done;b=T.next()){var R=b.value;if(A===R){E=!0;break}R>_&&(_=R)}}catch(k){a={error:k}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}if(!E&&A>_&&(E=!0),!E)throw new Me;var M=[new We(s[1],t),new We(l[0],t)],B=new ri(g,null,0,M,tt.ITF,new Date().getTime());return B},e.decodeMiddle=function(t,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){vn.recordPattern(t,n,o);for(var c=0;c<5;c++){var g=2*c;s[c]=o[g],l[c]=o[g+1]}var x=e.decodeDigit(s);a.append(x.toString()),x=this.decodeDigit(l),a.append(x.toString()),o.forEach(function(A){n+=A})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new xe},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new xe;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof xe&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,o=new Int32Array(a),s=t.getSize(),l=!1,c=0,g=n;o.fill(0);for(var x=n;x<s;x++)if(t.get(x)!==l)o[c]++;else{if(c===a-1){if(vn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[g,x];g+=o[0]+o[1],xr.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new xe},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=vn.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new xe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(vn),D6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xu=function(r){D6(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=t.isRange(l,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Me;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Me;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,o){var s=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var l=0,c=n,g=a.length,x=i,A=n;A<s;A++)if(t.get(A)!==x)o[l]++;else{if(l===g-1){if(vn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,A]);c+=o[0]+o[1];for(var E=o.slice(2,o.length),_=0;_<l-1;_++)o[_]=E[_];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,x=!x}throw new xe},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,c=0;c<l;c++){var g=a[c],x=vn.patternMatchVariance(n,g,e.MAX_INDIVIDUAL_VARIANCE);x<o&&(o=x,s=c)}if(s>=0)return s;throw new xe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(vn),M6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P6=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),l=[new We((n[0]+n[1])/2,e),new We(a,e)],c=new ri(o,null,0,l,tt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=t[1],c=0,g=0;g<5&&l<s;g++){var x=Xu.decodeDigit(e,o,l,Xu.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var A=(i=void 0,M6(o)),E=A.next();!E.done;E=A.next()){var _=E.value;l+=_}}catch(b){i={error:b}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}x>=10&&(c|=1<<4-g),g!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new xe;var T=this.determineCheckDigit(c);if(r.extensionChecksum(n.toString())!==T)throw new xe;return l},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new xe},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Vn.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},r}(),B6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L6=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),l=[new We((n[0]+n[1])/2,e),new We(a,e)],c=new ri(o,null,0,l,tt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=t[1],c=0,g=0;g<2&&l<s;g++){var x=Xu.decodeDigit(e,o,l,Xu.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var A=(i=void 0,B6(o)),E=A.next();!E.done;E=A.next()){var _=E.value;l+=_}}catch(T){i={error:T}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}x>=10&&(c|=1<<1-g),g!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new xe;if(parseInt(n.toString())%4!==c)throw new xe;return l},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Vn.ISSUE_NUMBER,parseInt(e)]])},r}(),F6=function(){function r(){}return r.decodeRow=function(e,t,n){var i=Xu.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new P6;return a.decodeRow(e,t,i)}catch{var o=new L6;return o.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}(),k6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cn=function(r){k6(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Nr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new We((a[0]+a[1])/2,t);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,g=l.resultString;if(o!=null){var x=new We(c,t);o.foundPossibleResultPoint(x)}var A=e.decodeEnd(n,c);if(o!=null){var E=new We((A[0]+A[1])/2,t);o.foundPossibleResultPoint(E)}var _=A[1],T=_+(_-A[0]);if(T>=n.getSize()||!n.isRange(_,T,!1))throw new xe;var b=g.toString();if(b.length<8)throw new Me;if(!e.checkChecksum(b))throw new On;var R=(a[1]+a[0])/2,M=(A[1]+A[0])/2,B=this.getBarcodeFormat(),k=[new We(R,t),new We(M,t)],z=new ri(b,null,0,k,B,new Date().getTime()),$=0;try{var V=F6.decodeRow(t,n,A[1]);z.putMetadata(Vn.UPC_EAN_EXTENSION,V.getText()),z.putAllMetadata(V.getResultMetadata()),z.addResultPoints(V.getResultPoints()),$=V.getText().length}catch{}var te=i==null?null:i.get(Nr.ALLOWED_EAN_EXTENSIONS);if(te!=null){var q=!1;for(var pe in te)if($.toString()===pe){q=!0;break}if(!q)throw new xe}return B===tt.EAN_13||tt.UPC_A,z},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Me;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Me;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Xu),U6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bh=function(r){U6(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var g=t.getSize(),x=n[1],A=0,E=0;E<6&&x<g;E++){var _=cn.decodeDigit(t,c,x,cn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var T=(a=void 0,cx(c)),b=T.next();!b.done;b=T.next()){var R=b.value;x+=R}}catch(z){a={error:z}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}_>=10&&(A|=1<<5-E)}i=e.determineFirstDigit(i,A);var M=cn.findGuardPattern(t,x,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0));x=M[1];for(var E=0;E<6&&x<g;E++){var _=cn.decodeDigit(t,c,x,cn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var B=(s=void 0,cx(c)),k=B.next();!k.done;k=B.next()){var R=k.value;x+=R}}catch(V){s={error:V}}finally{try{k&&!k.done&&(l=B.return)&&l.call(B)}finally{if(s)throw s.error}}}return{rowOffset:x,resultString:i}},e.prototype.getBarcodeFormat=function(){return tt.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new xe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(cn),j6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dx=function(r){j6(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var g=t.getSize(),x=n[1],A=0;A<4&&x<g;A++){var E=cn.decodeDigit(t,c,x,cn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var _=(a=void 0,fx(c)),T=_.next();!T.done;T=_.next()){var b=T.value;x+=b}}catch(k){a={error:k}}finally{try{T&&!T.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var R=cn.findGuardPattern(t,x,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0));x=R[1];for(var A=0;A<4&&x<g;A++){var E=cn.decodeDigit(t,c,x,cn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var M=(s=void 0,fx(c)),B=M.next();!B.done;B=M.next()){var b=B.value;x+=b}}catch($){s={error:$}}finally{try{B&&!B.done&&(l=M.return)&&l.call(M)}finally{if(s)throw s.error}}}return{rowOffset:x,resultString:i}},e.prototype.getBarcodeFormat=function(){return tt.EAN_8},e}(cn),H6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hx=function(r){H6(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Bh,t}return e.prototype.getBarcodeFormat=function(){return tt.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new ri(n.substring(1),null,null,t.getResultPoints(),tt.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new xe},e.prototype.reset=function(){this.ean13Reader.reset()},e}(cn),V6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},px=function(r){V6(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s=this.decodeMiddleCounters.map(function(b){return b});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=t.getSize(),c=n[1],g=0,x=0;x<6&&c<l;x++){var A=e.decodeDigit(t,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);try{for(var E=(a=void 0,z6(s)),_=E.next();!_.done;_=E.next()){var T=_.value;c+=T}}catch(b){a={error:b}}finally{try{_&&!_.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}A>=10&&(g|=1<<5-x)}return e.determineNumSysAndCheckDigit(new mt(i),g),c},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return cn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw xe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return tt.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new mt;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(cn),G6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jd=function(r){G6(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(Nr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(tt.EAN_13)>-1&&a.push(new Bh),i.indexOf(tt.UPC_A)>-1&&a.push(new hx),i.indexOf(tt.EAN_8)>-1&&a.push(new dx),i.indexOf(tt.UPC_E)>-1&&a.push(new px)),a.length===0&&(a.push(new Bh),a.push(new hx),a.push(new dx),a.push(new px)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,o;try{for(var s=gx(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var g=c.decodeRow(t,n,i),x=g.getBarcodeFormat()===tt.EAN_13&&g.getText().charAt(0)==="0",A=i==null?null:i.get(Nr.POSSIBLE_FORMATS),E=A==null||A.includes(tt.UPC_A);if(x&&E){var _=g.getRawBytes(),T=new ri(g.getText().substring(1),_,_?_.length:null,g.getResultPoints(),tt.UPC_A);return T.putAllMetadata(g.getResultMetadata()),T}return g}catch{}}}catch(b){a={error:b}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new xe},e.prototype.reset=function(){var t,n;try{for(var i=gx(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(vn),W6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),X6=function(r){W6(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,i){var a=this.getValidRowData(n);if(!a)throw new xe;var o=this.codaBarDecodeRow(a.row);if(!o)throw new xe;return new ri(o,null,0,[new We(a.left,t),new We(a.right,t)],tt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],i=Math.ceil(t.reduce(function(l,c){return(l+c)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e}(vn),Y6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ws=function(r){Y6(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(vn.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new xe},e.count=function(t){return jt.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]>a&&(a=n[o],i=o);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]<a&&(a=n[o],i=o);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],o=a+t[2]+t[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var g=$6(t),x=g.next();!x.done;x=g.next()){var A=x.value;A>c&&(c=A),A<l&&(l=A)}}catch(E){n={error:E}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(vn),vf=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}(),dm=function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new We(n,a)),this.resultPoints.push(new We(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}(),Z6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ku=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,o=0;try{for(var s=Z6(e),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(M){i={error:M}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var g=0,x=0,A=e.length,E=0;E<A-1;E++){var _=void 0;for(_=1,x|=1<<E;_<e[E];_++,x&=~(1<<E)){var T=r.combins(o-_-1,A-E-2);if(n&&x===0&&o-_-(A-E-1)>=A-E-1&&(T-=r.combins(o-_-(A-E),A-E-2)),A-E-1>1){for(var b=0,R=o-_-(A-E-2);R>t;R--)b+=r.combins(o-_-R-1,A-E-3);T-=b*(A-1-E)}else o-_>t&&T--;g+=T}o-=_}return g},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},r}(),K6=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new bn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],g=c.getLeftChar().getValue(),x=11;x>=0;--x)g&1<<x&&i.set(a),a++;if(c.getRightChar()!==null)for(var A=c.getRightChar().getValue(),x=11;x>=0;--x)A&1<<x&&i.set(a),a++}return i},r}(),Hs=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}(),D2=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}(),Q6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Aa=function(r){Q6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(D2),q6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vs=function(r){q6(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(D2),J6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pu=function(r){J6(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new Me;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(D2),Uc=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eS=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,o,s,l,c;if(!e)return null;if(e.length<2)throw new xe;var g=e.substring(0,2);try{for(var x=Uc(r.TWO_DIGIT_DATA_LENGTH),A=x.next();!A.done;A=x.next()){var E=A.value;if(E[0]===g)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,E[2],e):r.processFixedAI(2,E[1],e)}}catch($){t={error:$}}finally{try{A&&!A.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}if(e.length<3)throw new xe;var _=e.substring(0,3);try{for(var T=Uc(r.THREE_DIGIT_DATA_LENGTH),b=T.next();!b.done;b=T.next()){var E=b.value;if(E[0]===_)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,E[2],e):r.processFixedAI(3,E[1],e)}}catch($){i={error:$}}finally{try{b&&!b.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}try{for(var R=Uc(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),M=R.next();!M.done;M=R.next()){var E=M.value;if(E[0]===_)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,E[2],e):r.processFixedAI(4,E[1],e)}}catch($){o={error:$}}finally{try{M&&!M.done&&(s=R.return)&&s.call(R)}finally{if(o)throw o.error}}if(e.length<4)throw new xe;var B=e.substring(0,4);try{for(var k=Uc(r.FOUR_DIGIT_DATA_LENGTH),z=k.next();!z.done;z=k.next()){var E=z.value;if(E[0]===B)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,E[2],e):r.processFixedAI(4,E[1],e)}}catch($){l={error:$}}finally{try{z&&!z.done&&(c=k.return)&&c.call(k)}finally{if(l)throw l.error}}throw new xe},r.processFixedAI=function(e,t,n){if(n.length<e)throw new xe;var i=n.substring(0,e);if(n.length<e+t)throw new xe;var a=n.substring(e,e+t),o=n.substring(e+t),s="("+i+")"+a,l=r.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,c=r.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}(),nf=function(){function r(e){this.buffer=new mt,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=eS.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Pu(this.information.getSize(),Pu.FNC1,Pu.FNC1):new Pu(this.information.getSize(),t-1,Pu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Pu(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Vs(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Vs(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Vs(this.current.getPosition(),this.buffer.toString()):t=new Vs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Hs(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Vs(this.current.getPosition(),this.buffer.toString());return new Hs(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hs(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Vs(this.current.getPosition(),this.buffer.toString());return new Hs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hs(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Vs(this.current.getPosition(),this.buffer.toString());return new Hs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hs(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Aa(e+5,Aa.FNC1);if(t>=5&&t<15)return new Aa(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Aa(e+7,""+(n+1));if(n>=90&&n<116)return new Aa(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Me}return new Aa(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Aa(e+5,Aa.FNC1);if(t>=5&&t<15)return new Aa(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Aa(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new _l("Decoding invalid alphanumeric value: "+n)}return new Aa(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}(),hm=function(){function r(e){this.information=e,this.generalDecoder=new nf(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}(),tS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ia=function(r){tS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(hm),rS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nS=function(r){rS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new mt;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ia),iS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aS=function(r){iS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new mt;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(hm),oS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),af=function(r){oS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&t.append("0"),s/=10;t.append(o)},e}(Ia),sS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pm=function(r){sS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+af.GTIN_SIZE+e.WEIGHT_SIZE)throw new xe;var t=new mt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+af.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(af),uS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lS=function(r){uS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(pm),cS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fS=function(r){cS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(pm),dS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hS=function(r){dS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ia.GTIN_SIZE)throw new xe;var t=new mt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ia.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ia.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ia),pS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gS=function(r){pS(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ia.GTIN_SIZE)throw new xe;var t=new mt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ia.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ia.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ia.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ia),vS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jo=function(r){vS(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new xe;var t=new mt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&t.append("0"),t.append(s),o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(af);function xS(r){try{if(r.get(1))return new nS(r);if(!r.get(2))return new aS(r);var e=nf.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new lS(r);case 5:return new fS(r)}var t=nf.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new hS(r);case 13:return new gS(r)}var n=nf.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Jo(r,"310","11");case 57:return new Jo(r,"320","11");case 58:return new Jo(r,"310","13");case 59:return new Jo(r,"320","13");case 60:return new Jo(r,"310","15");case 61:return new Jo(r,"320","15");case 62:return new Jo(r,"310","17");case 63:return new Jo(r,"320","17")}}catch(i){throw console.log(i),new _l("unknown decoder: "+r)}}var vx=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}(),yS=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},r}(),mS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),es=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wS=function(r){mS(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(s){if(s instanceof xe){if(!this.pairs.length)throw new xe;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new xe},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,es(t)),c=l.next();!c.done;c=l.next()){var g=c.value;this.pairs.push(g.getPairs())}}catch(A){i={error:A}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var x=new Array(t);x.push(s);try{return this.checkRows(x,o+1)}catch(A){console.log(A)}}}throw new xe},e.isValidSequence=function(t){var n,i;try{for(var a=es(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(t.length>s.length)){for(var l=!0,c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(g){n={error:g}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new yS(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,o,s,l,c;try{for(var g=es(n),x=g.next();!x.done;x=g.next()){var A=x.value;if(A.getPairs().length!==t.length){var E=!0;try{for(var _=(o=void 0,es(A.getPairs())),T=_.next();!T.done;T=_.next()){var b=T.value,R=!1;try{for(var M=(l=void 0,es(t)),B=M.next();!B.done;B=M.next()){var k=B.value;if(vx.equals(b,k)){R=!0;break}}}catch(z){l={error:z}}finally{try{B&&!B.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}R||(E=!1)}}catch(z){o={error:z}}finally{try{T&&!T.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}}catch(z){i={error:z}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,o,s,l,c;try{for(var g=es(n),x=g.next();!x.done;x=g.next()){var A=x.value,E=!0;try{for(var _=(o=void 0,es(t)),T=_.next();!T.done;T=_.next()){var b=T.value,R=!1;try{for(var M=(l=void 0,es(A.getPairs())),B=M.next();!B.done;B=M.next()){var k=B.value;if(b.equals(k)){R=!0;break}}}catch(z){l={error:z}}finally{try{B&&!B.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}if(!R){E=!1;break}}}catch(z){o={error:z}}finally{try{T&&!T.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}if(E)return!0}}catch(z){i={error:z}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=K6.buildBitArray(t),i=xS(n),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new ri(a,null,null,l,tt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var g=211*(o-4)+a;return g===n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(t,n,l),o=this.parseFoundFinderPattern(t,i,a),o===null?l=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new xe;var g;try{g=this.decodeDataCharacter(t,o,a,!1)}catch(x){g=null,console.log(x)}return new vx(c,g,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var g=!1;s<o&&(g=!t.get(s),!!g);)s++;for(var x=0,A=s,E=s;E<o;E++)if(t.get(E)!==g)a[x]++;else{if(x===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=A,this.startEnd[1]=E;return}c&&e.reverseCounters(a),A+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,g=!g}throw new xe},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var c=this.getDecodeFinderCounters();xr.arraycopy(c,0,c,1,c.length-1),c[0]=a;var g;try{g=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new dm(g,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var g=o[l];o[l]=o[c],o[c]=g}}var x=17,A=jt.sum(new Int32Array(o))/x,E=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(A-E)/E>.3)throw new xe;for(var _=this.getOddCounts(),T=this.getEvenCounts(),b=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var M=1*o[l]/A,B=M+.5;if(B<1){if(M<.3)throw new xe;B=1}else if(B>8){if(M>8.7)throw new xe;B=8}var k=l/2;l&1?(T[k]=B,R[k]=M-B):(_[k]=B,b[k]=M-B)}this.adjustOddEvenCounts(x);for(var z=4*n.getValue()+(i?0:2)+(a?0:1)-1,$=0,V=0,l=_.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var te=e.WEIGHTS[z][2*l];V+=_[l]*te}$+=_[l]}for(var q=0,l=T.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var te=e.WEIGHTS[z][2*l+1];q+=T[l]*te}var pe=V+q;if($&1||$>13||$<4)throw new xe;var Be=(13-$)/2,ge=e.SYMBOL_WIDEST[Be],Ee=9-ge,Ye=ku.getRSSvalue(_,ge,!0),le=ku.getRSSvalue(T,Ee,!1),ht=e.EVEN_TOTAL_SUBSET[Be],Fe=e.GSUM[Be],be=Ye*ht+le+Fe;return new vf(be,pe)},e.isNotA1left=function(t,n,i){return!(t.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=jt.sum(new Int32Array(this.getOddCounts())),i=jt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-t,g=(n&1)===1,x=(i&1)===0;if(c===1)if(g){if(x)throw new xe;o=!0}else{if(!x)throw new xe;l=!0}else if(c===-1)if(g){if(x)throw new xe;a=!0}else{if(!x)throw new xe;s=!0}else if(c===0){if(g){if(!x)throw new xe;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(x)throw new xe}else throw new xe;if(a){if(o)throw new xe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new xe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Ws),AS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ES=function(r){AS(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(vf),CS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xx=function(r){CS(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,o,s,l,c=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var g=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,g),n.reverse();try{for(var x=Hd(this.possibleLeftPairs),A=x.next();!A.done;A=x.next()){var E=A.value;if(E.getCount()>1)try{for(var _=(s=void 0,Hd(this.possibleRightPairs)),T=_.next();!T.done;T=_.next()){var b=T.value;if(b.getCount()>1&&e.checkChecksum(E,b))return e.constructResult(E,b)}}catch(R){s={error:R}}finally{try{T&&!T.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}}}catch(R){a={error:R}}finally{try{A&&!A.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}throw new xe},e.addOrTally=function(t,n){var i,a;if(n!=null){var o=!1;try{for(var s=Hd(t),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),o=new mt,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=s&1?c:3*c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var g=t.getFinderPattern().getResultPoints(),x=n.getFinderPattern().getResultPoints();return new ri(o.toString(),null,0,[g[0],g[1],x[0],x[1]],tt.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var o=this.findFinderPattern(t,n),s=this.parseFoundFinderPattern(t,i,n,o),l=a==null?null:a.get(Nr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=t.getSize()-1-c),l.foundPossibleResultPoint(new We(c,i))}var g=this.decodeDataCharacter(t,s,!0),x=this.decodeDataCharacter(t,s,!1);return new ES(1597*g.getValue()+x.getValue(),g.getChecksumPortion()+4*x.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)vn.recordPatternInReverse(t,n.getStartEnd()[0],a);else{vn.recordPattern(t,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var c=a[s];a[s]=a[l],a[l]=c}}for(var g=i?16:15,x=jt.sum(new Int32Array(a))/g,A=this.getOddCounts(),E=this.getEvenCounts(),_=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var b=a[s]/x,R=Math.floor(b+.5);R<1?R=1:R>8&&(R=8);var M=Math.floor(s/2);s&1?(E[M]=R,T[M]=b-R):(A[M]=R,_[M]=b-R)}this.adjustOddEvenCounts(i,g);for(var B=0,k=0,s=A.length-1;s>=0;s--)k*=9,k+=A[s],B+=A[s];for(var z=0,$=0,s=E.length-1;s>=0;s--)z*=9,z+=E[s],$+=E[s];var V=k+3*z;if(i){if(B&1||B>12||B<4)throw new xe;var te=(12-B)/2,q=e.OUTSIDE_ODD_WIDEST[te],pe=9-q,Be=ku.getRSSvalue(A,q,!1),ge=ku.getRSSvalue(E,pe,!0),Ee=e.OUTSIDE_EVEN_TOTAL_SUBSET[te],Ye=e.OUTSIDE_GSUM[te];return new vf(Be*Ee+ge+Ye,V)}else{if($&1||$>10||$<4)throw new xe;var te=(10-$)/2,q=e.INSIDE_ODD_WIDEST[te],pe=9-q,Be=ku.getRSSvalue(A,q,!0),ge=ku.getRSSvalue(E,pe,!1),le=e.INSIDE_ODD_TOTAL_SUBSET[te],Ye=e.INSIDE_GSUM[te];return new vf(ge*le+Be+Ye,V)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,s=0;s<a&&(o=!t.get(s),n!==o);)s++;for(var l=0,c=s,g=s;g<a;g++)if(t.get(g)!==o)i[l]++;else{if(l===3){if(Ws.isFinderPattern(i))return[c,g];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new xe},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var o=t.get(a[0]),s=a[0]-1;s>=0&&o!==t.get(s);)s--;s++;var l=a[0]-s,c=this.getDecodeFinderCounters(),g=new Int32Array(c.length);xr.arraycopy(c,0,g,1,c.length-1),g[0]=l;var x=this.parseFinderValue(g,e.FINDER_PATTERNS),A=s,E=a[1];return i&&(A=t.getSize()-1-A,E=t.getSize()-1-E),new dm(x,[s,a[1]],A,E,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=jt.sum(new Int32Array(this.getOddCounts())),a=jt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;t?(i>12?s=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var g=i+a-n,x=(i&1)===(t?1:0),A=(a&1)===1;if(g===1)if(x){if(A)throw new xe;s=!0}else{if(!A)throw new xe;c=!0}else if(g===-1)if(x){if(A)throw new xe;o=!0}else{if(!A)throw new xe;l=!0}else if(g===0){if(x){if(!A)throw new xe;i<a?(o=!0,c=!0):(s=!0,l=!0)}else if(A)throw new xe}else throw new xe;if(o){if(s)throw new xe;Ws.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Ws.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new xe;Ws.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Ws.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Ws),_S=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nl=function(r){_S(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(Nr.POSSIBLE_FORMATS):null,a=t&&t.get(Nr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=t&&t.get(Nr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(tt.EAN_13)||i.includes(tt.UPC_A)||i.includes(tt.EAN_8)||i.includes(tt.UPC_E))&&n.readers.push(new jd(t)),i.includes(tt.CODE_39)&&n.readers.push(new sx(a,o)),i.includes(tt.CODE_93)&&n.readers.push(new ux),i.includes(tt.CODE_128)&&n.readers.push(new ox),i.includes(tt.ITF)&&n.readers.push(new lx),i.includes(tt.CODABAR)&&n.readers.push(new X6),i.includes(tt.RSS_14)&&n.readers.push(new xx),i.includes(tt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new wS))),n.readers.length===0&&(n.readers.push(new jd(t)),n.readers.push(new sx),n.readers.push(new ux),n.readers.push(new jd(t)),n.readers.push(new ox),n.readers.push(new lx),n.readers.push(new xx)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new xe},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(vn),SS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){SS(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new nl(n),t,n)||this}return e})(t1);var yx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qt=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),Gt=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),IS=function(){function r(e,t,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,g=o.getECCodewords(),x=o.getECBlocks();try{for(var A=yx(x),E=A.next();!E.done;E=A.next()){var _=E.value;c+=_.getCount()*(_.getDataCodewords()+g)}}catch(T){s={error:T}}finally{try{E&&!E.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}this.totalCodewords=c}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if(e&1||t&1)throw new Me;try{for(var a=yx(r.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Me},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new qt(5,new Gt(1,3))),new r(2,12,12,10,10,new qt(7,new Gt(1,5))),new r(3,14,14,12,12,new qt(10,new Gt(1,8))),new r(4,16,16,14,14,new qt(12,new Gt(1,12))),new r(5,18,18,16,16,new qt(14,new Gt(1,18))),new r(6,20,20,18,18,new qt(18,new Gt(1,22))),new r(7,22,22,20,20,new qt(20,new Gt(1,30))),new r(8,24,24,22,22,new qt(24,new Gt(1,36))),new r(9,26,26,24,24,new qt(28,new Gt(1,44))),new r(10,32,32,14,14,new qt(36,new Gt(1,62))),new r(11,36,36,16,16,new qt(42,new Gt(1,86))),new r(12,40,40,18,18,new qt(48,new Gt(1,114))),new r(13,44,44,20,20,new qt(56,new Gt(1,144))),new r(14,48,48,22,22,new qt(68,new Gt(1,174))),new r(15,52,52,24,24,new qt(42,new Gt(2,102))),new r(16,64,64,14,14,new qt(56,new Gt(2,140))),new r(17,72,72,16,16,new qt(36,new Gt(4,92))),new r(18,80,80,18,18,new qt(48,new Gt(4,114))),new r(19,88,88,20,20,new qt(56,new Gt(4,144))),new r(20,96,96,22,22,new qt(68,new Gt(4,174))),new r(21,104,104,24,24,new qt(56,new Gt(6,136))),new r(22,120,120,18,18,new qt(68,new Gt(6,175))),new r(23,132,132,20,20,new qt(62,new Gt(8,163))),new r(24,144,144,22,22,new qt(62,new Gt(8,156),new Gt(2,155))),new r(25,8,18,6,16,new qt(7,new Gt(1,5))),new r(26,8,32,6,14,new qt(11,new Gt(1,10))),new r(27,12,26,10,24,new qt(14,new Gt(1,16))),new r(28,12,36,10,16,new qt(18,new Gt(1,22))),new r(29,16,36,14,16,new qt(24,new Gt(1,32))),new r(30,16,48,14,22,new qt(28,new Gt(1,49)))]},r.VERSIONS=r.buildVersions(),r}(),TS=function(){function r(e){var t=e.getHeight();if(t<8||t>144||t&1)throw new Me;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new eo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return IS.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,g=!1;do if(n===a&&i===0&&!s)e[t++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[t++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!c)e[t++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!g)e[t++]=this.readCorner4(a,o)&255,n-=2,i+=2,g=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(t!==this.version.getTotalCodewords())throw new Me;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new at("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,s=n/a|0,l=o*i,c=s*a,g=new eo(c,l),x=0;x<o;++x)for(var A=x*i,E=0;E<s;++E)for(var _=E*a,T=0;T<i;++T)for(var b=x*(i+2)+1+T,R=A+T,M=0;M<a;++M){var B=E*(a+2)+1+M;if(e.get(B,b)){var k=_+M;g.set(k,R)}}return g},r}(),mx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OS=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,o,s=t.getECBlocks(),l=0,c=s.getECBlocks();try{for(var g=mx(c),x=g.next();!x.done;x=g.next()){var A=x.value;l+=A.getCount()}}catch(Ye){n={error:Ye}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var E=new Array(l),_=0;try{for(var T=mx(c),b=T.next();!b.done;b=T.next())for(var A=b.value,R=0;R<A.getCount();R++){var M=A.getDataCodewords(),B=s.getECCodewords()+M;E[_++]=new r(M,new Uint8Array(B))}}catch(Ye){a={error:Ye}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}for(var k=E[0].codewords.length,z=k-s.getECCodewords(),$=z-1,V=0,R=0;R<$;R++)for(var te=0;te<_;te++)E[te].codewords[R]=e[V++];for(var q=t.getVersionNumber()===24,pe=q?8:_,te=0;te<pe;te++)E[te].codewords[z-1]=e[V++];for(var Be=E[0].codewords.length,R=z;R<Be;R++)for(var te=0;te<_;te++){var ge=q?(te+8)%_:te,Ee=q&&ge>7?R-1:R;E[ge].codewords[Ee]=e[V++]}if(V!==e.length)throw new at;return E},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),gm=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new at(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,c=255>>8-s<<l;t=(a[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;t=t<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}(),on;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(on||(on={}));var NS=function(){function r(){}return r.decode=function(e){var t=new gm(e),n=new mt,i=new mt,a=new Array,o=on.ASCII_ENCODE;do if(o===on.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,i);else{switch(o){case on.C40_ENCODE:this.decodeC40Segment(t,n);break;case on.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case on.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case on.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case on.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new Me}o=on.ASCII_ENCODE}while(o!==on.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new kf(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Me;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),on.ASCII_ENCODE;if(a===129)return on.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return on.C40_ENCODE;case 231:return on.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return on.ANSIX12_ENCODE;case 239:return on.TEXT_ENCODE;case 240:return on.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Me;break}}while(e.available()>0);return on.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new Me;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new Me}a=0;break;case 3:n?(t.append(String.fromCharCode(l+224)),n=!1):t.append(String.fromCharCode(l+96)),a=0;break;default:throw new Me}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new Me;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new Me}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c),a=0}else throw new Me;break;default:throw new Me}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new Me;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Me;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new Me;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(la.decode(s,Dt.ISO88591))}catch(c){throw new _l("Platform does not support required encoding: "+c.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r}(),bS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RS=function(){function r(){this.rsDecoder=new Uf(Si.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new TS(e),a=i.getVersion(),o=i.readCodewords(),s=OS.getDataBlocks(o,a),l=0;try{for(var c=bS(s),g=c.next();!g.done;g=c.next()){var x=g.value;l+=x.getNumDataCodewords()}}catch(B){t={error:B}}finally{try{g&&!g.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var A=new Uint8Array(l),E=s.length,_=0;_<E;_++){var T=s[_],b=T.getCodewords(),R=T.getNumDataCodewords();this.correctErrors(b,R);for(var M=0;M<R;M++)A[M*E+_]=b[M]}return NS.decode(A)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new On}for(var i=0;i<t;i++)e[i]=n[i]},r}(),DS=function(){function r(e){this.image=e,this.rectangleDetector=new Mh(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new xe;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],o=t[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=r.sampleGrid(this.image,n,i,a,o,s,l);return new b2(c,[n,i,a,o])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new We(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new We(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,t),g=o,x=[a,t,n,i];return g>s&&(g=s,x[0]=t,x[1]=n,x[2]=i,x[3]=a),g>l&&(g=l,x[0]=n,x[1]=i,x[2]=a,x[3]=t),g>c&&(x[0]=i,x[1]=a,x[2]=t,x[3]=n),x},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=r.shiftPoint(n,i,(o+1)*4),l=r.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(s,t),g=this.transitionsBetween(l,a);return c<g?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=this.transitionsBetween(n,a),l=r.shiftPoint(t,n,(s+1)*4),c=r.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(c,a);var g=new We(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),x=new We(a.getX()+(t.getX()-n.getX())/(s+1),a.getY()+(t.getY()-n.getY())/(s+1));if(!this.isValid(g))return this.isValid(x)?x:null;if(!this.isValid(x))return g;var A=this.transitionsBetween(l,g)+this.transitionsBetween(c,g),E=this.transitionsBetween(l,x)+this.transitionsBetween(c,x);return A>E?g:x},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(i,a)+1,l=r.shiftPoint(t,n,s*4),c=r.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var g=(t.getX()+n.getX()+i.getX()+a.getX())/4,x=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,g,x),n=r.moveAway(n,g,x),i=r.moveAway(i,g,x),a=r.moveAway(a,g,x);var A,E;return l=r.shiftPoint(t,n,s*4),l=r.shiftPoint(l,a,o*4),A=r.shiftPoint(n,t,s*4),A=r.shiftPoint(A,i,o*4),c=r.shiftPoint(i,a,s*4),c=r.shiftPoint(c,n,o*4),E=r.shiftPoint(a,i,s*4),E=r.shiftPoint(E,t,o*4),[l,A,c,E]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,o,s){var l=R2.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),g=Math.abs(o-i),x=-c/2,A=i<o?1:-1,E=n<a?1:-1,_=0,T=this.image.get(s?i:n,s?n:i),b=n,R=i;b!==a;b+=E){var M=this.image.get(s?R:b,s?b:R);if(M!==T&&(_++,T=M),x+=g,x>0){if(R===o)break;R+=A,x-=c}}return _},r}(),Lh=function(){function r(){this.decoder=new RS}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(Nr.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var o=new DS(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new ri(n.getText(),s,8*s.length,i,tt.DATA_MATRIX,xr.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Vn.BYTE_SEGMENTS,c);var g=n.getECLevel();return g!=null&&l.putMetadata(Vn.ERROR_CORRECTION_LEVEL,g),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new xe;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],l=n[0],c=(l-s+1)/i,g=(o-a+1)/i;if(c<=0||g<=0)throw new xe;var x=i/2;a+=x,s+=x;for(var A=new eo(c,g),E=0;E<g;E++)for(var _=a+E*i,T=0;T<c;T++)e.get(s+T*i,_)&&A.set(T,E);return A},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new xe;var o=i-e[0];if(o===0)throw new xe;return o},r.NO_POINTS=[],r}(),MS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){MS(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Lh,t)||this}return e})(t1);var Uu;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Uu||(Uu={}));var PS=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Ca(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new at;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Uu.L,"L",1),r.M=new r(Uu.M,"M",0),r.Q=new r(Uu.Q,"Q",3),r.H=new r(Uu.H,"H",2),r}(),BS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vm=function(){function r(e){this.errorCorrectionLevel=PS.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Ct.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=BS(r.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,g=c[0];if(g===e||g===t)return new r(c[1]);var x=r.numBitsDiffering(e,g);x<a&&(o=c[1],a=x),e!==t&&(x=r.numBitsDiffering(t,g),x<a&&(o=c[1],a=x))}}catch(A){n={error:A}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new r(o):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}(),LS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},se=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=LS(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),W=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),FS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Js=function(){function r(e,t){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var g=FS(c),x=g.next();!x.done;x=g.next()){var A=x.value;s+=A.getCount()*(A.getDataCodewords()+l)}}catch(E){n={error:E}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}this.totalCodewords=s}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Me}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new at;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var o=vm.numBitsDiffering(e,a);o<t&&(n=i+7,t=o)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new eo(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new se(7,new W(1,19)),new se(10,new W(1,16)),new se(13,new W(1,13)),new se(17,new W(1,9))),new r(2,Int32Array.from([6,18]),new se(10,new W(1,34)),new se(16,new W(1,28)),new se(22,new W(1,22)),new se(28,new W(1,16))),new r(3,Int32Array.from([6,22]),new se(15,new W(1,55)),new se(26,new W(1,44)),new se(18,new W(2,17)),new se(22,new W(2,13))),new r(4,Int32Array.from([6,26]),new se(20,new W(1,80)),new se(18,new W(2,32)),new se(26,new W(2,24)),new se(16,new W(4,9))),new r(5,Int32Array.from([6,30]),new se(26,new W(1,108)),new se(24,new W(2,43)),new se(18,new W(2,15),new W(2,16)),new se(22,new W(2,11),new W(2,12))),new r(6,Int32Array.from([6,34]),new se(18,new W(2,68)),new se(16,new W(4,27)),new se(24,new W(4,19)),new se(28,new W(4,15))),new r(7,Int32Array.from([6,22,38]),new se(20,new W(2,78)),new se(18,new W(4,31)),new se(18,new W(2,14),new W(4,15)),new se(26,new W(4,13),new W(1,14))),new r(8,Int32Array.from([6,24,42]),new se(24,new W(2,97)),new se(22,new W(2,38),new W(2,39)),new se(22,new W(4,18),new W(2,19)),new se(26,new W(4,14),new W(2,15))),new r(9,Int32Array.from([6,26,46]),new se(30,new W(2,116)),new se(22,new W(3,36),new W(2,37)),new se(20,new W(4,16),new W(4,17)),new se(24,new W(4,12),new W(4,13))),new r(10,Int32Array.from([6,28,50]),new se(18,new W(2,68),new W(2,69)),new se(26,new W(4,43),new W(1,44)),new se(24,new W(6,19),new W(2,20)),new se(28,new W(6,15),new W(2,16))),new r(11,Int32Array.from([6,30,54]),new se(20,new W(4,81)),new se(30,new W(1,50),new W(4,51)),new se(28,new W(4,22),new W(4,23)),new se(24,new W(3,12),new W(8,13))),new r(12,Int32Array.from([6,32,58]),new se(24,new W(2,92),new W(2,93)),new se(22,new W(6,36),new W(2,37)),new se(26,new W(4,20),new W(6,21)),new se(28,new W(7,14),new W(4,15))),new r(13,Int32Array.from([6,34,62]),new se(26,new W(4,107)),new se(22,new W(8,37),new W(1,38)),new se(24,new W(8,20),new W(4,21)),new se(22,new W(12,11),new W(4,12))),new r(14,Int32Array.from([6,26,46,66]),new se(30,new W(3,115),new W(1,116)),new se(24,new W(4,40),new W(5,41)),new se(20,new W(11,16),new W(5,17)),new se(24,new W(11,12),new W(5,13))),new r(15,Int32Array.from([6,26,48,70]),new se(22,new W(5,87),new W(1,88)),new se(24,new W(5,41),new W(5,42)),new se(30,new W(5,24),new W(7,25)),new se(24,new W(11,12),new W(7,13))),new r(16,Int32Array.from([6,26,50,74]),new se(24,new W(5,98),new W(1,99)),new se(28,new W(7,45),new W(3,46)),new se(24,new W(15,19),new W(2,20)),new se(30,new W(3,15),new W(13,16))),new r(17,Int32Array.from([6,30,54,78]),new se(28,new W(1,107),new W(5,108)),new se(28,new W(10,46),new W(1,47)),new se(28,new W(1,22),new W(15,23)),new se(28,new W(2,14),new W(17,15))),new r(18,Int32Array.from([6,30,56,82]),new se(30,new W(5,120),new W(1,121)),new se(26,new W(9,43),new W(4,44)),new se(28,new W(17,22),new W(1,23)),new se(28,new W(2,14),new W(19,15))),new r(19,Int32Array.from([6,30,58,86]),new se(28,new W(3,113),new W(4,114)),new se(26,new W(3,44),new W(11,45)),new se(26,new W(17,21),new W(4,22)),new se(26,new W(9,13),new W(16,14))),new r(20,Int32Array.from([6,34,62,90]),new se(28,new W(3,107),new W(5,108)),new se(26,new W(3,41),new W(13,42)),new se(30,new W(15,24),new W(5,25)),new se(28,new W(15,15),new W(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new se(28,new W(4,116),new W(4,117)),new se(26,new W(17,42)),new se(28,new W(17,22),new W(6,23)),new se(30,new W(19,16),new W(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new se(28,new W(2,111),new W(7,112)),new se(28,new W(17,46)),new se(30,new W(7,24),new W(16,25)),new se(24,new W(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new se(30,new W(4,121),new W(5,122)),new se(28,new W(4,47),new W(14,48)),new se(30,new W(11,24),new W(14,25)),new se(30,new W(16,15),new W(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new se(30,new W(6,117),new W(4,118)),new se(28,new W(6,45),new W(14,46)),new se(30,new W(11,24),new W(16,25)),new se(30,new W(30,16),new W(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new se(26,new W(8,106),new W(4,107)),new se(28,new W(8,47),new W(13,48)),new se(30,new W(7,24),new W(22,25)),new se(30,new W(22,15),new W(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new se(28,new W(10,114),new W(2,115)),new se(28,new W(19,46),new W(4,47)),new se(28,new W(28,22),new W(6,23)),new se(30,new W(33,16),new W(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new se(30,new W(8,122),new W(4,123)),new se(28,new W(22,45),new W(3,46)),new se(30,new W(8,23),new W(26,24)),new se(30,new W(12,15),new W(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new se(30,new W(3,117),new W(10,118)),new se(28,new W(3,45),new W(23,46)),new se(30,new W(4,24),new W(31,25)),new se(30,new W(11,15),new W(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new se(30,new W(7,116),new W(7,117)),new se(28,new W(21,45),new W(7,46)),new se(30,new W(1,23),new W(37,24)),new se(30,new W(19,15),new W(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new se(30,new W(5,115),new W(10,116)),new se(28,new W(19,47),new W(10,48)),new se(30,new W(15,24),new W(25,25)),new se(30,new W(23,15),new W(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new se(30,new W(13,115),new W(3,116)),new se(28,new W(2,46),new W(29,47)),new se(30,new W(42,24),new W(1,25)),new se(30,new W(23,15),new W(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new se(30,new W(17,115)),new se(28,new W(10,46),new W(23,47)),new se(30,new W(10,24),new W(35,25)),new se(30,new W(19,15),new W(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new se(30,new W(17,115),new W(1,116)),new se(28,new W(14,46),new W(21,47)),new se(30,new W(29,24),new W(19,25)),new se(30,new W(11,15),new W(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new se(30,new W(13,115),new W(6,116)),new se(28,new W(14,46),new W(23,47)),new se(30,new W(44,24),new W(7,25)),new se(30,new W(59,16),new W(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new se(30,new W(12,121),new W(7,122)),new se(28,new W(12,47),new W(26,48)),new se(30,new W(39,24),new W(14,25)),new se(30,new W(22,15),new W(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new se(30,new W(6,121),new W(14,122)),new se(28,new W(6,47),new W(34,48)),new se(30,new W(46,24),new W(10,25)),new se(30,new W(2,15),new W(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new se(30,new W(17,122),new W(4,123)),new se(28,new W(29,46),new W(14,47)),new se(30,new W(49,24),new W(10,25)),new se(30,new W(24,15),new W(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new se(30,new W(4,122),new W(18,123)),new se(28,new W(13,46),new W(32,47)),new se(30,new W(48,24),new W(14,25)),new se(30,new W(42,15),new W(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new se(30,new W(20,117),new W(4,118)),new se(28,new W(40,47),new W(7,48)),new se(30,new W(43,24),new W(22,25)),new se(30,new W(10,15),new W(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new se(30,new W(19,118),new W(6,119)),new se(28,new W(18,47),new W(31,48)),new se(30,new W(34,24),new W(34,25)),new se(30,new W(20,15),new W(61,16)))],r}(),_n;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(_n||(_n={}));var wx=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[_n.DATA_MASK_000,new r(_n.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[_n.DATA_MASK_001,new r(_n.DATA_MASK_001,function(e,t){return(e&1)===0})],[_n.DATA_MASK_010,new r(_n.DATA_MASK_010,function(e,t){return t%3===0})],[_n.DATA_MASK_011,new r(_n.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[_n.DATA_MASK_100,new r(_n.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[_n.DATA_MASK_101,new r(_n.DATA_MASK_101,function(e,t){return e*t%6===0})],[_n.DATA_MASK_110,new r(_n.DATA_MASK_110,function(e,t){return e*t%6<3})],[_n.DATA_MASK_111,new r(_n.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}(),kS=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new Me;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=vm.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Me},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Js.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Js.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Js.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Me},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=wx.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,s=new Uint8Array(t.getTotalCodewords()),l=0,c=0,g=0,x=i-1;x>0;x-=2){x===6&&x--;for(var A=0;A<i;A++)for(var E=o?i-1-A:A,_=0;_<2;_++)a.get(x-_,E)||(g++,c<<=1,this.bitMatrix.get(x-_,E)&&(c|=1),g===8&&(s[l++]=c,g=0,c=0));o=!o}if(l!==t.getTotalCodewords())throw new Me;return s},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=wx.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}(),Ax=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},US=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,o,s;if(e.length!==t.getTotalCodewords())throw new at;var l=t.getECBlocksForLevel(n),c=0,g=l.getECBlocks();try{for(var x=Ax(g),A=x.next();!A.done;A=x.next()){var E=A.value;c+=E.getCount()}}catch(Ee){i={error:Ee}}finally{try{A&&!A.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}var _=new Array(c),T=0;try{for(var b=Ax(g),R=b.next();!R.done;R=b.next())for(var E=R.value,M=0;M<E.getCount();M++){var B=E.getDataCodewords(),k=l.getECCodewordsPerBlock()+B;_[T++]=new r(B,new Uint8Array(k))}}catch(Ee){o={error:Ee}}finally{try{R&&!R.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}for(var z=_[0].codewords.length,$=_.length-1;$>=0;){var V=_[$].codewords.length;if(V===z)break;$--}$++;for(var te=z-l.getECCodewordsPerBlock(),q=0,M=0;M<te;M++)for(var pe=0;pe<T;pe++)_[pe].codewords[M]=e[q++];for(var pe=$;pe<T;pe++)_[pe].codewords[te]=e[q++];for(var Be=_[0].codewords.length,M=te;M<Be;M++)for(var pe=0;pe<T;pe++){var ge=pe<$?M:M+1;_[pe].codewords[ge]=e[q++]}return _},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),aa;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(aa||(aa={}));var _r=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new at;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(aa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(aa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(aa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(aa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(aa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(aa.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(aa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(aa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(aa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(aa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}(),jS=function(){function r(){}return r.decode=function(e,t,n,i){var a=new gm(e),o=new mt,s=new Array,l=-1,c=-1;try{var g=null,x=!1,A=void 0;do{if(a.available()<4)A=_r.TERMINATOR;else{var E=a.readBits(4);A=_r.forBits(E)}switch(A){case _r.TERMINATOR:break;case _r.FNC1_FIRST_POSITION:case _r.FNC1_SECOND_POSITION:x=!0;break;case _r.STRUCTURED_APPEND:if(a.available()<16)throw new Me;l=a.readBits(8),c=a.readBits(8);break;case _r.ECI:var _=r.parseECIValue(a);if(g=dn.getCharacterSetECIByValue(_),g===null)throw new Me;break;case _r.HANZI:var T=a.readBits(4),b=a.readBits(A.getCharacterCountBits(t));T===r.GB2312_SUBSET&&r.decodeHanziSegment(a,o,b);break;default:var R=a.readBits(A.getCharacterCountBits(t));switch(A){case _r.NUMERIC:r.decodeNumericSegment(a,o,R);break;case _r.ALPHANUMERIC:r.decodeAlphanumericSegment(a,o,R,x);break;case _r.BYTE:r.decodeByteSegment(a,o,R,g,s,i);break;case _r.KANJI:r.decodeKanjiSegment(a,o,R);break;default:throw new Me}break}}while(A!==_r.TERMINATOR)}catch{throw new Me}return new kf(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new Me;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{t.append(la.decode(i,Dt.GB2312))}catch(l){throw new Me(l)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new Me;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{t.append(la.decode(i,Dt.SHIFT_JIS))}catch(l){throw new Me(l)}},r.decodeByteSegment=function(e,t,n,i,a,o){if(8*n>e.available())throw new Me;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=Dt.guessEncoding(s,o):c=i.getName();try{t.append(la.decode(s,c))}catch(g){throw new Me(g)}a.push(s)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new Me;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new Me;var o=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(o/45))),t.append(r.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Me;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new Me;var i=e.readBits(10);if(i>=1e3)throw new Me;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Me;var a=e.readBits(7);if(a>=100)throw new Me;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Me;var o=e.readBits(4);if(o>=10)throw new Me;t.append(r.toAlphaNumericChar(o))}},r.parseECIValue=function(e){var t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new Me},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}(),xm=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}(),Ex=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HS=function(){function r(){this.rsDecoder=new Uf(Si.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(eo.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new kS(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new xm(!0)),a}catch(o){throw i!==null?i:o}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),g=US.getDataBlocks(c,s,l),x=0;try{for(var A=Ex(g),E=A.next();!E.done;E=A.next()){var _=E.value;x+=_.getNumDataCodewords()}}catch($){n={error:$}}finally{try{E&&!E.done&&(i=A.return)&&i.call(A)}finally{if(n)throw n.error}}var T=new Uint8Array(x),b=0;try{for(var R=Ex(g),M=R.next();!M.done;M=R.next()){var _=M.value,B=_.getCodewords(),k=_.getNumDataCodewords();this.correctErrors(B,k);for(var z=0;z<k;z++)T[b++]=B[z]}}catch($){a={error:$}}finally{try{M&&!M.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}return jS.decode(T,s,l,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new On}for(var i=0;i<t;i++)e[i]=n[i]},r}(),VS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zS=function(r){VS(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,o=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(We),GS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WS=function(){function r(e,t,n,i,a,o,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,o=new Int32Array(3),s=this.image,l=0;l<t;l++){var c=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var g=e;g<i&&!s.get(g,c);)g++;for(var x=0;g<i;){if(s.get(g,c))if(x===1)o[1]++;else if(x===2){if(this.foundPatternCross(o)){var A=this.handlePossibleCenter(o,c,g);if(A!==null)return A}o[0]=o[2],o[1]=1,o[2]=0,x=1}else o[++x]++;else x===1&&x++,o[x]++;g++}if(this.foundPatternCross(o)){var A=this.handlePossibleCenter(o,c,i);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(t,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(t,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(t,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?r.centerFromEnd(s,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,o=e[0]+e[1]+e[2],s=r.centerFromEnd(e,n),l=this.crossCheckVertical(t,s,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var g=GS(this.possibleCenters),x=g.next();!x.done;x=g.next()){var A=x.value;if(A.aboutEquals(c,l,s))return A.combineEstimate(l,s,c)}}catch(_){i={error:_}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var E=new zS(s,l,c);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null},r}(),XS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YS=function(r){XS(e,r);function e(t,n,i,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+t)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(We),$S=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}(),$1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZS=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Nr.TRY_HARDER)!==void 0,n=e!=null&&e.get(Nr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*r.MAX_MODULES));(s<r.MIN_SKIP||t)&&(s=r.MIN_SKIP);for(var l=!1,c=new Int32Array(5),g=s-1;g<a&&!l;g+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var x=0,A=0;A<o;A++)if(i.get(A,g))(x&1)===1&&x++,c[x]++;else if(x&1)c[x]++;else if(x===4)if(r.foundPatternCross(c)){var E=this.handlePossibleCenter(c,g,A,n);if(E===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>c[2]&&(g+=_-c[2]-s,A=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,x=3;continue}x=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,x=3;else c[++x]++;if(r.foundPatternCross(c)){var E=this.handlePossibleCenter(c,g,o,n);E===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var T=this.selectBestPatterns();return We.orderBestPatterns(T),new $S(T)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&t>=o&&s.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||t<o||a[1]>n)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;e+o<l&&t+o<c&&s.get(t+o,e+o);)a[2]++,o++;if(e+o>=l||t+o>=c)return!1;for(;e+o<l&&t+o<c&&!s.get(t+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||t+o>=c||a[3]>=n)return!1;for(;e+o<l&&t+o<c&&s.get(t+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var g=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(g-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(t,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(t,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(t,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(t,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(t,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,l):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,t);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,t)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,t)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,t);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,t)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,t)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=r.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,g=this.possibleCenters,x=0,A=g.length;x<A;x++){var E=g[x];if(E.aboutEquals(l,s,o)){g[x]=E.combineEstimate(s,o,l),c=!0;break}}if(!c){var _=new YS(o,s,l);g.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=$1(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=r.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=$1(this.possibleCenters),c=l.next();!c.done;c=l.next()){var g=c.value;g.getCount()>=r.CENTER_QUORUM&&(a++,o+=g.getEstimatedModuleSize())}}catch(T){e={error:T}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var x=o/s,A=0;try{for(var E=$1(this.possibleCenters),_=E.next();!_.done;_=E.next()){var g=_.value;A+=Math.abs(g.getEstimatedModuleSize()-x)}}catch(T){n={error:T}}finally{try{_&&!_.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}return A<=.05*o},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new xe;var o=this.possibleCenters,s;if(a>3){var l=0,c=0;try{for(var g=$1(this.possibleCenters),x=g.next();!x.done;x=g.next()){var A=x.value,E=A.getEstimatedModuleSize();l+=E,c+=E*E}}catch(z){e={error:z}}finally{try{x&&!x.done&&(t=g.return)&&t.call(g)}finally{if(e)throw e.error}}s=l/a;var _=Math.sqrt(c/a-s*s);o.sort(function(z,$){var V=Math.abs($.getEstimatedModuleSize()-s),te=Math.abs(z.getEstimatedModuleSize()-s);return V<te?-1:V>te?1:0});for(var T=Math.max(.2*s,_),b=0;b<o.length&&o.length>3;b++){var R=o[b];Math.abs(R.getEstimatedModuleSize()-s)>T&&(o.splice(b,1),b--)}}if(o.length>3){var l=0;try{for(var M=$1(o),B=M.next();!B.done;B=M.next()){var k=B.value;l+=k.getEstimatedModuleSize()}}catch($){n={error:$}}finally{try{B&&!B.done&&(i=M.return)&&i.call(M)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function($,V){if(V.getCount()===$.getCount()){var te=Math.abs(V.getEstimatedModuleSize()-s),q=Math.abs($.getEstimatedModuleSize()-s);return te<q?1:te>q?-1:0}else return V.getCount()-$.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}(),KS=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Nr.NEED_RESULT_POINT_CALLBACK);var t=new ZS(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new xe("No pattern found in proccess finder.");var o=r.computeDimension(t,n,i,a),s=Js.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var g=n.getX()-t.getX()+i.getX(),x=n.getY()-t.getY()+i.getY(),A=1-3/l,E=Math.floor(t.getX()+A*(g-t.getX())),_=Math.floor(t.getY()+A*(x-t.getY())),T=4;T<=16;T<<=1)try{c=this.findAlignmentInRegion(a,E,_,T);break}catch(B){if(!(B instanceof xe))throw B}var b=r.createTransform(t,n,i,c,o),R=r.sampleGrid(this.image,b,o),M;return c===null?M=[i,t,n]:M=[i,t,n,c],new b2(R,M)},r.createTransform=function(e,t,n,i,a){var o=a-3.5,s,l,c,g;return i!==null?(s=i.getX(),l=i.getY(),c=o-3,g=c):(s=t.getX()-e.getX()+n.getX(),l=t.getY()-e.getY()+n.getY(),c=o,g=o),fm.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,g,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,l,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=R2.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=jt.round(We.distance(e,t)/i),o=jt.round(We.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new xe("Dimensions could be not found.")}return s},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(t-(i-t)*o);return o=1,l<0?(o=t/(t-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,l),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-t),c=-s/2,g=e<n?1:-1,x=t<i?1:-1,A=0,E=n+g,_=e,T=t;_!==E;_+=g){var b=a?T:_,R=a?_:T;if(A===1===this.image.get(b,R)){if(A===2)return jt.distance(_,T,e,t);A++}if(c+=l,c>0){if(T===i)break;T+=x,c-=s}}return A===2?jt.distance(n+g,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),o=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-o<e*3)throw new xe("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new xe("Alignment bottom exceeds estimated module size.");var g=new WS(this.image,o,l,s-o,c-l,e,this.resultPointCallback);return g.find()},r}(),Fh=function(){function r(){this.decoder=new HS}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(Nr.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var o=new KS(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof xm&&n.getOther().applyMirroredCorrection(i);var s=new ri(n.getText(),n.getRawBytes(),void 0,i,tt.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(Vn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(Vn.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Vn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Vn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new xe;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],l=n[0];if(s>=l||a>=o)throw new xe;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new xe;var c=Math.round((l-s+1)/i),g=Math.round((o-a+1)/i);if(c<=0||g<=0)throw new xe;if(g!==c)throw new xe;var x=Math.floor(i/2);a+=x,s+=x;var A=s+Math.floor((c-1)*i)-l;if(A>0){if(A>x)throw new xe;s-=A}var E=a+Math.floor((g-1)*i)-o;if(E>0){if(E>x)throw new xe;a-=E}for(var _=new eo(c,g),T=0;T<g;T++)for(var b=a+Math.floor(T*i),R=0;R<c;R++)e.get(s+Math.floor(R*i),b)&&_.set(R,T);return _},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==t.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new xe;return(a-e[0])/7},r.NO_POINTS=new Array,r}(),QS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lt=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return jt.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=QS(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=pn.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}(),qS=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),JS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eI=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new qS(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,o=0,s=0,l=!1;o<t.getHeight();){var c=r.findVertices(t,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var g=(n=void 0,JS(a)),x=g.next();!x.done;x=g.next()){var A=x.value;A[1]!=null&&(o=Math.trunc(Math.max(o,A[1].getY()))),A[3]!=null&&(o=Math.max(o,Math.trunc(A[3].getY())))}}catch(E){n={error:E}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}o+=r.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),o},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);i<t;i+=r.ROW_STEP){var g=r.findGuardPattern(e,a,i,n,!1,o,c);if(g!=null){for(;i>0;){var x=r.findGuardPattern(e,a,--i,n,!1,o,c);if(x!=null)g=x;else{i++;break}}s[0]=new We(g[0],i),s[1]=new We(g[1],i),l=!0;break}}var A=i+1;if(l){for(var E=0,x=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);A<t;A++){var g=r.findGuardPattern(e,x[0],A,n,!1,o,c);if(g!=null&&Math.abs(x[0]-g[0])<r.MAX_PATTERN_DRIFT&&Math.abs(x[1]-g[1])<r.MAX_PATTERN_DRIFT)x=g,E=0;else{if(E>r.SKIPPED_ROW_COUNT_MAX)break;E++}}A-=E+1,s[2]=new We(x[0],A),s[3]=new We(x[1],A)}return A-i<r.BARCODE_MIN_HEIGHT&&pn.fill(s,null),s},r.findGuardPattern=function(e,t,n,i,a,o,s){pn.fillWithin(s,0,s.length,0);for(var l=t,c=0;e.get(l,n)&&l>0&&c++<r.MAX_PIXEL_DRIFT;)l--;for(var g=l,x=0,A=o.length,E=a;g<i;g++){var _=e.get(g,n);if(_!==E)s[x]++;else{if(x===A-1){if(r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([l,g]);l+=s[0]+s[1],xr.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,E=!E}}return x===A-1&&r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([l,g-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,g=0;g<i;g++){var x=e[g],A=t[g]*l,E=x>A?x-A:A-x;if(E>n)return 1/0;c+=E}return c/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}(),tI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ks=function(){function r(e,t){if(t.length===0)throw new at;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),xr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=tI(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(x){t={error:x}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,g=1;g<c;g++)l=this.field.add(this.field.multiply(e,l),this.coefficients[g]);return l},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new at("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;xr.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(t[s-o],n[s]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new at("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new at("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=t[s],c=0;c<a;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,i[c]));return new r(this.field,o)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new at;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new mt,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}(),rI=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new at;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new cm;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}(),nI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iI=function(r){nI(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*n%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Ks(i,new Int32Array([0])),i.one=new Ks(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new at;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new Ks(this,i)},e.PDF417_GF=new e(Lt.NUMBER_OF_CODEWORDS,3),e}(rI),aI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oI=function(){function r(){this.field=iI.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,o=new Ks(this.field,e),s=new Int32Array(t),l=!1,c=t;c>0;c--){var g=o.evaluateAt(this.field.exp(c));s[t-c]=g,g!==0&&(l=!0)}if(!l)return 0;var x=this.field.getOne();if(n!=null)try{for(var A=aI(n),E=A.next();!E.done;E=A.next()){var _=E.value,T=this.field.exp(e.length-1-_),b=new Ks(this.field,new Int32Array([this.field.subtract(0,T),1]));x=x.multiply(b)}}catch(te){i={error:te}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}for(var R=new Ks(this.field,s),M=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),R,t),B=M[0],k=M[1],z=this.findErrorLocations(B),$=this.findErrorMagnitudes(k,B,z),c=0;c<z.length;c++){var V=e.length-1-this.field.log(z[c]);if(V<0)throw On.getChecksumInstance();e[V]=this.field.subtract(e[V],$[c])}return z.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,g=s;if(a=o,s=l,a.isZero())throw On.getChecksumInstance();o=c;for(var x=this.field.getZero(),A=a.getCoefficient(a.getDegree()),E=this.field.inverse(A);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),T=this.field.multiply(o.getCoefficient(o.getDegree()),E);x=x.add(this.field.buildMonomial(_,T)),o=o.subtract(a.multiplyByMonomial(_,T))}l=x.multiply(s).subtract(g).negative()}var b=l.getCoefficient(0);if(b===0)throw On.getChecksumInstance();var R=this.field.inverse(b),M=l.multiply(R),B=o.multiply(R);return[M,B]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw On.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var s=new Ks(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var g=this.field.inverse(n[o]),x=this.field.subtract(0,e.evaluateAt(g)),A=this.field.inverse(s.evaluateAt(g));c[o]=this.field.multiply(x,A)}return c},r}(),kh=function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var o=t==null||n==null,s=i==null||a==null;if(o&&s)throw new xe;o?(t=new We(0,i.getY()),n=new We(0,a.getY())):s&&(i=new We(e.getWidth()-1,t.getY()),a=new We(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var g=new We(l.getX(),c);n?i=g:o=g}if(t>0){var x=n?this.bottomLeft:this.bottomRight,A=Math.trunc(x.getY()+t);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);var E=new We(x.getX(),A);n?a=E:s=E}return new r(this.image,i,a,o,s)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}(),sI=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}(),M2=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(o,s,l,c,g,x){if(o==="%%")return"%";if(t[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var A=g?parseInt(g.substr(1)):void 0,E;switch(x){case"s":E=t[n];break;case"c":E=t[n][0];break;case"f":E=parseFloat(t[n]).toFixed(o);break;case"p":E=parseFloat(t[n]).toPrecision(o);break;case"e":E=parseFloat(t[n]).toExponential(o);break;case"x":E=parseInt(t[n]).toString(A||16);break;case"d":E=parseFloat(parseInt(t[n],A||10).toPrecision(o)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(A);for(var _=parseInt(l),T=l&&l[0]+""=="0"?"0":" ";E.length<_;)E=s!==void 0?E+T:T+E;return E}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}(),uI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ym=function(){function r(e){this.boundingBox=new kh(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new M2,i=0;try{for(var a=uI(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}(),lI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cI=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},il=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(x,A){var E={getKey:function(){return x},getValue:function(){return A}};E.getValue()>n?(n=E.getValue(),i=[],i.push(E.getKey())):E.getValue()===n&&i.push(E.getKey())};try{for(var o=lI(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=cI(s.value,2),c=l[0],g=l[1];a(c,g)}}catch(x){e={error:x}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Lt.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}(),fI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cx=function(r){fI(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=Vd(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,g=1,x=0,A=s;A<l;A++)if(n[A]!=null){var E=n[A],_=E.getRowNumber()-c;if(_===0)x++;else if(_===1)g=Math.max(g,x),x=1,c=E.getRowNumber();else if(_<0||E.getRowNumber()>=t.getRowCount()||_>A)n[A]=null;else{var T=void 0;g>2?T=(g-2)*_:T=_;for(var b=T>=A,R=1;R<=T&&!b;R++)b=n[A-R]!=null;b?n[A]=null:(c=E.getRowNumber(),x=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=Vd(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(g){t={error:g}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,g=o;g<s;g++)if(l[g]!=null){var x=l[g];x.setRowNumberAsRowIndicatorColumn();var A=x.getRowNumber()-c;A===0||(A===1?c=x.getRowNumber():x.getRowNumber()>=t.getRowCount()?l[g]=null:c=x.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new il,o=new il,s=new il,l=new il;try{for(var c=Vd(i),g=c.next();!g.done;g=c.next()){var x=g.value;if(x!=null){x.setRowNumberAsRowIndicatorColumn();var A=x.getValue()%30,E=x.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:o.setValue(A*3+1);break;case 1:l.setValue(A/3),s.setValue(A%3);break;case 2:a.setValue(A+1);break}}}}catch(T){t={error:T}}finally{try{g&&!g.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Lt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Lt.MAX_ROWS_IN_BARCODE)return null;var _=new sI(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(ym),dI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hI=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Lt.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[t],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[t],c[3]=l[t],t>0&&(c[0]=n[t-1],c[4]=s[t-1],c[5]=l[t-1]),t>1&&(c[8]=n[t-2],c[10]=s[t-2],c[11]=l[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=s[t+1],c[7]=l[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=s[t+2],c[13]=l[t+2]);try{for(var g=dI(c),x=g.next();!x.done;x=g.next()){var A=x.value;if(r.adjustRowNumber(o,A))return}}catch(E){i={error:E}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new M2,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r}(),pI=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}(),gI=function(){function r(){}return r.initialize=function(){for(var e=0;e<Lt.SYMBOL_TABLE.length;e++)for(var t=Lt.SYMBOL_TABLE[e],n=t&1,i=0;i<Lt.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Lt.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Lt.BARS_IN_MODULE-i-1]=Math.fround(a/Lt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=jt.sum(e),n=new Int32Array(Lt.BARS_IN_MODULE),i=0,a=0,o=0;o<Lt.MODULES_IN_CODEWORD;o++){var s=t/(2*Lt.MODULES_IN_CODEWORD)+o*t/Lt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Lt.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=jt.sum(e),n=new Array(Lt.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=Dh.MAX_VALUE,o=-1;this.bSymbolTableReady||r.initialize();for(var s=0;s<r.RATIOS_TABLE.length;s++){for(var l=0,c=r.RATIOS_TABLE[s],g=0;g<Lt.BARS_IN_MODULE;g++){var x=Math.fround(c[g]-n[g]);if(l+=Math.fround(x*x),l>=a)break}l<a&&(a=l,o=Lt.SYMBOL_TABLE[s])}return o},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Lt.SYMBOL_TABLE.length).map(function(e){return new Array(Lt.BARS_IN_MODULE)}),r}(),vI=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}(),_x=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}(),xI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yI=function(r){xI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Oi),mI=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new yI;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new O2;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}(),wI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AI=function(r){wI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Oi),EI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CI=function(r){EI(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new at("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new AI;i=Ct.MAX_VALUE}this.buf=pn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new O2;this.ensureCapacity(this.count+i),xr.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return pn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(mI),ur;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ur||(ur={}));function mm(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var jc;function is(r){if(typeof jc>"u"&&(jc=mm()),jc===null)throw new Error("BigInt is not supported!");return jc(r)}function _I(){var r=[];r[0]=is(1);var e=is(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var SI=function(){function r(){}return r.decode=function(e,t){var n=new mt(""),i=dn.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new vI;a<e[0];){switch(o){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(o,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:dn.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,s);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new Me;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Me.getFormatInstance()}if(n.length()===0)throw Me.getFormatInstance();var l=new kf(null,n.toString(),null,t);return l.setOther(s),l},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Me.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(Ct.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new mt;t=r.textCompaction(e,t,o),n.setFileId(o.toString());var s=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new mt;t=r.textCompaction(e,t+1,l),n.setFileName(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new mt;t=r.textCompaction(e,t+1,c),n.setSender(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var g=new mt;t=r.textCompaction(e,t+1,g),n.setAddressee(g.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var x=new mt;t=r.numericCompaction(e,t+1,x),n.setSegmentCount(Ct.parseInt(x.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var A=new mt;t=r.numericCompaction(e,t+1,A),n.setTimestamp(_x.parseLong(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var E=new mt;t=r.numericCompaction(e,t+1,E),n.setChecksum(Ct.parseInt(E.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new mt;t=r.numericCompaction(e,t+1,_),n.setFileSize(_x.parseLong(_.toString()));break;default:throw Me.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw Me.getFormatInstance()}if(s!==-1){var T=t-s;n.isLastSegment()&&T--,n.setOptionalData(pn.copyOfRange(e,s,s+T))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,s=!1;t<e[0]&&!s;){var l=e[t++];if(l<r.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:i[o++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],a[o]=l,o++;break}}return r.decodeTextCompaction(i,a,o,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=ur.ALPHA,o=ur.ALPHA,s=0;s<n;){var l=e[s],c="";switch(a){case ur.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.LL:a=ur.LOWER;break;case r.ML:a=ur.MIXED;break;case r.PS:o=a,a=ur.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ur.ALPHA;break}break;case ur.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case r.AS:o=a,a=ur.ALPHA_SHIFT;break;case r.ML:a=ur.MIXED;break;case r.PS:o=a,a=ur.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ur.ALPHA;break}break;case ur.MIXED:if(l<r.PL)c=r.MIXED_CHARS[l];else switch(l){case r.PL:a=ur.PUNCT;break;case 26:c=" ";break;case r.LL:a=ur.LOWER;break;case r.AL:a=ur.ALPHA;break;case r.PS:o=a,a=ur.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ur.ALPHA;break}break;case ur.PUNCT:if(l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=ur.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ur.ALPHA;break}break;case ur.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=ur.ALPHA;break}break;case ur.PUNCT_SHIFT:if(a=o,l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=ur.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ur.ALPHA;break}break}c!==""&&i.append(c),s++}},r.byteCompaction=function(e,t,n,i,a){var o=new CI,s=0,l=0,c=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var g=new Int32Array(6),x=t[i++];i<t[0]&&!c;)switch(g[s++]=x,l=900*l+x,x=t[i++],x){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var A=0;A<6;++A)o.write(Number(is(l)>>is(8*(5-A))));l=0,s=0}break}i===t[0]&&x<r.TEXT_COMPACTION_MODE_LATCH&&(g[s++]=x);for(var E=0;E<s;E++)o.write(g[E]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!c;){var _=t[i++];if(_<r.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+_;else switch(_){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var A=0;A<6;++A)o.write(Number(is(l)>>is(8*(5-A))));l=0,s=0}}break}return a.append(la.decode(o.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,o=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var s=e[t++];if(t===e[0]&&(a=!0),s<r.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||s===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(o,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=is(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*is(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Me;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=mm()?_I():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}(),Z1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},II=function(){function r(){}return r.decode=function(e,t,n,i,a,o,s){for(var l=new kh(e,t,n,i,a),c=null,g=null,x,A=!0;;A=!1){if(t!=null&&(c=r.getRowIndicatorColumn(e,l,t,!0,o,s)),i!=null&&(g=r.getRowIndicatorColumn(e,l,i,!1,o,s)),x=r.merge(c,g),x==null)throw xe.getNotFoundInstance();var E=x.getBoundingBox();if(A&&E!=null&&(E.getMinY()<l.getMinY()||E.getMaxY()>l.getMaxY()))l=E;else break}x.setBoundingBox(l);var _=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,c),x.setDetectionResultColumn(_,g);for(var T=c!=null,b=1;b<=_;b++){var R=T?b:_-b;if(x.getDetectionResultColumn(R)===void 0){var M=void 0;R===0||R===_?M=new Cx(l,R===0):M=new ym(l),x.setDetectionResultColumn(R,M);for(var B=-1,k=B,z=l.getMinY();z<=l.getMaxY();z++){if(B=r.getStartColumn(x,R,z,T),B<0||B>l.getMaxX()){if(k===-1)continue;B=k}var $=r.detectCodeword(e,l.getMinX(),l.getMaxX(),T,B,z,o,s);$!=null&&(M.setCodeword(z,$),k=B,o=Math.min(o,$.getWidth()),s=Math.max(s,$.getWidth()))}}}return r.createDecoderResult(x)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=kh.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new hI(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),o=0;try{for(var s=Z1(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(E){t={error:E}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var g=e.getCodewords(),x=0;o>0&&g[x]==null;x++)o--;for(var A=0,x=i.length-1;x>=0&&(A+=a-i[x],!(i[x]>0));x--);for(var x=g.length-1;A>0&&g[x]==null;x--)A--;return e.getBoundingBox().addMissingRows(o,A,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=Z1(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,o){for(var s=new Cx(t,i),l=0;l<2;l++)for(var c=l===0?1:-1,g=Math.trunc(Math.trunc(n.getX())),x=Math.trunc(Math.trunc(n.getY()));x<=t.getMaxY()&&x>=t.getMinY();x+=c){var A=r.detectCodeword(e,0,e.getWidth(),i,g,x,a,o);A!=null&&(s.setCodeword(x,A),i?g=A.getStartX():g=A.getEndX())}return s},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Lt.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=t[s][l+1].getValue(),g=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(g):c.length===1?i[g]=c[0]:(o.push(g),a.push(c))}for(var x=new Array(a.length),A=0;A<x.length;A++)x[A]=a[A];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Lt.toIntArray(n),Lt.toIntArray(o),x)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)t[i[l]]=a[l][o[l]];try{return r.decodeCodewords(t,e,n)}catch(g){var c=g instanceof On;if(!c)throw g}if(o.length===0)throw On.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw On.getChecksumInstance()}throw On.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new il;var c=0;try{for(var g=Z1(e.getDetectionResultColumns()),x=g.next();!x.done;x=g.next()){var A=x.value;if(A!=null)try{for(var E=(i=void 0,Z1(A.getCodewords())),_=E.next();!_.done;_=E.next()){var T=_.value;if(T!=null){var b=T.getRowNumber();if(b>=0){if(b>=o.length)continue;o[b][c].setValue(T.getValue())}}}}catch(R){i={error:R}}finally{try{_&&!_.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}c++}}catch(R){t={error:R}}finally{try{x&&!x.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}return o},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,o,s=i?1:-1,l=null;if(r.isValidBarcodeColumn(e,t-s)&&(l=e.getDetectionResultColumn(t-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(r.isValidBarcodeColumn(e,t-s)&&(l=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;r.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var g=(a=void 0,Z1(e.getDetectionResultColumn(t).getCodewords())),x=g.next();!x.done;x=g.next()){var A=x.value;if(A!=null)return(i?A.getEndX():A.getStartX())+s*c*(A.getEndX()-A.getStartX())}}catch(E){a={error:E}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,o,s,l){a=r.adjustCodewordStartColumn(e,t,n,i,a,o);var c=r.getModuleBitCount(e,t,n,i,a,o);if(c==null)return null;var g,x=jt.sum(c);if(i)g=a+x;else{for(var A=0;A<c.length/2;A++){var E=c[A];c[A]=c[c.length-1-A],c[c.length-1-A]=E}g=a,a=g-x}if(!r.checkCodewordSkew(x,s,l))return null;var _=gI.getDecodedValue(c),T=Lt.getCodeword(_);return T===-1?null:new pI(a,g,r.getCodewordBucketNumber(_),T)},r.getModuleBitCount=function(e,t,n,i,a,o){for(var s=a,l=new Int32Array(8),c=0,g=i?1:-1,x=i;(i?s<n:s>=t)&&c<l.length;)e.get(s,o)===x?(l[c]++,s+=g):(c++,x=!x);return c===l.length||s===(i?n:t)&&c===l.length-1?l:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,o){for(var s=a,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=t:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>r.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw Me.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var o=SI.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(n.length),o},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw On.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw Me.getFormatInstance();var n=e[0];if(n>e.length)throw Me.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw Me.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new M2,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new oI,r}(),TI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uh=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw xe.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof Me||n instanceof On?xe.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,o=new Array,s=eI.detectMultiple(e,t,n);try{for(var l=TI(s.getPoints()),c=l.next();!c.done;c=l.next()){var g=c.value,x=II.decode(s.getBits(),g[4],g[5],g[6],g[7],r.getMinCodewordWidth(g),r.getMaxCodewordWidth(g)),A=new ri(x.getText(),x.getRawBytes(),void 0,g,tt.PDF_417);A.putMetadata(Vn.ERROR_CORRECTION_LEVEL,x.getECLevel());var E=x.getOther();E!=null&&A.putMetadata(Vn.PDF417_EXTRA_METADATA,E),o.push(A)}}catch(_){i={error:_}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(_){return _})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Ct.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}(),OI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sx=function(r){OI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(Oi),Ix=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NI=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Nr.TRY_HARDER)!==void 0,n=e==null?null:e.get(Nr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===tt.UPC_A||o===tt.UPC_E||o===tt.EAN_13||o===tt.EAN_8||o===tt.CODABAR||o===tt.CODE_39||o===tt.CODE_93||o===tt.CODE_128||o===tt.ITF||o===tt.RSS_14||o===tt.RSS_EXPANDED});a&&!t&&i.push(new nl(e)),n.includes(tt.QR_CODE)&&i.push(new Fh),n.includes(tt.DATA_MATRIX)&&i.push(new Lh),n.includes(tt.AZTEC)&&i.push(new Ph),n.includes(tt.PDF_417)&&i.push(new Uh),a&&t&&i.push(new nl(e))}i.length===0&&(t||i.push(new nl(e)),i.push(new Fh),i.push(new Lh),i.push(new Ph),i.push(new Uh),t&&i.push(new nl(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=Ix(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new Sx("No readers where selected, nothing can be read.");try{for(var i=Ix(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Sx)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new xe("No MultiFormat Readers were able to detect the code.")},r}(),bI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RI=function(r){bI(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new NI;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(t1),DI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){DI(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Uh,t)||this}return e})(t1);var MI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){MI(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Fh,t)||this}return e})(t1);var jh;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(jh||(jh={}));const Hc=jh;var wm=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ss(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=n.multiply(new ss(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),n=o}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new at("No error correction bytes");var n=e.length-t;if(n<=0)throw new at("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);xr.arraycopy(e,0,a,0,n);var o=new ss(this.field,a);o=o.multiplyByMonomial(t,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),c=t-l.length,g=0;g<c;g++)e[n+g]=0;xr.arraycopy(l,0,e,n+c,l.length)},r}(),al=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(r.isWhiteHorizontal(l,s-4,s)||r.isWhiteHorizontal(l,s+7,s+11))&&t++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(r.isWhiteVertical(n,s,o-4,o)||r.isWhiteVertical(n,s,o+7,o+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&t++;var c=e.getHeight()*e.getWidth(),g=Math.floor(Math.abs(t*2-c)*10/c);return g*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new at("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,g=0;g<a;g++){var x=t?o[s][g]:o[g][s];x===c?l++:(l>=5&&(n+=r.N1+(l-5)),l=1,c=x)}l>=5&&(n+=r.N1+(l-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}(),PI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BI=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=PI(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;pn.fill(o,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=t.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},r.prototype.toString=function(){for(var e=new mt,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}(),Hh=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new mt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}(),LI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Er=function(r){LI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(Oi),Tx=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new bn;r.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=r.TYPE_INFO_COORDINATES[a],c=l[0],g=l[1];if(n.setBoolean(c,g,s),a<8){var x=n.getWidth()-a-1,A=8;n.setBoolean(x,A,s)}else{var x=8,A=n.getHeight()-7+(a-8);n.setBoolean(x,A,s)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new bn;r.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,a,s)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(r.isEmpty(n.get(c,s))){var g=void 0;i<e.getSize()?(g=e.get(i),++i):g=!1,t!==255&&al.getDataMaskBit(t,c,s)&&(g=!g),n.setBoolean(c,s,g)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Er("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Ct.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new at("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!Hh.isValidMaskPattern(t))throw new Er("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var o=new bn;if(o.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Er("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Er("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Er;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new Er;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new Er;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&r.isEmpty(t.get(c,s))&&r.embedPositionAdjustmentPattern(c-2,s-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}(),FI=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}(),Ox=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return al.applyMaskPenaltyRule1(e)+al.applyMaskPenaltyRule2(e)+al.applyMaskPenaltyRule3(e)+al.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Hc.CHARACTER_SET)!==void 0;a&&(i=n.get(Hc.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new bn;if(o===_r.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=dn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new bn;this.appendBytes(e,o,c,i);var g;if(n!==null&&n.get(Hc.QR_VERSION)!==void 0){var x=Number.parseInt(n.get(Hc.QR_VERSION).toString(),10);g=Js.getVersionForNumber(x);var A=this.calculateBitsNeeded(o,s,c,g);if(!this.willFit(A,g,t))throw new Er("Data too big for requested version")}else g=this.recommendVersion(t,o,s,c);var E=new bn;E.appendBitArray(s);var _=o===_r.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(_,g,o,E),E.appendBitArray(c);var T=g.getECBlocksForLevel(t),b=g.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(b,E);var R=this.interleaveWithECBytes(E,g.getTotalCodewords(),b,T.getNumBlocks()),M=new Hh;M.setECLevel(t),M.setMode(o),M.setVersion(g);var B=g.getDimensionForVersion(),k=new BI(B,B),z=this.chooseMaskPattern(R,t,g,k);return M.setMaskPattern(z),Tx.buildMatrix(R,t,g,z,k),M.setMatrix(k),M},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,Js.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,n,i,o);return this.chooseVersion(s,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),dn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return _r.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(r.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return _r.BYTE}return i?_r.ALPHANUMERIC:n?_r.NUMERIC:_r.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=la.encode(e,dn.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Hh.NUM_MASK_PATTERNS;s++){Tx.buildMatrix(e,t,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=Js.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new Er("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new Er("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits(i&1?17:236,8);if(t.getSize()!==n)throw new Er("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,o){if(i>=n)throw new Er("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),g=c+1,x=Math.floor(t/n),A=x+1,E=c-x,_=g-A;if(E!==_)throw new Er("EC bytes mismatch");if(n!==l+s)throw new Er("RS blocks mismatch");if(e!==(x+E)*l+(A+_)*s)throw new Er("Total bytes mismatch");i<l?(a[0]=x,o[0]=E):(a[0]=A,o[0]=_)},r.interleaveWithECBytes=function(e,t,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new Er("Number of bits and data bytes does not match");for(var c=0,g=0,x=0,A=new Array,E=0;E<i;++E){var _=new Int32Array(1),T=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,E,_,T);var b=_[0],R=new Uint8Array(b);e.toBytes(8*c,R,0,b);var M=r.generateECBytes(R,T[0]);A.push(new FI(R,M)),g=Math.max(g,b),x=Math.max(x,M.length),c+=_[0]}if(n!==c)throw new Er("Data bytes does not match offset");for(var B=new bn,E=0;E<g;++E)try{for(var k=(a=void 0,Ox(A)),z=k.next();!z.done;z=k.next()){var $=z.value,R=$.getDataBytes();E<R.length&&B.appendBits(R[E],8)}}catch(pe){a={error:pe}}finally{try{z&&!z.done&&(o=k.return)&&o.call(k)}finally{if(a)throw a.error}}for(var E=0;E<x;++E)try{for(var V=(s=void 0,Ox(A)),te=V.next();!te.done;te=V.next()){var $=te.value,M=$.getErrorCorrectionBytes();E<M.length&&B.appendBits(M[E],8)}}catch(pe){s={error:pe}}finally{try{te&&!te.done&&(l=V.return)&&l.call(V)}finally{if(s)throw s.error}}if(t!==B.getSizeInBytes())throw new Er("Interleaving error: "+t+" and "+B.getSizeInBytes()+" differ.");return B},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new wm(Si.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[n+a];return o},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new Er(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case _r.NUMERIC:r.appendNumericBytes(e,n);break;case _r.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case _r.BYTE:r.append8BitBytes(e,n,i);break;case _r.KANJI:r.appendKanjiBytes(e,n);break;default:throw new Er("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var o=r.getDigit(e.charAt(i+1)),s=r.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=r.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Er;if(i+1<n){var o=r.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Er;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=la.encode(e,n)}catch(l){throw new Er(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];t.appendBits(s,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=la.encode(e,dn.SJIS)}catch(x){throw new Er(x)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Er("Invalid byte sequence");var g=(c>>8)*192+(c&255);t.appendBits(g,13)}},r.appendECI=function(e,t){t.appendBits(_r.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=dn.UTF8.getName(),r})();var kI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){kI(e,r);function e(t,n,i,a,o,s,l,c){var g=r.call(this,s,l)||this;if(g.yuvData=t,g.dataWidth=n,g.dataHeight=i,g.left=a,g.top=o,a+s>n||o+l>i)throw new at("Crop rectangle does not fit within image data.");return c&&g.reverseHorizontal(s,l),g}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new at("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return xr.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return xr.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*t;xr.arraycopy(this.yuvData,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*t,c=0;c<t;c++){var g=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|g*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+t/2,l=o,c=o+t-1;l<s;l++,c--){var g=i[l];i[l]=i[c],i[c]=g}},e.prototype.invert=function(){return new N2(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Ff);var UI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){UI(e,r);function e(t,n,i,a,o,s,l){var c=r.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=s,c.top=l,t.BYTES_PER_ELEMENT===4){for(var g=n*i,x=new Uint8ClampedArray(g),A=0;A<g;A++){var E=t[A],_=E>>16&255,T=E>>7&510,b=E&255;x[A]=(_+T+b)/4&255}c.luminances=x}else c.luminances=t;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new at("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new at("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return xr.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return xr.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*t;xr.arraycopy(this.luminances,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new N2(this)},e})(Ff);var jI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HI=function(r){jI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(dn),VI=function(){function r(){}return r.ISO_8859_1=dn.ISO8859_1,r}(),Vh,zI=301,GI=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=zI);return{LOG:r,ALOG:e}};Vh=GI([],[]),Vh.LOG;Vh.ALOG;var Nx;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Nx||(Nx={}));var bx=129,Am=230,WI=231,XI=235,YI=236,$I=237,ZI=238,KI=239,QI=240,zd=254,qI=254,Rx="[)>05",Dx="[)>06",Mx="",ir=0,jn=1,fi=2,un=3,In=4,qn=5,JI=function(){function r(){}return r.prototype.getEncodingMode=function(){return ir},r.prototype.encode=function(e){var t=Ta.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Ta.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case qn:e.writeCodeword(WI),e.signalEncoderChange(qn);return;case jn:e.writeCodeword(Am),e.signalEncoderChange(jn);return;case un:e.writeCodeword(ZI),e.signalEncoderChange(un);break;case fi:e.writeCodeword(KI),e.signalEncoderChange(fi);break;case In:e.writeCodeword(QI),e.signalEncoderChange(In);break;default:throw new Error("Illegal mode: "+i)}else Ta.isExtendedASCII(n)?(e.writeCodeword(XI),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(Ta.isDigit(e)&&Ta.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r}(),e5=function(){function r(){}return r.prototype.getEncodingMode=function(){return qn},r.prototype.encode=function(e){var t=new mt;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var i=Ta.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}var a=t.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)t.setCharAt(0,Dt.getCharAt(a));else if(a<=1555)t.setCharAt(0,Dt.getCharAt(Math.floor(a/250)+249)),t.insert(1,Dt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=t.length();c<n;c++)e.writeCodeword(this.randomize255State(t.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,i=e+n;return i<=255?i:i-256},r}(),P2=function(){function r(){}return r.prototype.getEncodingMode=function(){return jn},r.prototype.encodeMaximal=function(e){for(var t=new mt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var s=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,g=Math.floor(t.length()%3);(g===2&&c!==2||g===1&&(n>3||c!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(Am),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new mt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,t),a=Math.floor(t.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new mt;for(t.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,t,l,i));t.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,t,l,i);break}var c=t.length();if(c%3===0){var g=Ta.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(g!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,i){var a=t.length(),o=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(zd)}else if(o===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(zd),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(zd)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ir)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,i=t%256,a=new mt;return a.append(n),a.append(i),a.toString()},r}(),t5=function(){function r(){}return r.prototype.getEncodingMode=function(){return In},r.prototype.encode=function(e){for(var t=new mt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var o=Ta.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}}t.append(Dt.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(ir)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Dt.getCharAt(e-64)):Ta.illegalCharacter(Dt.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,o=t>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,c=s>>8&255,g=s&255,x=new mt;return x.append(l),t>=2&&x.append(c),t>=3&&x.append(g),x.toString()},r}(),r5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xt=function(){function r(e,t,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return r.lookup=function(e,t,n,i,a){var o,s;t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=n5(a5),c=l.next();!c.done;c=l.next()){var g=c.value;if(!(t===1&&g.rectangular)&&!(t===2&&!g.rectangular)&&!(n!=null&&(g.getSymbolWidth()<n.getWidth()||g.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(g.getSymbolWidth()>i.getWidth()||g.getSymbolHeight()>i.getHeight()))&&e<=g.dataCapacity)return g}}catch(x){o={error:x}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r}(),i5=function(r){r5(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Xt),a5=[new Xt(!1,3,5,8,8,1),new Xt(!1,5,7,10,10,1),new Xt(!0,5,7,16,6,1),new Xt(!1,8,10,12,12,1),new Xt(!0,10,11,14,6,2),new Xt(!1,12,12,14,14,1),new Xt(!0,16,14,24,10,1),new Xt(!1,18,14,16,16,1),new Xt(!1,22,18,18,18,1),new Xt(!0,22,18,16,10,2),new Xt(!1,30,20,20,20,1),new Xt(!0,32,24,16,14,2),new Xt(!1,36,24,22,22,1),new Xt(!1,44,28,24,24,1),new Xt(!0,49,28,22,14,2),new Xt(!1,62,36,14,14,4),new Xt(!1,86,42,16,16,4),new Xt(!1,114,48,18,18,4),new Xt(!1,144,56,20,20,4),new Xt(!1,174,68,22,22,4),new Xt(!1,204,84,24,24,4,102,42),new Xt(!1,280,112,14,14,16,140,56),new Xt(!1,368,144,16,16,16,92,36),new Xt(!1,456,192,18,18,16,114,48),new Xt(!1,576,224,20,20,16,144,56),new Xt(!1,696,272,22,22,16,174,68),new Xt(!1,816,336,24,24,16,136,56),new Xt(!1,1050,408,18,18,36,175,68),new Xt(!1,1304,496,20,20,36,163,62),new i5],o5=function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(s){return s.charCodeAt(0)}),n=new mt,i=0,a=t.length;i<a;i++){var o=String.fromCharCode(t[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new mt,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Xt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r}(),s5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u5=function(r){s5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return un},e.prototype.encode=function(t){for(var n=new mt;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(t,n);var o=Ta.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(ir);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):Ta.illegalCharacter(Dt.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=n.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(qI),t.getNewEncoding()<0&&t.signalEncoderChange(ir)},e}(P2),l5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),c5=function(r){l5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return fi},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(t-128,n),i},e}(P2),Ta=function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=bx+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,i,a){t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new P2,s=[new JI,o,new c5,new u5,new t5,new e5],l=new o5(e);l.setSymbolShape(t),l.setSizeConstraints(n,i),e.startsWith(Rx)&&e.endsWith(Mx)?(l.writeCodeword(YI),l.setSkipAtEnd(2),l.pos+=Rx.length):e.startsWith(Dx)&&e.endsWith(Mx)&&(l.writeCodeword($I),l.setSkipAtEnd(2),l.pos+=Dx.length);var c=ir;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var g=l.getCodewordCount();l.updateSymbolInfo();var x=l.getSymbolInfo().getDataCapacity();g<x&&c!==ir&&c!==qn&&c!==In&&l.writeCodeword("þ");var A=l.getCodewords();for(A.length()<x&&A.append(bx);A.length()<x;)A.append(this.randomize253State(A.length()+1));return l.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var i=this.lookAheadTestIntern(e,t,n);if(n===un&&i===un){for(var a=Math.min(t+3,e.length),o=t;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ir}else if(n===In&&i===In){for(var a=Math.min(t+4,e.length),o=t;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ir}return i},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var i;n===ir?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(t+a===e.length){pn.fill(o,0),pn.fill(s,0);var l=this.findMinimums(i,s,Ct.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[ir]===l)return ir;if(c===1){if(o[qn]>0)return qn;if(o[In]>0)return In;if(o[fi]>0)return fi;if(o[un]>0)return un}return jn}var g=e.charCodeAt(t+a);if(a++,this.isDigit(g)?i[ir]+=.5:this.isExtendedASCII(g)?(i[ir]=Math.ceil(i[ir]),i[ir]+=2):(i[ir]=Math.ceil(i[ir]),i[ir]++),this.isNativeC40(g)?i[jn]+=2/3:this.isExtendedASCII(g)?i[jn]+=8/3:i[jn]+=4/3,this.isNativeText(g)?i[fi]+=2/3:this.isExtendedASCII(g)?i[fi]+=8/3:i[fi]+=4/3,this.isNativeX12(g)?i[un]+=2/3:this.isExtendedASCII(g)?i[un]+=13/3:i[un]+=10/3,this.isNativeEDIFACT(g)?i[In]+=3/4:this.isExtendedASCII(g)?i[In]+=17/4:i[In]+=13/4,this.isSpecialB256(g)?i[qn]+=4:i[qn]++,a>=4){if(pn.fill(o,0),pn.fill(s,0),this.findMinimums(i,s,Ct.MAX_VALUE,o),s[ir]<this.min(s[qn],s[jn],s[fi],s[un],s[In]))return ir;if(s[qn]<s[ir]||s[qn]+1<this.min(s[jn],s[fi],s[un],s[In]))return qn;if(s[In]+1<this.min(s[qn],s[jn],s[fi],s[un],s[ir]))return In;if(s[fi]+1<this.min(s[qn],s[jn],s[In],s[un],s[ir]))return fi;if(s[un]+1<this.min(s[qn],s[jn],s[In],s[fi],s[ir]))return un;if(s[jn]+1<this.min(s[ir],s[qn],s[In],s[fi])){if(s[jn]<s[un])return jn;if(s[jn]===s[un]){for(var x=t+a+1;x<e.length;){var A=e.charCodeAt(x);if(this.isX12TermSep(A))return un;if(!this.isNativeX12(A))break;x++}return jn}}}}},r.min=function(e,t,n,i,a){var o=Math.min(e,Math.min(t,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},r.findMinimums=function(e,t,n,i){for(var a=0;a<6;a++){var o=t[a]=Math.ceil(e[a]);n>o&&(n=o,pn.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,i=t;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-t},r.illegalCharacter=function(e){var t=Ct.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r}(),Gd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Px=function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return la.encode(e,this.charset)!=null}catch{return!1}},r}(),f5=function(){function r(e,t,n){var i,a,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(q){return new Px(HI.forName(q))}),this.encoders=[];var g=[];g.push(new Px(VI.ISO_8859_1));for(var x=t!=null&&t.name.startsWith("UTF"),A=0;A<e.length;A++){var E=!1;try{for(var _=(i=void 0,Gd(g)),T=_.next();!T.done;T=_.next()){var b=T.value,R=e.charAt(A),M=R.charCodeAt(0);if(M===n||b.canEncode(R)){E=!0;break}}}catch(q){i={error:q}}finally{try{T&&!T.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!E)try{for(var B=(o=void 0,Gd(this.ENCODERS)),k=B.next();!k.done;k=B.next()){var b=k.value;if(b.canEncode(e.charAt(A))){g.push(b),E=!0;break}}}catch(q){o={error:q}}finally{try{k&&!k.done&&(s=B.return)&&s.call(B)}finally{if(o)throw o.error}}E||(x=!0)}if(g.length===1&&!x)this.encoders=[g[0]];else{this.encoders=[];var z=0;try{for(var $=Gd(g),V=$.next();!V.done;V=$.next()){var b=V.value;this.encoders[z++]=b}}catch(q){l={error:q}}finally{try{V&&!V.done&&(c=$.return)&&c.call($)}finally{if(l)throw l.error}}}var te=-1;if(t!=null){for(var A=0;A<this.encoders.length;A++)if(this.encoders[A]!=null&&t.name===this.encoders[A].name){te=A;break}}this.priorityEncoderIndex=te}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return la.encode(Dt.getCharAt(e),this.encoders[t].name)},r}(),d5=3,h5=function(){function r(e,t,n){this.fnc1=n;var i=new f5(e,t,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new mt,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(s===o||t.canEncode(s,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),c=l+1);for(var g=l;g<c;g++)(s===o||t.canEncode(s,g))&&this.addEdge(n,i+1,new Bx(s,t,g,a,o))},r.prototype.encodeMinimally=function(e,t,n){var i=e.length,a=new Bx[i+1][t.length()];this.addEdges(e,t,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<t.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,t,a,o,a[o][s],n);for(var s=0;s<t.length();s++)a[o-1][s]=null}for(var l=-1,c=Ct.MAX_VALUE,s=0;s<t.length();s++)if(a[i][s]!=null){var g=a[i][s];g.cachedTotalSize<c&&(c=g.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var x=[],A=a[i][l];A!=null;){if(A.isFNC1())x.unshift(1e3);else for(var E=t.encode(A.c,A.encoderIndex),o=E.length-1;o>=0;o--)x.unshift(E[o]&255);var _=A.previous===null?0:A.previous.encoderIndex;_!==A.encoderIndex&&x.unshift(256+t.getECIValue(A.encoderIndex)),A=A.previous}for(var T=[],o=0;o<T.length;o++)T[o]=x[o];return T},r}(),Bx=function(){function r(e,t,n,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:t.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=d5),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return r.prototype.isFNC1=function(){return this.c===1e3},r}(),p5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var Lx;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(Lx||(Lx={}));(function(r){p5(e,r);function e(t,n,i,a,o){var s=r.call(this,t,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(h5);var g5=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}(),Fx=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}(),v5=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}(),x5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B2=function(r){x5(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Ct.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(v5),y5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),m5=function(r){y5(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(B2);function w5(r,e,t){return new m5(r,e,t)}function K1(r,e,t){return new B2(r,e,t)}var A5=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],us=0,xf=1,sa=2,Em=3,Qa=4,E5=new B2(null,0,0),Wd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],C5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function _5(r){var e,t;try{for(var n=C5(r),i=n.next();!i.done;i=n.next()){var a=i.value;pn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[us][Qa]=0,r[xf][Qa]=0,r[xf][us]=28,r[Em][Qa]=0,r[sa][Qa]=0,r[sa][us]=15,r}var Cm=_5(pn.createInt32Array(6,6)),S5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I5=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Wd[this.mode][e];i=K1(i,a&65535,a>>16),n+=a>>16}var o=e===sa?4:5;return i=K1(i,t,o),new r(i,e,0,n+o)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===sa?4:5;return n=K1(n,Cm[this.mode][e],i),n=K1(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===Qa||this.mode===sa){var a=Wd[n][us];t=K1(t,a&65535,a>>16),i+=a>>16,n=us}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new r(t,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=w5(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Wd[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new bn;try{for(var s=S5(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,e)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},r.prototype.toString=function(){return Dt.format("%s bits=%d bytes=%d",A5[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(E5,us,0,0),r}();function T5(r){var e=Dt.getCharCode(" "),t=Dt.getCharCode("."),n=Dt.getCharCode(",");r[us][e]=1;for(var i=Dt.getCharCode("Z"),a=Dt.getCharCode("A"),o=a;o<=i;o++)r[us][o]=o-a+2;r[xf][e]=1;for(var s=Dt.getCharCode("z"),l=Dt.getCharCode("a"),o=l;o<=s;o++)r[xf][o]=o-l+2;r[sa][e]=1;for(var c=Dt.getCharCode("9"),g=Dt.getCharCode("0"),o=g;o<=c;o++)r[sa][o]=o-g+2;r[sa][n]=12,r[sa][t]=13;for(var x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],A=0;A<x.length;A++)r[Em][Dt.getCharCode(x[A])]=A;for(var E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],A=0;A<E.length;A++)Dt.getCharCode(E[A])>0&&(r[Qa][Dt.getCharCode(E[A])]=A);return r}var Xd=T5(pn.createInt32Array(5,256)),Vc=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O5=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Dt.getCharCode(" "),t=Dt.getCharCode(`
`),n=Fx.singletonList(I5.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Dt.getCharCode("\r"):a=o===t?2:0;break;case Dt.getCharCode("."):a=o===e?3:0;break;case Dt.getCharCode(","):a=o===e?4:0;break;case Dt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=r.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=Fx.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,a=[];try{for(var o=Vc(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,t,a)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r.simplifyStates(a)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,a=Xd[e.getMode()][i]>0,o=null,s=0;s<=Qa;s++){var l=Xd[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(t)),!a||s===e.getMode()||s===sa){var c=o.latchAndAppend(s,l);n.push(c)}if(!a&&Cm[e.getMode()][s]>=0){var g=o.shiftAndAppend(s,l);n.push(g)}}}if(e.getBinaryShiftByteCount()>0||Xd[e.getMode()][i]===0){var x=e.addBinaryShiftChar(t);n.push(x)}},r.updateStateListForPair=function(e,t,n){var i,a,o=[];try{for(var s=Vc(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,t,n,o)}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},r.updateStateForPair=function(e,t,n,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Qa,n)),e.getMode()!==Qa&&i.push(a.shiftAndAppend(Qa,n)),n===3||n===4){var o=a.latchAndAppend(sa,16-n).latchAndAppend(sa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},r.simplifyStates=function(e){var t,n,i,a,o=[];try{for(var s=Vc(e),l=s.next();!l.done;l=s.next()){var c=l.value,g=!0,x=function(b){if(b.isBetterThanOrEqualTo(c))return g=!1,"break";c.isBetterThanOrEqualTo(b)&&(o=o.filter(function(R){return R!==b}))};try{for(var A=(i=void 0,Vc(o)),E=A.next();!E.done;E=A.next()){var _=E.value,T=x(_);if(T==="break")break}}catch(b){i={error:b}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}g&&o.push(c)}}catch(b){t={error:b}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},r}(),N5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new O5(e).encode(),a=Ct.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,s,l,c,g,x;if(n!==r.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new at(Dt.format("Illegal value %s for layers",n));c=r.totalBitsInLayer(l,s),g=r.WORD_SIZE[l];var A=c-c%g;if(x=r.stuffBits(i,g),x.getSize()+a>A)throw new at("Data to large for user specified layer");if(s&&x.getSize()>g*64)throw new at("Data to large for user specified layer")}else{g=0,x=null;for(var E=0;;E++){if(E>r.MAX_NB_BITS)throw new at("Data too large for an Aztec code");if(s=E<=3,l=s?E+1:E,c=r.totalBitsInLayer(l,s),!(o>c)){(x==null||g!==r.WORD_SIZE[l])&&(g=r.WORD_SIZE[l],x=r.stuffBits(i,g));var A=c-c%g;if(!(s&&x.getSize()>g*64)&&x.getSize()+a<=A)break}}}var _=r.generateCheckWords(x,c,g),T=x.getSize()/g,b=r.generateModeMessage(s,l,T),R=(s?11:14)+l*4,M=new Int32Array(R),B;if(s){B=R;for(var E=0;E<M.length;E++)M[E]=E}else{B=R+1+2*Ct.truncDivision(Ct.truncDivision(R,2)-1,15);for(var k=Ct.truncDivision(R,2),z=Ct.truncDivision(B,2),E=0;E<k;E++){var $=E+Ct.truncDivision(E,15);M[k-E-1]=z-$-1,M[k+E]=z+$+1}}for(var V=new eo(B),E=0,te=0;E<l;E++){for(var q=(l-E)*4+(s?9:12),pe=0;pe<q;pe++)for(var Be=pe*2,ge=0;ge<2;ge++)_.get(te+Be+ge)&&V.set(M[E*2+ge],M[E*2+pe]),_.get(te+q*2+Be+ge)&&V.set(M[E*2+pe],M[R-1-E*2-ge]),_.get(te+q*4+Be+ge)&&V.set(M[R-1-E*2-ge],M[R-1-E*2-pe]),_.get(te+q*6+Be+ge)&&V.set(M[R-1-E*2-pe],M[E*2+ge]);te+=q*8}if(r.drawModeMessage(V,s,B,b),s)r.drawBullsEye(V,Ct.truncDivision(B,2),5);else{r.drawBullsEye(V,Ct.truncDivision(B,2),7);for(var E=0,pe=0;E<Ct.truncDivision(R,2)-1;E+=15,pe+=16)for(var ge=Ct.truncDivision(B,2)&1;ge<B;ge+=2)V.set(Ct.truncDivision(B,2)-pe,ge),V.set(Ct.truncDivision(B,2)+pe,ge),V.set(ge,Ct.truncDivision(B,2)-pe),V.set(ge,Ct.truncDivision(B,2)+pe)}var Ee=new g5;return Ee.setCompact(s),Ee.setSize(B),Ee.setLayers(l),Ee.setCodeWords(T),Ee.setMatrix(V),Ee},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new bn;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var a=Ct.truncDivision(n,2);if(t)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+Ct.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},r.generateCheckWords=function(e,t,n){var i,a,o=e.getSize()/n,s=new wm(r.getGF(n)),l=Ct.truncDivision(t,n),c=r.bitsToWords(e,n,l);s.encode(c,l-o);var g=t%n,x=new bn;x.appendBits(0,g);try{for(var A=N5(Array.from(c)),E=A.next();!E.done;E=A.next()){var _=E.value;x.appendBits(_,n)}}catch(T){i={error:T}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}return x},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var s=0,l=0;l<t;l++)s|=e.get(a*t+l)?1<<t-l-1:0;i[a]=s}return i},r.getGF=function(e){switch(e){case 4:return Si.AZTEC_PARAM;case 6:return Si.AZTEC_DATA_6;case 8:return Si.AZTEC_DATA_8;case 10:return Si.AZTEC_DATA_10;case 12:return Si.AZTEC_DATA_12;default:throw new at("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new bn,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var s=0,l=0;l<t;l++)(o+l>=i||e.get(o+l))&&(s|=1<<t-1-l);(s&a)===a?(n.appendBits(s&a,t),o--):s&a?n.appendBits(s,t):(n.appendBits(s|1,t),o--)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var of={exports:{}},b5=of.exports,kx;function R5(){return kx||(kx=1,function(r,e){(function(n,i){r.exports=i($u())})(b5,function(t){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var c in o)a.d(l,c,(function(g){return o[g]}).bind(null,c));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var A=function(E,_){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,b){T.__proto__=b}||function(T,b){for(var R in b)b.hasOwnProperty(R)&&(T[R]=b[R])},A(E,_)};return function(E,_){A(E,_);function T(){this.constructor=E}E.prototype=_===null?Object.create(_):(T.prototype=_.prototype,new T)}}(),l=function(){return l=Object.assign||function(A){for(var E,_=1,T=arguments.length;_<T;_++){E=arguments[_];for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(A[b]=E[b])}return A},l.apply(this,arguments)},c=function(A,E){var _={};for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&E.indexOf(T)<0&&(_[T]=A[T]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,T=Object.getOwnPropertySymbols(A);b<T.length;b++)E.indexOf(T[b])<0&&Object.prototype.propertyIsEnumerable.call(A,T[b])&&(_[T[b]]=A[T[b]]);return _};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(E){var _=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return _?new Promise(function(T,b){_.call(navigator,E,T,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function g(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var x=function(A){s(E,A);function E(_){var T=A.call(this,_)||this;return T.canvas=null,T.ctx=null,T.requestUserMediaId=0,T.unmounted=!1,T.state={hasUserMedia:!1},T}return E.prototype.componentDidMount=function(){var _=this,T=_.state,b=_.props;if(this.unmounted=!1,!g()){b.onUserMediaError("getUserMedia not supported");return}T.hasUserMedia||this.requestUserMedia(),b.children&&typeof b.children!="function"&&console.warn("children must be a function")},E.prototype.componentDidUpdate=function(_){var T=this.props;if(!g()){T.onUserMediaError("getUserMedia not supported");return}var b=JSON.stringify(_.audioConstraints)!==JSON.stringify(T.audioConstraints),R=JSON.stringify(_.videoConstraints)!==JSON.stringify(T.videoConstraints),M=_.minScreenshotWidth!==T.minScreenshotWidth,B=_.minScreenshotHeight!==T.minScreenshotHeight;(R||M||B)&&(this.canvas=null,this.ctx=null),(b||R)&&(this.stopAndCleanup(),this.requestUserMedia())},E.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},E.stopMediaStream=function(_){_&&(_.getVideoTracks&&_.getAudioTracks?(_.getVideoTracks().map(function(T){_.removeTrack(T),T.stop()}),_.getAudioTracks().map(function(T){_.removeTrack(T),T.stop()})):_.stop())},E.prototype.stopAndCleanup=function(){var _=this.state;_.hasUserMedia&&(E.stopMediaStream(this.stream),_.src&&window.URL.revokeObjectURL(_.src))},E.prototype.getScreenshot=function(_){var T=this,b=T.state,R=T.props;if(!b.hasUserMedia)return null;var M=this.getCanvas(_);return M&&M.toDataURL(R.screenshotFormat,R.screenshotQuality)},E.prototype.getCanvas=function(_){var T=this,b=T.state,R=T.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var M=this.video.videoWidth,B=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var k=M/B;M=R.minScreenshotWidth||this.video.clientWidth,B=M/k,R.minScreenshotHeight&&B<R.minScreenshotHeight&&(B=R.minScreenshotHeight,M=B*k)}this.canvas=document.createElement("canvas"),this.canvas.width=(_==null?void 0:_.width)||M,this.canvas.height=(_==null?void 0:_.height)||B,this.ctx=this.canvas.getContext("2d")}var z=this,$=z.ctx,V=z.canvas;return $&&V&&(V.width=(_==null?void 0:_.width)||V.width,V.height=(_==null?void 0:_.height)||V.height,R.mirrored&&($.translate(V.width,0),$.scale(-1,1)),$.imageSmoothingEnabled=R.imageSmoothing,$.drawImage(this.video,0,0,(_==null?void 0:_.width)||V.width,(_==null?void 0:_.height)||V.height),R.mirrored&&($.scale(-1,1),$.translate(-V.width,0))),V},E.prototype.requestUserMedia=function(){var _=this,T=this.props,b=function(B,k){var z={video:typeof k<"u"?k:!0};T.audio&&(z.audio=typeof B<"u"?B:!0),_.requestUserMediaId++;var $=_.requestUserMediaId;navigator.mediaDevices.getUserMedia(z).then(function(V){_.unmounted||$!==_.requestUserMediaId?E.stopMediaStream(V):_.handleUserMedia(null,V)}).catch(function(V){_.handleUserMedia(V)})};if("mediaDevices"in navigator)b(T.audioConstraints,T.videoConstraints);else{var R=function(B){return{optional:[{sourceId:B}]}},M=function(B){var k=B.deviceId;return typeof k=="string"?k:Array.isArray(k)&&k.length>0?k[0]:typeof k=="object"&&k.ideal?k.ideal:null};MediaStreamTrack.getSources(function(B){var k=null,z=null;B.forEach(function(te){te.kind==="audio"?k=te.id:te.kind==="video"&&(z=te.id)});var $=M(T.audioConstraints);$&&(k=$);var V=M(T.videoConstraints);V&&(z=V),b(R(k),R(z))})}},E.prototype.handleUserMedia=function(_,T){var b=this.props;if(_||!T){this.setState({hasUserMedia:!1}),b.onUserMediaError(_);return}this.stream=T;try{this.video&&(this.video.srcObject=T),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(T)})}b.onUserMedia(T)},E.prototype.render=function(){var _=this,T=this,b=T.state,R=T.props,M=R.audio;R.forceScreenshotSourceSize;var B=R.disablePictureInPicture;R.onUserMedia,R.onUserMediaError,R.screenshotFormat,R.screenshotQuality,R.minScreenshotWidth,R.minScreenshotHeight,R.audioConstraints,R.videoConstraints,R.imageSmoothing;var k=R.mirrored,z=R.style,$=z===void 0?{}:z,V=R.children,te=c(R,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),q=k?l(l({},$),{transform:($.transform||"")+" scaleX(-1)"}):$,pe={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:B,src:b.src,muted:!M,playsInline:!0,ref:function(Be){_.video=Be},style:q},te)),V&&V(pe))},E.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},E}(o.Component);i.default=x},react:function(n,i){n.exports=t}}).default})}(of)),of.exports}var D5=R5();const M5=xl(D5),P5=({onUpdate:r,onError:e,width:t="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l})=>{const c=os.useRef(null),g=os.useCallback(()=>{var E;const x=new RI,A=(E=c==null?void 0:c.current)==null?void 0:E.getScreenshot();A&&x.decodeFromImage(void 0,A).then(_=>{r(null,_)}).catch(_=>{r(_)})},[r]);return os.useEffect(()=>{var x,A;if(typeof a=="boolean"&&((x=navigator==null?void 0:navigator.mediaDevices)!=null&&x.getSupportedConstraints().torch)){const E=(A=c==null?void 0:c.current)==null?void 0:A.video.srcObject,_=E==null?void 0:E.getVideoTracks()[0];_&&_.getCapabilities().torch&&!_.getConstraints().torch&&_.applyConstraints({advanced:[{torch:a}]}).catch(T=>r(T))}},[a,r]),os.useEffect(()=>{var x;if(l){let A=(x=c==null?void 0:c.current)==null?void 0:x.video.srcObject;A&&(A.getTracks().forEach(E=>{A.removeTrack(E),E.stop()}),A=null)}},[l]),os.useEffect(()=>{const x=setInterval(g,o);return()=>{clearInterval(x)}},[]),U.jsx(M5,{width:t,height:n,ref:c,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})},B5=()=>{const[r,e]=K.useState(""),[t,n]=K.useState(!0),[i,a]=K.useState(null),o=l=>{e(l.target.value)},s=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(()=>{n(!0),a(null)}).catch(l=>{console.error("Camera permission denied",l),n(!1),a("Camera permission denied.")})};return K.useEffect(()=>{s()},[]),U.jsxs("div",{className:"form-container",children:[U.jsx("h2",{className:"form-title",children:"นำจ่ายพัสดุ"}),t?U.jsx(P5,{width:500,height:500,onUpdate:(l,c)=>{c&&checkDormCode(c.text)}}):U.jsx("div",{children:U.jsx("div",{className:"black-square",children:U.jsxs("div",{children:[U.jsx("p",{children:"ไม่สามารถเข้าถึงกล้องได้"}),U.jsx("button",{onClick:s,children:"อนุญาตสิทธิ์การเข้าถึงกล้อง"})]})})}),U.jsx("div",{children:U.jsx("input",{id:"userCode",type:"text",name:"userCode",value:r,onChange:o,placeholder:"Tracking No."})})]})},L5=()=>{const[r,e]=K.useState({name:"A1",address:"ที่อยู่",ownerName:"นันทกร ลามอ",phoneNo:"0912345678"}),t=K.useRef(),n="../../image/dorm1.jpg",[i,a]=K.useState(null),[o,s]=K.useState(n),l=A=>{const{name:E,value:_}=A.target;e(T=>({...T,[E]:_}))},c=A=>{const E=A.target.files[0];if(E){a(E),console.log("file: ",E);const _=new FileReader;_.onloadend=()=>{s(_.result),console.log("reader result: ",_.result)},_.readAsDataURL(E)}},g=()=>{a(null),s(n),t.current&&(t.current.value="")},x=async A=>{A.preventDefault();const{name:E,address:_,ownerName:T,phoneNo:b}=r;if(!E||!_||!T||!b){alert("กรุณากรอกข้อมูลให้ครบทุกช่อง");return}const R=new FormData;R.append("name",E),R.append("address",_),R.append("ownerName",T),R.append("phoneNo",b),i&&R.append("picture",i);try{const M=await kt.post("/dorm/create",R,{headers:{"Content-Type":"multipart/form-data"}});alert("บันทึกสำเร็จ"),console.log(M.data)}catch(M){console.error("Error saving dorm:",M),alert("เกิดข้อผิดพลาดในการบันทึก")}};return U.jsxs("div",{className:"form-container",children:[U.jsx("h2",{className:"form-title",children:"สร้างหอพักใหม่"}),U.jsxs("form",{onSubmit:x,className:"form",children:[U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"name",children:"ชื่อหอพัก"}),U.jsx("input",{id:"name",name:"name",value:r.name,onChange:l,className:"form-input"})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"address",children:"ที่อยู่"}),U.jsx("input",{id:"address",name:"address",value:r.address,onChange:l,className:"form-input"})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"ownerName",children:"ชื่อเจ้าของหอพัก"}),U.jsx("input",{id:"ownerName",name:"ownerName",value:r.ownerName,onChange:l,className:"form-input"})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"phoneNo",children:"เบอร์โทร"}),U.jsx("input",{id:"phoneNo",name:"phoneNo",value:r.phoneNo,onChange:l,className:"form-input"})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"picture",children:"รูปหอพัก"}),U.jsx("input",{id:"picture",type:"file",accept:"image/*",onChange:c,className:"form-input",ref:t})]}),U.jsxs("div",{className:"form-group img-wrap",children:[U.jsx("img",{src:o,alt:"dorm",className:"img-preview"}),i&&U.jsx("button",{onClick:g,children:"ลบรูปภาพ"})]}),U.jsx("button",{type:"submit",className:"form-button",children:"บันทึก"})]})]})};var He;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var Ux=new Map([[He.QR_CODE,"QR_CODE"],[He.AZTEC,"AZTEC"],[He.CODABAR,"CODABAR"],[He.CODE_39,"CODE_39"],[He.CODE_93,"CODE_93"],[He.CODE_128,"CODE_128"],[He.DATA_MATRIX,"DATA_MATRIX"],[He.MAXICODE,"MAXICODE"],[He.ITF,"ITF"],[He.EAN_13,"EAN_13"],[He.EAN_8,"EAN_8"],[He.PDF_417,"PDF_417"],[He.RSS_14,"RSS_14"],[He.RSS_EXPANDED,"RSS_EXPANDED"],[He.UPC_A,"UPC_A"],[He.UPC_E,"UPC_E"],[He.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),jx;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(jx||(jx={}));function F5(r){return Object.values(He).includes(r)}var ps;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ps||(ps={}));var Sa=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[ps.SCAN_TYPE_CAMERA,ps.SCAN_TYPE_FILE],r}(),_m=function(){function r(e,t){this.format=e,this.formatName=t}return r.prototype.toString=function(){return this.formatName},r.create=function(e){if(!Ux.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new r(e,Ux.get(e))},r}(),Hx=function(){function r(){}return r.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},r.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},r}(),zh;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zh||(zh={}));var Sm=function(){function r(){}return r.createFrom=function(e){return{errorMessage:e,type:zh.UNKWOWN_ERROR}},r}(),Im=function(){function r(e){this.verbose=e}return r.prototype.log=function(e){this.verbose&&console.log(e)},r.prototype.warn=function(e){this.verbose&&console.warn(e)},r.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},r.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},r}();function Ya(r){return typeof r>"u"||r===null}function k5(r,e,t){return r>t?t:r<e?e:r}var ju=function(){function r(){}return r.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},r.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),or=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(e){return"Last Match: ".concat(e)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),Vx=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),Tm=function(){function r(){}return r.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var n=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(e),s=0,l=o;s<l.length;s++){var c=l[s];if(a.has(c))return t.logError("".concat(c," is not supported videoConstaints."),!0),!1}return!0},r}(),ol={exports:{}},U5=ol.exports,zx;function j5(){return zx||(zx=1,function(r,e){(function(t,n){n(e)})(U5,function(t){function n(L){return L==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,u){L.__proto__=u}||function(L,u){for(var d in u)u.hasOwnProperty(d)&&(L[d]=u[d])};function a(L,u){i(L,u);function d(){this.constructor=L}L.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}function o(L,u){var d=Object.setPrototypeOf;d?d(L,u):L.__proto__=u}function s(L,u){u===void 0&&(u=L.constructor);var d=Error.captureStackTrace;d&&d(L,u)}var l=function(L){a(u,L);function u(d){var h=this.constructor,v=L.call(this,d)||this;return Object.defineProperty(v,"name",{value:h.name,enumerable:!1}),o(v,h.prototype),s(v),v}return u}(Error);class c extends l{constructor(u=void 0){super(u),this.message=u}getKind(){return this.constructor.kind}}c.kind="Exception";class g extends c{}g.kind="ArgumentException";class x extends c{}x.kind="IllegalArgumentException";class A{constructor(u){if(this.binarizer=u,u===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(u,d){return this.binarizer.getBlackRow(u,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(u,d,h,v){const y=this.binarizer.getLuminanceSource().crop(u,d,h,v);return new A(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const u=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(u))}rotateCounterClockwise45(){const u=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(u))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends c{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class _{constructor(u){this.source=u}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(u,d,h,v,y){for(;y--;)h[v++]=u[d++]}static currentTimeMillis(){return Date.now()}}class b extends c{}b.kind="IndexOutOfBoundsException";class R extends b{constructor(u=void 0,d=void 0){super(d),this.index=u,this.message=d}}R.kind="ArrayIndexOutOfBoundsException";class M{static fill(u,d){for(let h=0,v=u.length;h<v;h++)u[h]=d}static fillWithin(u,d,h,v){M.rangeCheck(u.length,d,h);for(let y=d;y<h;y++)u[y]=v}static rangeCheck(u,d,h){if(d>h)throw new x("fromIndex("+d+") > toIndex("+h+")");if(d<0)throw new R(d);if(h>u)throw new R(h)}static asList(...u){return u}static create(u,d,h){return Array.from({length:u}).map(y=>Array.from({length:d}).fill(h))}static createInt32Array(u,d,h){return Array.from({length:u}).map(y=>Int32Array.from({length:d}).fill(h))}static equals(u,d){if(!u||!d||!u.length||!d.length||u.length!==d.length)return!1;for(let h=0,v=u.length;h<v;h++)if(u[h]!==d[h])return!1;return!0}static hashCode(u){if(u===null)return 0;let d=1;for(const h of u)d=31*d+h;return d}static fillUint8Array(u,d){for(let h=0;h!==u.length;h++)u[h]=d}static copyOf(u,d){return u.slice(0,d)}static copyOfUint8Array(u,d){if(u.length<=d){const h=new Uint8Array(d);return h.set(u),h}return u.slice(0,d)}static copyOfRange(u,d,h){const v=h-d,y=new Int32Array(v);return T.arraycopy(u,d,y,0,v),y}static binarySearch(u,d,h){h===void 0&&(h=M.numberComparator);let v=0,y=u.length-1;for(;v<=y;){const m=y+v>>1,C=h(d,u[m]);if(C>0)v=m+1;else if(C<0)y=m-1;else return m}return-v-1}static numberComparator(u,d){return u-d}}class B{static numberOfTrailingZeros(u){let d;if(u===0)return 32;let h=31;return d=u<<16,d!==0&&(h-=16,u=d),d=u<<8,d!==0&&(h-=8,u=d),d=u<<4,d!==0&&(h-=4,u=d),d=u<<2,d!==0&&(h-=2,u=d),h-(u<<1>>>31)}static numberOfLeadingZeros(u){if(u===0)return 32;let d=1;return u>>>16||(d+=16,u<<=16),u>>>24||(d+=8,u<<=8),u>>>28||(d+=4,u<<=4),u>>>30||(d+=2,u<<=2),d-=u>>>31,d}static toHexString(u){return u.toString(16)}static toBinaryString(u){return String(parseInt(String(u),2))}static bitCount(u){return u=u-(u>>>1&1431655765),u=(u&858993459)+(u>>>2&858993459),u=u+(u>>>4)&252645135,u=u+(u>>>8),u=u+(u>>>16),u&63}static truncDivision(u,d){return Math.trunc(u/d)}static parseInt(u,d=void 0){return parseInt(u,d)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(u,d){u===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=u,d==null?this.bits=k.makeArray(u):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(u){if(u>this.bits.length*32){const d=k.makeArray(u);T.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(u){return(this.bits[Math.floor(u/32)]&1<<(u&31))!==0}set(u){this.bits[Math.floor(u/32)]|=1<<(u&31)}flip(u){this.bits[Math.floor(u/32)]^=1<<(u&31)}getNextSet(u){const d=this.size;if(u>=d)return d;const h=this.bits;let v=Math.floor(u/32),y=h[v];y&=~((1<<(u&31))-1);const m=h.length;for(;y===0;){if(++v===m)return d;y=h[v]}const C=v*32+B.numberOfTrailingZeros(y);return C>d?d:C}getNextUnset(u){const d=this.size;if(u>=d)return d;const h=this.bits;let v=Math.floor(u/32),y=~h[v];y&=~((1<<(u&31))-1);const m=h.length;for(;y===0;){if(++v===m)return d;y=~h[v]}const C=v*32+B.numberOfTrailingZeros(y);return C>d?d:C}setBulk(u,d){this.bits[Math.floor(u/32)]=d}setRange(u,d){if(d<u||u<0||d>this.size)throw new x;if(d===u)return;d--;const h=Math.floor(u/32),v=Math.floor(d/32),y=this.bits;for(let m=h;m<=v;m++){const C=m>h?0:u&31,O=(2<<(m<v?31:d&31))-(1<<C);y[m]|=O}}clear(){const u=this.bits.length,d=this.bits;for(let h=0;h<u;h++)d[h]=0}isRange(u,d,h){if(d<u||u<0||d>this.size)throw new x;if(d===u)return!0;d--;const v=Math.floor(u/32),y=Math.floor(d/32),m=this.bits;for(let C=v;C<=y;C++){const I=C>v?0:u&31,P=(2<<(C<y?31:d&31))-(1<<I)&4294967295;if((m[C]&P)!==(h?P:0))return!1}return!0}appendBit(u){this.ensureCapacity(this.size+1),u&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(u,d){if(d<0||d>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let h=d;h>0;h--)this.appendBit((u>>h-1&1)===1)}appendBitArray(u){const d=u.size;this.ensureCapacity(this.size+d);for(let h=0;h<d;h++)this.appendBit(u.get(h))}xor(u){if(this.size!==u.size)throw new x("Sizes don't match");const d=this.bits;for(let h=0,v=d.length;h<v;h++)d[h]^=u.bits[h]}toBytes(u,d,h,v){for(let y=0;y<v;y++){let m=0;for(let C=0;C<8;C++)this.get(u)&&(m|=1<<7-C),u++;d[h+y]=m}}getBitArray(){return this.bits}reverse(){const u=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),h=d+1,v=this.bits;for(let y=0;y<h;y++){let m=v[y];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,u[d-y]=m}if(this.size!==h*32){const y=h*32-this.size;let m=u[0]>>>y;for(let C=1;C<h;C++){const I=u[C];m|=I<<32-y,u[C-1]=m,m=I>>>y}u[h-1]=m}this.bits=u}static makeArray(u){return new Int32Array(Math.floor((u+31)/32))}equals(u){if(!(u instanceof k))return!1;const d=u;return this.size===d.size&&M.equals(this.bits,d.bits)}hashCode(){return 31*this.size+M.hashCode(this.bits)}toString(){let u="";for(let d=0,h=this.size;d<h;d++)d&7||(u+=" "),u+=this.get(d)?"X":".";return u}clone(){return new k(this.size,this.bits.slice())}}var z;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var $=z;class V extends c{static getFormatInstance(){return new V}}V.kind="FormatException";var te;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(te||(te={}));class q{constructor(u,d,h,...v){this.valueIdentifier=u,this.name=h,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=v,q.VALUE_IDENTIFIER_TO_ECI.set(u,this),q.NAME_TO_ECI.set(h,this);const y=this.values;for(let m=0,C=y.length;m!==C;m++){const I=y[m];q.VALUES_TO_ECI.set(I,this)}for(const m of v)q.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(u){if(u<0||u>=900)throw new V("incorect value");const d=q.VALUES_TO_ECI.get(u);if(d===void 0)throw new V("incorect value");return d}static getCharacterSetECIByName(u){const d=q.NAME_TO_ECI.get(u);if(d===void 0)throw new V("incorect value");return d}equals(u){if(!(u instanceof q))return!1;const d=u;return this.getName()===d.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(te.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(te.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(te.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(te.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(te.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(te.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(te.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(te.Big5,28,"Big5"),q.GB18030=new q(te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(te.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends c{}pe.kind="UnsupportedOperationException";class Be{static decode(u,d){const h=this.encodingName(d);return this.customDecoder?this.customDecoder(u,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(u,h):new TextDecoder(h).decode(u)}static shouldDecodeOnFallback(u){return!Be.isBrowser()&&u==="ISO-8859-1"}static encode(u,d){const h=this.encodingName(d);return this.customEncoder?this.customEncoder(u,h):typeof TextEncoder>"u"?this.encodeFallback(u):new TextEncoder().encode(u)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(u){return typeof u=="string"?u:u.getName()}static encodingCharacterSet(u){return u instanceof q?u:q.getCharacterSetECIByName(u)}static decodeFallback(u,d){const h=this.encodingCharacterSet(d);if(Be.isDecodeFallbackSupported(h)){let v="";for(let y=0,m=u.length;y<m;y++){let C=u[y].toString(16);C.length<2&&(C="0"+C),v+="%"+C}return decodeURIComponent(v)}if(h.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(u.buffer));throw new pe(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(u){return u.equals(q.UTF8)||u.equals(q.ISO8859_1)||u.equals(q.ASCII)}static encodeFallback(u){const h=btoa(unescape(encodeURIComponent(u))).split(""),v=[];for(let y=0;y<h.length;y++)v.push(h[y].charCodeAt(0));return new Uint8Array(v)}}class ge{static castAsNonUtf8Char(u,d=null){const h=d?d.getName():this.ISO88591;return Be.decode(new Uint8Array([u]),h)}static guessEncoding(u,d){if(d!=null&&d.get($.CHARACTER_SET)!==void 0)return d.get($.CHARACTER_SET).toString();const h=u.length;let v=!0,y=!0,m=!0,C=0,I=0,O=0,P=0,F=0,H=0,Y=0,Q=0,ee=0,ne=0,fe=0;const Ie=u.length>3&&u[0]===239&&u[1]===187&&u[2]===191;for(let Te=0;Te<h&&(v||y||m);Te++){const Ce=u[Te]&255;m&&(C>0?Ce&128?C--:m=!1:Ce&128&&(Ce&64?(C++,Ce&32?(C++,Ce&16?(C++,Ce&8?m=!1:P++):O++):I++):m=!1)),v&&(Ce>127&&Ce<160?v=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&fe++),y&&(F>0?Ce<64||Ce===127||Ce>252?y=!1:F--:Ce===128||Ce===160||Ce>239?y=!1:Ce>160&&Ce<224?(H++,Q=0,Y++,Y>ee&&(ee=Y)):Ce>127?(F++,Y=0,Q++,Q>ne&&(ne=Q)):(Y=0,Q=0))}return m&&C>0&&(m=!1),y&&F>0&&(y=!1),m&&(Ie||I+O+P>0)?ge.UTF8:y&&(ge.ASSUME_SHIFT_JIS||ee>=3||ne>=3)?ge.SHIFT_JIS:v&&y?ee===2&&H===2||fe*10>=h?ge.SHIFT_JIS:ge.ISO88591:v?ge.ISO88591:y?ge.SHIFT_JIS:m?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(u,...d){let h=-1;function v(m,C,I,O,P,F){if(m==="%%")return"%";if(d[++h]===void 0)return;m=O?parseInt(O.substr(1)):void 0;let H=P?parseInt(P.substr(1)):void 0,Y;switch(F){case"s":Y=d[h];break;case"c":Y=d[h][0];break;case"f":Y=parseFloat(d[h]).toFixed(m);break;case"p":Y=parseFloat(d[h]).toPrecision(m);break;case"e":Y=parseFloat(d[h]).toExponential(m);break;case"x":Y=parseInt(d[h]).toString(H||16);break;case"d":Y=parseFloat(parseInt(d[h],H||10).toPrecision(m)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(H);let Q=parseInt(I),ee=I&&I[0]+""=="0"?"0":" ";for(;Y.length<Q;)Y=C!==void 0?Y+ee:ee+Y;return Y}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return u.replace(y,v)}static getBytes(u,d){return Be.encode(u,d)}static getCharCode(u,d=0){return u.charCodeAt(d)}static getCharAt(u){return String.fromCharCode(u)}}ge.SHIFT_JIS=q.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=q.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=q.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class Ee{constructor(u=""){this.value=u}enableDecoding(u){return this.encoding=u,this}append(u){return typeof u=="string"?this.value+=u.toString():this.encoding?this.value+=ge.castAsNonUtf8Char(u,this.encoding):this.value+=String.fromCharCode(u),this}appendChars(u,d,h){for(let v=d;d<d+h;v++)this.append(u[v]);return this}length(){return this.value.length}charAt(u){return this.value.charAt(u)}deleteCharAt(u){this.value=this.value.substr(0,u)+this.value.substring(u+1)}setCharAt(u,d){this.value=this.value.substr(0,u)+d+this.value.substr(u+1)}substring(u,d){return this.value.substring(u,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(u,d){this.value=this.value.substr(0,u)+d+this.value.substr(u+d.length)}}class Ye{constructor(u,d,h,v){if(this.width=u,this.height=d,this.rowSize=h,this.bits=v,d==null&&(d=u),this.height=d,u<1||d<1)throw new x("Both dimensions must be greater than 0");h==null&&(h=Math.floor((u+31)/32)),this.rowSize=h,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(u){const d=u.length,h=u[0].length,v=new Ye(h,d);for(let y=0;y<d;y++){const m=u[y];for(let C=0;C<h;C++)m[C]&&v.set(C,y)}return v}static parseFromString(u,d,h){if(u===null)throw new x("stringRepresentation cannot be null");const v=new Array(u.length);let y=0,m=0,C=-1,I=0,O=0;for(;O<u.length;)if(u.charAt(O)===`
`||u.charAt(O)==="\r"){if(y>m){if(C===-1)C=y-m;else if(y-m!==C)throw new x("row lengths do not match");m=y,I++}O++}else if(u.substring(O,O+d.length)===d)O+=d.length,v[y]=!0,y++;else if(u.substring(O,O+h.length)===h)O+=h.length,v[y]=!1,y++;else throw new x("illegal character encountered: "+u.substring(O));if(y>m){if(C===-1)C=y-m;else if(y-m!==C)throw new x("row lengths do not match");I++}const P=new Ye(C,I);for(let F=0;F<y;F++)v[F]&&P.set(Math.floor(F%C),Math.floor(F/C));return P}get(u,d){const h=d*this.rowSize+Math.floor(u/32);return(this.bits[h]>>>(u&31)&1)!==0}set(u,d){const h=d*this.rowSize+Math.floor(u/32);this.bits[h]|=1<<(u&31)&4294967295}unset(u,d){const h=d*this.rowSize+Math.floor(u/32);this.bits[h]&=~(1<<(u&31)&4294967295)}flip(u,d){const h=d*this.rowSize+Math.floor(u/32);this.bits[h]^=1<<(u&31)&4294967295}xor(u){if(this.width!==u.getWidth()||this.height!==u.getHeight()||this.rowSize!==u.getRowSize())throw new x("input matrix dimensions do not match");const d=new k(Math.floor(this.width/32)+1),h=this.rowSize,v=this.bits;for(let y=0,m=this.height;y<m;y++){const C=y*h,I=u.getRow(y,d).getBitArray();for(let O=0;O<h;O++)v[C+O]^=I[O]}}clear(){const u=this.bits,d=u.length;for(let h=0;h<d;h++)u[h]=0}setRegion(u,d,h,v){if(d<0||u<0)throw new x("Left and top must be nonnegative");if(v<1||h<1)throw new x("Height and width must be at least 1");const y=u+h,m=d+v;if(m>this.height||y>this.width)throw new x("The region must fit inside the matrix");const C=this.rowSize,I=this.bits;for(let O=d;O<m;O++){const P=O*C;for(let F=u;F<y;F++)I[P+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(u,d){d==null||d.getSize()<this.width?d=new k(this.width):d.clear();const h=this.rowSize,v=this.bits,y=u*h;for(let m=0;m<h;m++)d.setBulk(m*32,v[y+m]);return d}setRow(u,d){T.arraycopy(d.getBitArray(),0,this.bits,u*this.rowSize,this.rowSize)}rotate180(){const u=this.getWidth(),d=this.getHeight();let h=new k(u),v=new k(u);for(let y=0,m=Math.floor((d+1)/2);y<m;y++)h=this.getRow(y,h),v=this.getRow(d-1-y,v),h.reverse(),v.reverse(),this.setRow(y,v),this.setRow(d-1-y,h)}getEnclosingRectangle(){const u=this.width,d=this.height,h=this.rowSize,v=this.bits;let y=u,m=d,C=-1,I=-1;for(let O=0;O<d;O++)for(let P=0;P<h;P++){const F=v[O*h+P];if(F!==0){if(O<m&&(m=O),O>I&&(I=O),P*32<y){let H=0;for(;!(F<<31-H&4294967295);)H++;P*32+H<y&&(y=P*32+H)}if(P*32+31>C){let H=31;for(;!(F>>>H);)H--;P*32+H>C&&(C=P*32+H)}}}return C<y||I<m?null:Int32Array.from([y,m,C-y+1,I-m+1])}getTopLeftOnBit(){const u=this.rowSize,d=this.bits;let h=0;for(;h<d.length&&d[h]===0;)h++;if(h===d.length)return null;const v=h/u;let y=h%u*32;const m=d[h];let C=0;for(;!(m<<31-C&4294967295);)C++;return y+=C,Int32Array.from([y,v])}getBottomRightOnBit(){const u=this.rowSize,d=this.bits;let h=d.length-1;for(;h>=0&&d[h]===0;)h--;if(h<0)return null;const v=Math.floor(h/u);let y=Math.floor(h%u)*32;const m=d[h];let C=31;for(;!(m>>>C);)C--;return y+=C,Int32Array.from([y,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(u){if(!(u instanceof Ye))return!1;const d=u;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&M.equals(this.bits,d.bits)}hashCode(){let u=this.width;return u=31*u+this.width,u=31*u+this.height,u=31*u+this.rowSize,u=31*u+M.hashCode(this.bits),u}toString(u="X ",d="  ",h=`
`){return this.buildToString(u,d,h)}buildToString(u,d,h){let v=new Ee;for(let y=0,m=this.height;y<m;y++){for(let C=0,I=this.width;C<I;C++)v.append(this.get(C,y)?u:d);v.append(h)}return v.toString()}clone(){return new Ye(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends c{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class ht extends _{constructor(u){super(u),this.luminances=ht.EMPTY,this.buckets=new Int32Array(ht.LUMINANCE_BUCKETS)}getBlackRow(u,d){const h=this.getLuminanceSource(),v=h.getWidth();d==null||d.getSize()<v?d=new k(v):d.clear(),this.initArrays(v);const y=h.getRow(u,this.luminances),m=this.buckets;for(let I=0;I<v;I++)m[(y[I]&255)>>ht.LUMINANCE_SHIFT]++;const C=ht.estimateBlackPoint(m);if(v<3)for(let I=0;I<v;I++)(y[I]&255)<C&&d.set(I);else{let I=y[0]&255,O=y[1]&255;for(let P=1;P<v-1;P++){const F=y[P+1]&255;(O*4-I-F)/2<C&&d.set(P),I=O,O=F}}return d}getBlackMatrix(){const u=this.getLuminanceSource(),d=u.getWidth(),h=u.getHeight(),v=new Ye(d,h);this.initArrays(d);const y=this.buckets;for(let I=1;I<5;I++){const O=Math.floor(h*I/5),P=u.getRow(O,this.luminances),F=Math.floor(d*4/5);for(let H=Math.floor(d/5);H<F;H++){const Y=P[H]&255;y[Y>>ht.LUMINANCE_SHIFT]++}}const m=ht.estimateBlackPoint(y),C=u.getMatrix();for(let I=0;I<h;I++){const O=I*d;for(let P=0;P<d;P++)(C[O+P]&255)<m&&v.set(P,I)}return v}createBinarizer(u){return new ht(u)}initArrays(u){this.luminances.length<u&&(this.luminances=new Uint8ClampedArray(u));const d=this.buckets;for(let h=0;h<ht.LUMINANCE_BUCKETS;h++)d[h]=0}static estimateBlackPoint(u){const d=u.length;let h=0,v=0,y=0;for(let P=0;P<d;P++)u[P]>y&&(v=P,y=u[P]),u[P]>h&&(h=u[P]);let m=0,C=0;for(let P=0;P<d;P++){const F=P-v,H=u[P]*F*F;H>C&&(m=P,C=H)}if(v>m){const P=v;v=m,m=P}if(m-v<=d/16)throw new le;let I=m-1,O=-1;for(let P=m-1;P>v;P--){const F=P-v,H=F*F*(m-P)*(h-u[P]);H>O&&(I=P,O=H)}return I<<ht.LUMINANCE_SHIFT}}ht.LUMINANCE_BITS=5,ht.LUMINANCE_SHIFT=8-ht.LUMINANCE_BITS,ht.LUMINANCE_BUCKETS=1<<ht.LUMINANCE_BITS,ht.EMPTY=Uint8ClampedArray.from([0]);class Fe extends ht{constructor(u){super(u),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const u=this.getLuminanceSource(),d=u.getWidth(),h=u.getHeight();if(d>=Fe.MINIMUM_DIMENSION&&h>=Fe.MINIMUM_DIMENSION){const v=u.getMatrix();let y=d>>Fe.BLOCK_SIZE_POWER;d&Fe.BLOCK_SIZE_MASK&&y++;let m=h>>Fe.BLOCK_SIZE_POWER;h&Fe.BLOCK_SIZE_MASK&&m++;const C=Fe.calculateBlackPoints(v,y,m,d,h),I=new Ye(d,h);Fe.calculateThresholdForBlock(v,y,m,d,h,C,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(u){return new Fe(u)}static calculateThresholdForBlock(u,d,h,v,y,m,C){const I=y-Fe.BLOCK_SIZE,O=v-Fe.BLOCK_SIZE;for(let P=0;P<h;P++){let F=P<<Fe.BLOCK_SIZE_POWER;F>I&&(F=I);const H=Fe.cap(P,2,h-3);for(let Y=0;Y<d;Y++){let Q=Y<<Fe.BLOCK_SIZE_POWER;Q>O&&(Q=O);const ee=Fe.cap(Y,2,d-3);let ne=0;for(let Ie=-2;Ie<=2;Ie++){const Te=m[H+Ie];ne+=Te[ee-2]+Te[ee-1]+Te[ee]+Te[ee+1]+Te[ee+2]}const fe=ne/25;Fe.thresholdBlock(u,Q,F,fe,v,C)}}}static cap(u,d,h){return u<d?d:u>h?h:u}static thresholdBlock(u,d,h,v,y,m){for(let C=0,I=h*y+d;C<Fe.BLOCK_SIZE;C++,I+=y)for(let O=0;O<Fe.BLOCK_SIZE;O++)(u[I+O]&255)<=v&&m.set(d+O,h+C)}static calculateBlackPoints(u,d,h,v,y){const m=y-Fe.BLOCK_SIZE,C=v-Fe.BLOCK_SIZE,I=new Array(h);for(let O=0;O<h;O++){I[O]=new Int32Array(d);let P=O<<Fe.BLOCK_SIZE_POWER;P>m&&(P=m);for(let F=0;F<d;F++){let H=F<<Fe.BLOCK_SIZE_POWER;H>C&&(H=C);let Y=0,Q=255,ee=0;for(let fe=0,Ie=P*v+H;fe<Fe.BLOCK_SIZE;fe++,Ie+=v){for(let Te=0;Te<Fe.BLOCK_SIZE;Te++){const Ce=u[Ie+Te]&255;Y+=Ce,Ce<Q&&(Q=Ce),Ce>ee&&(ee=Ce)}if(ee-Q>Fe.MIN_DYNAMIC_RANGE)for(fe++,Ie+=v;fe<Fe.BLOCK_SIZE;fe++,Ie+=v)for(let Te=0;Te<Fe.BLOCK_SIZE;Te++)Y+=u[Ie+Te]&255}let ne=Y>>Fe.BLOCK_SIZE_POWER*2;if(ee-Q<=Fe.MIN_DYNAMIC_RANGE&&(ne=Q/2,O>0&&F>0)){const fe=(I[O-1][F]+2*I[O][F-1]+I[O-1][F-1])/4;Q<fe&&(ne=fe)}I[O][F]=ne}}return I}}Fe.BLOCK_SIZE_POWER=3,Fe.BLOCK_SIZE=1<<Fe.BLOCK_SIZE_POWER,Fe.BLOCK_SIZE_MASK=Fe.BLOCK_SIZE-1,Fe.MINIMUM_DIMENSION=Fe.BLOCK_SIZE*5,Fe.MIN_DYNAMIC_RANGE=24;class be{constructor(u,d){this.width=u,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(u,d,h,v){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const u=new Uint8ClampedArray(this.width);let d=new Ee;for(let h=0;h<this.height;h++){const v=this.getRow(h,u);for(let y=0;y<this.width;y++){const m=v[y]&255;let C;m<64?C="#":m<128?C="+":m<192?C=".":C=" ",d.append(C)}d.append(`
`)}return d.toString()}}class Ze extends be{constructor(u){super(u.getWidth(),u.getHeight()),this.delegate=u}getRow(u,d){const h=this.delegate.getRow(u,d),v=this.getWidth();for(let y=0;y<v;y++)h[y]=255-(h[y]&255);return h}getMatrix(){const u=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(d);for(let v=0;v<d;v++)h[v]=255-(u[v]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(u,d,h,v){return new Ze(this.delegate.crop(u,d,h,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ze(this.delegate.rotateCounterClockwise45())}}class Le extends be{constructor(u){super(u.width,u.height),this.canvas=u,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(u)}static makeBufferFromCanvasImageData(u){const d=u.getContext("2d").getImageData(0,0,u.width,u.height);return Le.toGrayscaleBuffer(d.data,u.width,u.height)}static toGrayscaleBuffer(u,d,h){const v=new Uint8ClampedArray(d*h);for(let y=0,m=0,C=u.length;y<C;y+=4,m++){let I;if(u[y+3]===0)I=255;else{const P=u[y],F=u[y+1],H=u[y+2];I=306*P+601*F+117*H+512>>10}v[m]=I}return v}getRow(u,d){if(u<0||u>=this.getHeight())throw new x("Requested row is outside the image: "+u);const h=this.getWidth(),v=u*h;return d===null?d=this.buffer.slice(v,v+h):(d.length<h&&(d=new Uint8ClampedArray(h)),d.set(this.buffer.slice(v,v+h))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(u,d,h,v){return super.crop(u,d,h,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const u=this.canvas.ownerDocument.createElement("canvas");u.width=this.canvas.width,u.height=this.canvas.height,this.tempCanvasElement=u}return this.tempCanvasElement}rotate(u){const d=this.getTempCanvasElement(),h=d.getContext("2d"),v=u*Le.DEGREE_TO_RADIANS,y=this.canvas.width,m=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(v))*y+Math.abs(Math.sin(v))*m),I=Math.ceil(Math.abs(Math.sin(v))*y+Math.abs(Math.cos(v))*m);return d.width=C,d.height=I,h.translate(C/2,I/2),h.rotate(v),h.drawImage(this.canvas,y/-2,m/-2),this.buffer=Le.makeBufferFromCanvasImageData(d),this}invert(){return new Ze(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class ie{constructor(u,d,h){this.deviceId=u,this.label=d,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var me=(globalThis||Dc||self||window||void 0)&&(globalThis||Dc||self||window||void 0).__awaiter||function(L,u,d,h){function v(y){return y instanceof d?y:new d(function(m){m(y)})}return new(d||(d=Promise))(function(y,m){function C(P){try{O(h.next(P))}catch(F){m(F)}}function I(P){try{O(h.throw(P))}catch(F){m(F)}}function O(P){P.done?y(P.value):v(P.value).then(C,I)}O((h=h.apply(L,u||[])).next())})};class lt{constructor(u,d=500,h){this.reader=u,this.timeBetweenScansMillis=d,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(u){this._timeBetweenDecodingAttempts=u<0?0:u}set hints(u){this._hints=u||null}get hints(){return this._hints}listVideoInputDevices(){return me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const u=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const h of u){const v=h.kind==="video"?"videoinput":h.kind;if(v!=="videoinput")continue;const y=h.deviceId||h.id,m=h.label||`Video device ${d.length+1}`,C=h.groupId,I={deviceId:y,label:m,kind:v,groupId:C};d.push(I)}return d})}getVideoInputDevices(){return me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new ie(d.deviceId,d.label))})}findDeviceById(u){return me(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(h=>h.deviceId===u):null})}decodeFromInputVideoDevice(u,d){return me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(u,d)})}decodeOnceFromVideoDevice(u,d){return me(this,void 0,void 0,function*(){this.reset();let h;u?h={deviceId:{exact:u}}:h={facingMode:"environment"};const v={video:h};return yield this.decodeOnceFromConstraints(v,d)})}decodeOnceFromConstraints(u,d){return me(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(u);return yield this.decodeOnceFromStream(h,d)})}decodeOnceFromStream(u,d){return me(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(u,d);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(u,d,h){return me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(u,d,h)})}decodeFromVideoDevice(u,d,h){return me(this,void 0,void 0,function*(){let v;u?v={deviceId:{exact:u}}:v={facingMode:"environment"};const y={video:v};return yield this.decodeFromConstraints(y,d,h)})}decodeFromConstraints(u,d,h){return me(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(u);return yield this.decodeFromStream(v,d,h)})}decodeFromStream(u,d,h){return me(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(u,d);return yield this.decodeContinuously(v,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(u,d){return me(this,void 0,void 0,function*(){const h=this.prepareVideoElement(d);return this.addVideoSource(h,u),this.videoElement=h,this.stream=u,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(u){return new Promise((d,h)=>this.playVideoOnLoad(u,()=>d()))}playVideoOnLoad(u,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(u),u.addEventListener("ended",this.videoEndedListener),u.addEventListener("canplay",this.videoCanPlayListener),u.addEventListener("playing",d),this.tryPlayVideo(u)}isVideoPlaying(u){return u.currentTime>0&&!u.paused&&!u.ended&&u.readyState>2}tryPlayVideo(u){return me(this,void 0,void 0,function*(){if(this.isVideoPlaying(u)){console.warn("Trying to play video that is already playing.");return}try{yield u.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(u,d){const h=document.getElementById(u);if(!h)throw new g(`element with id '${u}' not found`);if(h.nodeName.toLowerCase()!==d.toLowerCase())throw new g(`element with id '${u}' must be an ${d} element`);return h}decodeFromImage(u,d){if(!u&&!d)throw new g("either imageElement with a src set or an url must be provided");return d&&!u?this.decodeFromImageUrl(d):this.decodeFromImageElement(u)}decodeFromVideo(u,d){if(!u&&!d)throw new g("Either an element with a src set or an URL must be provided");return d&&!u?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(u)}decodeFromVideoContinuously(u,d,h){if(u===void 0&&d===void 0)throw new g("Either an element with a src set or an URL must be provided");return d&&!u?this.decodeFromVideoUrlContinuously(d,h):this.decodeFromVideoElementContinuously(u,h)}decodeFromImageElement(u){if(!u)throw new g("An image element must be provided.");this.reset();const d=this.prepareImageElement(u);this.imageElement=d;let h;return this.isImageLoaded(d)?h=this.decodeOnce(d,!1,!0):h=this._decodeOnLoadImage(d),h}decodeFromVideoElement(u){const d=this._decodeFromVideoElementSetup(u);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(u,d){const h=this._decodeFromVideoElementSetup(u);return this._decodeOnLoadVideoContinuously(h,d)}_decodeFromVideoElementSetup(u){if(!u)throw new g("A video element must be provided.");this.reset();const d=this.prepareVideoElement(u);return this.videoElement=d,d}decodeFromImageUrl(u){if(!u)throw new g("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const h=this._decodeOnLoadImage(d);return d.src=u,h}decodeFromVideoUrl(u){if(!u)throw new g("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),h=this.decodeFromVideoElement(d);return d.src=u,h}decodeFromVideoUrlContinuously(u,d){if(!u)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(h,d);return h.src=u,v}_decodeOnLoadImage(u){return new Promise((d,h)=>{this.imageLoadedListener=()=>this.decodeOnce(u,!1,!0).then(d,h),u.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(u){return me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(u),yield this.decodeOnce(u)})}_decodeOnLoadVideoContinuously(u,d){return me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(u),this.decodeContinuously(u,d)})}isImageLoaded(u){return!(!u.complete||u.naturalWidth===0)}prepareImageElement(u){let d;return typeof u>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof u=="string"&&(d=this.getMediaElement(u,"img")),u instanceof HTMLImageElement&&(d=u),d}prepareVideoElement(u){let d;return!u&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof u=="string"&&(d=this.getMediaElement(u,"video")),u instanceof HTMLVideoElement&&(d=u),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(u,d=!0,h=!0){this._stopAsyncDecode=!1;const v=(y,m)=>{if(this._stopAsyncDecode){m(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(u);y(C)}catch(C){const I=d&&C instanceof le,P=(C instanceof E||C instanceof V)&&h;if(I||P)return setTimeout(v,this._timeBetweenDecodingAttempts,y,m);m(C)}};return new Promise((y,m)=>v(y,m))}decodeContinuously(u,d){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(u);d(v,null),setTimeout(h,this.timeBetweenScansMillis)}catch(v){d(null,v);const y=v instanceof E||v instanceof V,m=v instanceof le;(y||m)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(u){const d=this.createBinaryBitmap(u);return this.decodeBitmap(d)}_isHTMLVideoElement(u){return u.videoWidth!==0}drawFrameOnCanvas(u,d,h){d||(d={sx:0,sy:0,sWidth:u.videoWidth,sHeight:u.videoHeight,dx:0,dy:0,dWidth:u.videoWidth,dHeight:u.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(u,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(u,d,h=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:u.naturalWidth,sHeight:u.naturalHeight,dx:0,dy:0,dWidth:u.naturalWidth,dHeight:u.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(u,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(u){this.getCaptureCanvasContext(u),this._isHTMLVideoElement(u)?this.drawFrameOnCanvas(u):this.drawImageOnCanvas(u);const d=this.getCaptureCanvas(u),h=new Le(d),v=new Fe(h);return new A(v)}getCaptureCanvasContext(u){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(u).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(u){if(!this.captureCanvas){const d=this.createCaptureCanvas(u);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(u){return this.reader.decode(u,this._hints)}createCaptureCanvas(u){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let h,v;return typeof u<"u"&&(u instanceof HTMLVideoElement?(h=u.videoWidth,v=u.videoHeight):u instanceof HTMLImageElement&&(h=u.naturalWidth||u.width,v=u.naturalHeight||u.height)),d.style.width=h+"px",d.style.height=v+"px",d.width=h,d.height=v,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(u=>u.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(u,d){try{u.srcObject=d}catch{u.src=URL.createObjectURL(d)}}cleanVideoSource(u){try{u.srcObject=null}catch{u.src=""}this.videoElement.removeAttribute("src")}}class Je{constructor(u,d,h=d==null?0:8*d.length,v,y,m=T.currentTimeMillis()){this.text=u,this.rawBytes=d,this.numBits=h,this.resultPoints=v,this.format=y,this.timestamp=m,this.text=u,this.rawBytes=d,h==null?this.numBits=d==null?0:8*d.length:this.numBits=h,this.resultPoints=v,this.format=y,this.resultMetadata=null,m==null?this.timestamp=T.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(u,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(u,d)}putAllMetadata(u){u!==null&&(this.resultMetadata===null?this.resultMetadata=u:this.resultMetadata=new Map(u))}addResultPoints(u){const d=this.resultPoints;if(d===null)this.resultPoints=u;else if(u!==null&&u.length>0){const h=new Array(d.length+u.length);T.arraycopy(d,0,h,0,d.length),T.arraycopy(u,0,h,d.length,u.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ot;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ot||(Ot={}));var Re=Ot,$t;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($t||($t={}));var ut=$t;class Zt{constructor(u,d,h,v,y=-1,m=-1){this.rawBytes=u,this.text=d,this.byteSegments=h,this.ecLevel=v,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=m,this.numBits=u==null?0:8*u.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(u){this.numBits=u}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(u){this.errorsCorrected=u}getErasures(){return this.erasures}setErasures(u){this.erasures=u}getOther(){return this.other}setOther(u){this.other=u}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Kr{exp(u){return this.expTable[u]}log(u){if(u===0)throw new x;return this.logTable[u]}static addOrSubtract(u,d){return u^d}}class Qr{constructor(u,d){if(d.length===0)throw new x;this.field=u;const h=d.length;if(h>1&&d[0]===0){let v=1;for(;v<h&&d[v]===0;)v++;v===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-v),T.arraycopy(d,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(u){return this.coefficients[this.coefficients.length-1-u]}evaluateAt(u){if(u===0)return this.getCoefficient(0);const d=this.coefficients;let h;if(u===1){h=0;for(let m=0,C=d.length;m!==C;m++){const I=d[m];h=Kr.addOrSubtract(h,I)}return h}h=d[0];const v=d.length,y=this.field;for(let m=1;m<v;m++)h=Kr.addOrSubtract(y.multiply(u,h),d[m]);return h}addOrSubtract(u){if(!this.field.equals(u.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return u;if(u.isZero())return this;let d=this.coefficients,h=u.coefficients;if(d.length>h.length){const m=d;d=h,h=m}let v=new Int32Array(h.length);const y=h.length-d.length;T.arraycopy(h,0,v,0,y);for(let m=y;m<h.length;m++)v[m]=Kr.addOrSubtract(d[m-y],h[m]);return new Qr(this.field,v)}multiply(u){if(!this.field.equals(u.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||u.isZero())return this.field.getZero();const d=this.coefficients,h=d.length,v=u.coefficients,y=v.length,m=new Int32Array(h+y-1),C=this.field;for(let I=0;I<h;I++){const O=d[I];for(let P=0;P<y;P++)m[I+P]=Kr.addOrSubtract(m[I+P],C.multiply(O,v[P]))}return new Qr(C,m)}multiplyScalar(u){if(u===0)return this.field.getZero();if(u===1)return this;const d=this.coefficients.length,h=this.field,v=new Int32Array(d),y=this.coefficients;for(let m=0;m<d;m++)v[m]=h.multiply(y[m],u);return new Qr(h,v)}multiplyByMonomial(u,d){if(u<0)throw new x;if(d===0)return this.field.getZero();const h=this.coefficients,v=h.length,y=new Int32Array(v+u),m=this.field;for(let C=0;C<v;C++)y[C]=m.multiply(h[C],d);return new Qr(m,y)}divide(u){if(!this.field.equals(u.field))throw new x("GenericGFPolys do not have same GenericGF field");if(u.isZero())throw new x("Divide by 0");const d=this.field;let h=d.getZero(),v=this;const y=u.getCoefficient(u.getDegree()),m=d.inverse(y);for(;v.getDegree()>=u.getDegree()&&!v.isZero();){const C=v.getDegree()-u.getDegree(),I=d.multiply(v.getCoefficient(v.getDegree()),m),O=u.multiplyByMonomial(C,I),P=d.buildMonomial(C,I);h=h.addOrSubtract(P),v=v.addOrSubtract(O)}return[h,v]}toString(){let u="";for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);if(h!==0){if(h<0?(u+=" - ",h=-h):u.length>0&&(u+=" + "),d===0||h!==1){const v=this.field.log(h);v===0?u+="1":v===1?u+="a":(u+="a^",u+=v)}d!==0&&(d===1?u+="x":(u+="x^",u+=d))}}return u}}class gs extends c{}gs.kind="ArithmeticException";class Nt extends Kr{constructor(u,d,h){super(),this.primitive=u,this.size=d,this.generatorBase=h;const v=new Int32Array(d);let y=1;for(let C=0;C<d;C++)v[C]=y,y*=2,y>=d&&(y^=u,y&=d-1);this.expTable=v;const m=new Int32Array(d);for(let C=0;C<d-1;C++)m[v[C]]=C;this.logTable=m,this.zero=new Qr(this,Int32Array.from([0])),this.one=new Qr(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(u,d){if(u<0)throw new x;if(d===0)return this.zero;const h=new Int32Array(u+1);return h[0]=d,new Qr(this,h)}inverse(u){if(u===0)throw new gs;return this.expTable[this.size-this.logTable[u]-1]}multiply(u,d){return u===0||d===0?0:this.expTable[(this.logTable[u]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(u){return u===this}}Nt.AZTEC_DATA_12=new Nt(4201,4096,1),Nt.AZTEC_DATA_10=new Nt(1033,1024,1),Nt.AZTEC_DATA_6=new Nt(67,64,1),Nt.AZTEC_PARAM=new Nt(19,16,1),Nt.QR_CODE_FIELD_256=new Nt(285,256,0),Nt.DATA_MATRIX_FIELD_256=new Nt(301,256,1),Nt.AZTEC_DATA_8=Nt.DATA_MATRIX_FIELD_256,Nt.MAXICODE_FIELD_64=Nt.AZTEC_DATA_6;class Ba extends c{}Ba.kind="ReedSolomonException";class bi extends c{}bi.kind="IllegalStateException";class _o{constructor(u){this.field=u}decode(u,d){const h=this.field,v=new Qr(h,u),y=new Int32Array(d);let m=!0;for(let Y=0;Y<d;Y++){const Q=v.evaluateAt(h.exp(Y+h.getGeneratorBase()));y[y.length-1-Y]=Q,Q!==0&&(m=!1)}if(m)return;const C=new Qr(h,y),I=this.runEuclideanAlgorithm(h.buildMonomial(d,1),C,d),O=I[0],P=I[1],F=this.findErrorLocations(O),H=this.findErrorMagnitudes(P,F);for(let Y=0;Y<F.length;Y++){const Q=u.length-1-h.log(F[Y]);if(Q<0)throw new Ba("Bad error location");u[Q]=Nt.addOrSubtract(u[Q],H[Y])}}runEuclideanAlgorithm(u,d,h){if(u.getDegree()<d.getDegree()){const Y=u;u=d,d=Y}const v=this.field;let y=u,m=d,C=v.getZero(),I=v.getOne();for(;m.getDegree()>=(h/2|0);){let Y=y,Q=C;if(y=m,C=I,y.isZero())throw new Ba("r_{i-1} was zero");m=Y;let ee=v.getZero();const ne=y.getCoefficient(y.getDegree()),fe=v.inverse(ne);for(;m.getDegree()>=y.getDegree()&&!m.isZero();){const Ie=m.getDegree()-y.getDegree(),Te=v.multiply(m.getCoefficient(m.getDegree()),fe);ee=ee.addOrSubtract(v.buildMonomial(Ie,Te)),m=m.addOrSubtract(y.multiplyByMonomial(Ie,Te))}if(I=ee.multiply(C).addOrSubtract(Q),m.getDegree()>=y.getDegree())throw new bi("Division algorithm failed to reduce polynomial?")}const O=I.getCoefficient(0);if(O===0)throw new Ba("sigmaTilde(0) was zero");const P=v.inverse(O),F=I.multiplyScalar(P),H=m.multiplyScalar(P);return[F,H]}findErrorLocations(u){const d=u.getDegree();if(d===1)return Int32Array.from([u.getCoefficient(1)]);const h=new Int32Array(d);let v=0;const y=this.field;for(let m=1;m<y.getSize()&&v<d;m++)u.evaluateAt(m)===0&&(h[v]=y.inverse(m),v++);if(v!==d)throw new Ba("Error locator degree does not match number of roots");return h}findErrorMagnitudes(u,d){const h=d.length,v=new Int32Array(h),y=this.field;for(let m=0;m<h;m++){const C=y.inverse(d[m]);let I=1;for(let O=0;O<h;O++)if(m!==O){const P=y.multiply(d[O],C),F=P&1?P&-2:P|1;I=y.multiply(I,F)}v[m]=y.multiply(u.evaluateAt(C),y.inverse(I)),y.getGeneratorBase()!==0&&(v[m]=y.multiply(v[m],C))}return v}}var Hr;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(Hr||(Hr={}));class er{decode(u){this.ddata=u;let d=u.getBits(),h=this.extractBits(d),v=this.correctBits(h),y=er.convertBoolArrayToByteArray(v),m=er.getEncodedData(v),C=new Zt(y,m,null,null);return C.setNumBits(v.length),C}static highLevelDecode(u){return this.getEncodedData(u)}static getEncodedData(u){let d=u.length,h=Hr.UPPER,v=Hr.UPPER,y="",m=0;for(;m<d;)if(v===Hr.BINARY){if(d-m<5)break;let C=er.readCode(u,m,5);if(m+=5,C===0){if(d-m<11)break;C=er.readCode(u,m,11)+31,m+=11}for(let I=0;I<C;I++){if(d-m<8){m=d;break}const O=er.readCode(u,m,8);y+=ge.castAsNonUtf8Char(O),m+=8}v=h}else{let C=v===Hr.DIGIT?4:5;if(d-m<C)break;let I=er.readCode(u,m,C);m+=C;let O=er.getCharacter(v,I);O.startsWith("CTRL_")?(h=v,v=er.getTable(O.charAt(5)),O.charAt(6)==="L"&&(h=v)):(y+=O,v=h)}return y}static getTable(u){switch(u){case"L":return Hr.LOWER;case"P":return Hr.PUNCT;case"M":return Hr.MIXED;case"D":return Hr.DIGIT;case"B":return Hr.BINARY;case"U":default:return Hr.UPPER}}static getCharacter(u,d){switch(u){case Hr.UPPER:return er.UPPER_TABLE[d];case Hr.LOWER:return er.LOWER_TABLE[d];case Hr.MIXED:return er.MIXED_TABLE[d];case Hr.PUNCT:return er.PUNCT_TABLE[d];case Hr.DIGIT:return er.DIGIT_TABLE[d];default:throw new bi("Bad table")}}correctBits(u){let d,h;this.ddata.getNbLayers()<=2?(h=6,d=Nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,d=Nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,d=Nt.AZTEC_DATA_10):(h=12,d=Nt.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),y=u.length/h;if(y<v)throw new V;let m=u.length%h,C=new Int32Array(y);for(let H=0;H<y;H++,m+=h)C[H]=er.readCode(u,m,h);try{new _o(d).decode(C,y-v)}catch(H){throw new V(H)}let I=(1<<h)-1,O=0;for(let H=0;H<v;H++){let Y=C[H];if(Y===0||Y===I)throw new V;(Y===1||Y===I-1)&&O++}let P=new Array(v*h-O),F=0;for(let H=0;H<v;H++){let Y=C[H];if(Y===1||Y===I-1)P.fill(Y>1,F,F+h-1),F+=h-1;else for(let Q=h-1;Q>=0;--Q)P[F++]=(Y&1<<Q)!==0}return P}extractBits(u){let d=this.ddata.isCompact(),h=this.ddata.getNbLayers(),v=(d?11:14)+h*4,y=new Int32Array(v),m=new Array(this.totalBitsInLayer(h,d));if(d)for(let C=0;C<y.length;C++)y[C]=C;else{let C=v+1+2*B.truncDivision(B.truncDivision(v,2)-1,15),I=v/2,O=B.truncDivision(C,2);for(let P=0;P<I;P++){let F=P+B.truncDivision(P,15);y[I-P-1]=O-F-1,y[I+P]=O+F+1}}for(let C=0,I=0;C<h;C++){let O=(h-C)*4+(d?9:12),P=C*2,F=v-1-P;for(let H=0;H<O;H++){let Y=H*2;for(let Q=0;Q<2;Q++)m[I+Y+Q]=u.get(y[P+Q],y[P+H]),m[I+2*O+Y+Q]=u.get(y[P+H],y[F-Q]),m[I+4*O+Y+Q]=u.get(y[F-Q],y[F-H]),m[I+6*O+Y+Q]=u.get(y[F-H],y[P+Q])}I+=O*8}return m}static readCode(u,d,h){let v=0;for(let y=d;y<d+h;y++)v<<=1,u[y]&&(v|=1);return v}static readByte(u,d){let h=u.length-d;return h>=8?er.readCode(u,d,8):er.readCode(u,d,h)<<8-h}static convertBoolArrayToByteArray(u){let d=new Uint8Array((u.length+7)/8);for(let h=0;h<d.length;h++)d[h]=er.readByte(u,8*h);return d}totalBitsInLayer(u,d){return((d?88:112)+16*u)*u}}er.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],er.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],er.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],er.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],er.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class St{constructor(){}static round(u){return u===NaN?0:u<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:u>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:u+(u<0?-.5:.5)|0}static distance(u,d,h,v){const y=u-h,m=d-v;return Math.sqrt(y*y+m*m)}static sum(u){let d=0;for(let h=0,v=u.length;h!==v;h++){const y=u[h];d+=y}return d}}class La{static floatToIntBits(u){return u}}La.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(u,d){this.x=u,this.y=d}getX(){return this.x}getY(){return this.y}equals(u){if(u instanceof je){const d=u;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*La.floatToIntBits(this.x)+La.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(u){const d=this.distance(u[0],u[1]),h=this.distance(u[1],u[2]),v=this.distance(u[0],u[2]);let y,m,C;if(h>=d&&h>=v?(m=u[0],y=u[1],C=u[2]):v>=h&&v>=d?(m=u[1],y=u[0],C=u[2]):(m=u[2],y=u[0],C=u[1]),this.crossProductZ(y,m,C)<0){const I=y;y=C,C=I}u[0]=y,u[1]=m,u[2]=C}static distance(u,d){return St.distance(u.x,u.y,d.x,d.y)}static crossProductZ(u,d,h){const v=d.x,y=d.y;return(h.x-v)*(u.y-y)-(h.y-y)*(u.x-v)}}class So{constructor(u,d){this.bits=u,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class n1 extends So{constructor(u,d,h,v,y){super(u,d),this.compact=h,this.nbDatablocks=v,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Yi{constructor(u,d,h,v){this.image=u,this.height=u.getHeight(),this.width=u.getWidth(),d==null&&(d=Yi.INIT_SIZE),h==null&&(h=u.getWidth()/2|0),v==null&&(v=u.getHeight()/2|0);const y=d/2|0;if(this.leftInit=h-y,this.rightInit=h+y,this.upInit=v-y,this.downInit=v+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let u=this.leftInit,d=this.rightInit,h=this.upInit,v=this.downInit,y=!1,m=!0,C=!1,I=!1,O=!1,P=!1,F=!1;const H=this.width,Y=this.height;for(;m;){m=!1;let Q=!0;for(;(Q||!I)&&d<H;)Q=this.containsBlackPoint(h,v,d,!1),Q?(d++,m=!0,I=!0):I||d++;if(d>=H){y=!0;break}let ee=!0;for(;(ee||!O)&&v<Y;)ee=this.containsBlackPoint(u,d,v,!0),ee?(v++,m=!0,O=!0):O||v++;if(v>=Y){y=!0;break}let ne=!0;for(;(ne||!P)&&u>=0;)ne=this.containsBlackPoint(h,v,u,!1),ne?(u--,m=!0,P=!0):P||u--;if(u<0){y=!0;break}let fe=!0;for(;(fe||!F)&&h>=0;)fe=this.containsBlackPoint(u,d,h,!0),fe?(h--,m=!0,F=!0):F||h--;if(h<0){y=!0;break}m&&(C=!0)}if(!y&&C){const Q=d-u;let ee=null;for(let Te=1;ee===null&&Te<Q;Te++)ee=this.getBlackPointOnSegment(u,v-Te,u+Te,v);if(ee==null)throw new le;let ne=null;for(let Te=1;ne===null&&Te<Q;Te++)ne=this.getBlackPointOnSegment(u,h+Te,u+Te,h);if(ne==null)throw new le;let fe=null;for(let Te=1;fe===null&&Te<Q;Te++)fe=this.getBlackPointOnSegment(d,h+Te,d-Te,h);if(fe==null)throw new le;let Ie=null;for(let Te=1;Ie===null&&Te<Q;Te++)Ie=this.getBlackPointOnSegment(d,v-Te,d-Te,v);if(Ie==null)throw new le;return this.centerEdges(Ie,ee,fe,ne)}else throw new le}getBlackPointOnSegment(u,d,h,v){const y=St.round(St.distance(u,d,h,v)),m=(h-u)/y,C=(v-d)/y,I=this.image;for(let O=0;O<y;O++){const P=St.round(u+O*m),F=St.round(d+O*C);if(I.get(P,F))return new je(P,F)}return null}centerEdges(u,d,h,v){const y=u.getX(),m=u.getY(),C=d.getX(),I=d.getY(),O=h.getX(),P=h.getY(),F=v.getX(),H=v.getY(),Y=Yi.CORR;return y<this.width/2?[new je(F-Y,H+Y),new je(C+Y,I+Y),new je(O-Y,P-Y),new je(y+Y,m-Y)]:[new je(F+Y,H+Y),new je(C+Y,I-Y),new je(O-Y,P+Y),new je(y-Y,m-Y)]}containsBlackPoint(u,d,h,v){const y=this.image;if(v){for(let m=u;m<=d;m++)if(y.get(m,h))return!0}else for(let m=u;m<=d;m++)if(y.get(h,m))return!0;return!1}}Yi.INIT_SIZE=10,Yi.CORR=1;class iu{static checkAndNudgePoints(u,d){const h=u.getWidth(),v=u.getHeight();let y=!0;for(let m=0;m<d.length&&y;m+=2){const C=Math.floor(d[m]),I=Math.floor(d[m+1]);if(C<-1||C>h||I<-1||I>v)throw new le;y=!1,C===-1?(d[m]=0,y=!0):C===h&&(d[m]=h-1,y=!0),I===-1?(d[m+1]=0,y=!0):I===v&&(d[m+1]=v-1,y=!0)}y=!0;for(let m=d.length-2;m>=0&&y;m-=2){const C=Math.floor(d[m]),I=Math.floor(d[m+1]);if(C<-1||C>h||I<-1||I>v)throw new le;y=!1,C===-1?(d[m]=0,y=!0):C===h&&(d[m]=h-1,y=!0),I===-1?(d[m+1]=0,y=!0):I===v&&(d[m+1]=v-1,y=!0)}}}class hi{constructor(u,d,h,v,y,m,C,I,O){this.a11=u,this.a21=d,this.a31=h,this.a12=v,this.a22=y,this.a32=m,this.a13=C,this.a23=I,this.a33=O}static quadrilateralToQuadrilateral(u,d,h,v,y,m,C,I,O,P,F,H,Y,Q,ee,ne){const fe=hi.quadrilateralToSquare(u,d,h,v,y,m,C,I);return hi.squareToQuadrilateral(O,P,F,H,Y,Q,ee,ne).times(fe)}transformPoints(u){const d=u.length,h=this.a11,v=this.a12,y=this.a13,m=this.a21,C=this.a22,I=this.a23,O=this.a31,P=this.a32,F=this.a33;for(let H=0;H<d;H+=2){const Y=u[H],Q=u[H+1],ee=y*Y+I*Q+F;u[H]=(h*Y+m*Q+O)/ee,u[H+1]=(v*Y+C*Q+P)/ee}}transformPointsWithValues(u,d){const h=this.a11,v=this.a12,y=this.a13,m=this.a21,C=this.a22,I=this.a23,O=this.a31,P=this.a32,F=this.a33,H=u.length;for(let Y=0;Y<H;Y++){const Q=u[Y],ee=d[Y],ne=y*Q+I*ee+F;u[Y]=(h*Q+m*ee+O)/ne,d[Y]=(v*Q+C*ee+P)/ne}}static squareToQuadrilateral(u,d,h,v,y,m,C,I){const O=u-h+y-C,P=d-v+m-I;if(O===0&&P===0)return new hi(h-u,y-h,u,v-d,m-v,d,0,0,1);{const F=h-y,H=C-y,Y=v-m,Q=I-m,ee=F*Q-H*Y,ne=(O*Q-H*P)/ee,fe=(F*P-O*Y)/ee;return new hi(h-u+ne*h,C-u+fe*C,u,v-d+ne*v,I-d+fe*I,d,ne,fe,1)}}static quadrilateralToSquare(u,d,h,v,y,m,C,I){return hi.squareToQuadrilateral(u,d,h,v,y,m,C,I).buildAdjoint()}buildAdjoint(){return new hi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(u){return new hi(this.a11*u.a11+this.a21*u.a12+this.a31*u.a13,this.a11*u.a21+this.a21*u.a22+this.a31*u.a23,this.a11*u.a31+this.a21*u.a32+this.a31*u.a33,this.a12*u.a11+this.a22*u.a12+this.a32*u.a13,this.a12*u.a21+this.a22*u.a22+this.a32*u.a23,this.a12*u.a31+this.a22*u.a32+this.a32*u.a33,this.a13*u.a11+this.a23*u.a12+this.a33*u.a13,this.a13*u.a21+this.a23*u.a22+this.a33*u.a23,this.a13*u.a31+this.a23*u.a32+this.a33*u.a33)}}class au extends iu{sampleGrid(u,d,h,v,y,m,C,I,O,P,F,H,Y,Q,ee,ne,fe,Ie,Te){const Ce=hi.quadrilateralToQuadrilateral(v,y,m,C,I,O,P,F,H,Y,Q,ee,ne,fe,Ie,Te);return this.sampleGridWithTransform(u,d,h,Ce)}sampleGridWithTransform(u,d,h,v){if(d<=0||h<=0)throw new le;const y=new Ye(d,h),m=new Float32Array(2*d);for(let C=0;C<h;C++){const I=m.length,O=C+.5;for(let P=0;P<I;P+=2)m[P]=P/2+.5,m[P+1]=O;v.transformPoints(m),iu.checkAndNudgePoints(u,m);try{for(let P=0;P<I;P+=2)u.get(Math.floor(m[P]),Math.floor(m[P+1]))&&y.set(P/2,C)}catch{throw new le}}return y}}class Ri{static setGridSampler(u){Ri.gridSampler=u}static getInstance(){return Ri.gridSampler}}Ri.gridSampler=new au;class yn{constructor(u,d){this.x=u,this.y=d}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Io{constructor(u){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=u}detect(){return this.detectMirror(!1)}detectMirror(u){let d=this.getMatrixCenter(),h=this.getBullsEyeCorners(d);if(u){let m=h[0];h[0]=h[2],h[2]=m}this.extractParameters(h);let v=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),y=this.getMatrixCornerPoints(h);return new n1(v,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(u){if(!this.isValidPoint(u[0])||!this.isValidPoint(u[1])||!this.isValidPoint(u[2])||!this.isValidPoint(u[3]))throw new le;let d=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(u[0],u[1],d),this.sampleLine(u[1],u[2],d),this.sampleLine(u[2],u[3],d),this.sampleLine(u[3],u[0],d)]);this.shift=this.getRotation(h,d);let v=0;for(let m=0;m<4;m++){let C=h[(this.shift+m)%4];this.compact?(v<<=7,v+=C>>1&127):(v<<=10,v+=(C>>2&992)+(C>>1&31))}let y=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(u,d){let h=0;u.forEach((v,y,m)=>{let C=(v>>d-2<<1)+(v&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let v=0;v<4;v++)if(B.bitCount(h^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new le}getCorrectedParameterData(u,d){let h,v;d?(h=7,v=2):(h=10,v=4);let y=h-v,m=new Int32Array(h);for(let I=h-1;I>=0;--I)m[I]=u&15,u>>=4;try{new _o(Nt.AZTEC_PARAM).decode(m,y)}catch{throw new le}let C=0;for(let I=0;I<v;I++)C=(C<<4)+m[I];return C}getBullsEyeCorners(u){let d=u,h=u,v=u,y=u,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(d,m,1,-1),H=this.getFirstDifferent(h,m,1,1),Y=this.getFirstDifferent(v,m,-1,1),Q=this.getFirstDifferent(y,m,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(Q,F)*this.nbCenterLayers/(this.distancePoint(y,d)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(F,H,Y,Q))break}d=F,h=H,v=Y,y=Q,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let C=new je(d.getX()+.5,d.getY()-.5),I=new je(h.getX()+.5,h.getY()+.5),O=new je(v.getX()-.5,v.getY()+.5),P=new je(y.getX()-.5,y.getY()-.5);return this.expandSquare([C,I,O,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let u,d,h,v;try{let C=new Yi(this.image).detect();u=C[0],d=C[1],h=C[2],v=C[3]}catch{let I=this.image.getWidth()/2,O=this.image.getHeight()/2;u=this.getFirstDifferent(new yn(I+7,O-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new yn(I+7,O+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new yn(I-7,O+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new yn(I-7,O-7),!1,-1,-1).toResultPoint()}let y=St.round((u.getX()+v.getX()+d.getX()+h.getX())/4),m=St.round((u.getY()+v.getY()+d.getY()+h.getY())/4);try{let C=new Yi(this.image,15,y,m).detect();u=C[0],d=C[1],h=C[2],v=C[3]}catch{u=this.getFirstDifferent(new yn(y+7,m-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new yn(y+7,m+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new yn(y-7,m+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new yn(y-7,m-7),!1,-1,-1).toResultPoint()}return y=St.round((u.getX()+v.getX()+d.getX()+h.getX())/4),m=St.round((u.getY()+v.getY()+d.getY()+h.getY())/4),new yn(y,m)}getMatrixCornerPoints(u){return this.expandSquare(u,2*this.nbCenterLayers,this.getDimension())}sampleGrid(u,d,h,v,y){let m=Ri.getInstance(),C=this.getDimension(),I=C/2-this.nbCenterLayers,O=C/2+this.nbCenterLayers;return m.sampleGrid(u,C,C,I,I,O,I,O,O,I,O,d.getX(),d.getY(),h.getX(),h.getY(),v.getX(),v.getY(),y.getX(),y.getY())}sampleLine(u,d,h){let v=0,y=this.distanceResultPoint(u,d),m=y/h,C=u.getX(),I=u.getY(),O=m*(d.getX()-u.getX())/y,P=m*(d.getY()-u.getY())/y;for(let F=0;F<h;F++)this.image.get(St.round(C+F*O),St.round(I+F*P))&&(v|=1<<h-F-1);return v}isWhiteOrBlackRectangle(u,d,h,v){let y=3;u=new yn(u.getX()-y,u.getY()+y),d=new yn(d.getX()-y,d.getY()-y),h=new yn(h.getX()+y,h.getY()-y),v=new yn(v.getX()+y,v.getY()+y);let m=this.getColor(v,u);if(m===0)return!1;let C=this.getColor(u,d);return C!==m||(C=this.getColor(d,h),C!==m)?!1:(C=this.getColor(h,v),C===m)}getColor(u,d){let h=this.distancePoint(u,d),v=(d.getX()-u.getX())/h,y=(d.getY()-u.getY())/h,m=0,C=u.getX(),I=u.getY(),O=this.image.get(u.getX(),u.getY()),P=Math.ceil(h);for(let H=0;H<P;H++)C+=v,I+=y,this.image.get(St.round(C),St.round(I))!==O&&m++;let F=m/h;return F>.1&&F<.9?0:F<=.1===O?1:-1}getFirstDifferent(u,d,h,v){let y=u.getX()+h,m=u.getY()+v;for(;this.isValid(y,m)&&this.image.get(y,m)===d;)y+=h,m+=v;for(y-=h,m-=v;this.isValid(y,m)&&this.image.get(y,m)===d;)y+=h;for(y-=h;this.isValid(y,m)&&this.image.get(y,m)===d;)m+=v;return m-=v,new yn(y,m)}expandSquare(u,d,h){let v=h/(2*d),y=u[0].getX()-u[2].getX(),m=u[0].getY()-u[2].getY(),C=(u[0].getX()+u[2].getX())/2,I=(u[0].getY()+u[2].getY())/2,O=new je(C+v*y,I+v*m),P=new je(C-v*y,I-v*m);y=u[1].getX()-u[3].getX(),m=u[1].getY()-u[3].getY(),C=(u[1].getX()+u[3].getX())/2,I=(u[1].getY()+u[3].getY())/2;let F=new je(C+v*y,I+v*m),H=new je(C-v*y,I-v*m);return[O,F,P,H]}isValid(u,d){return u>=0&&u<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(u){let d=St.round(u.getX()),h=St.round(u.getY());return this.isValid(d,h)}distancePoint(u,d){return St.distance(u.getX(),u.getY(),d.getX(),d.getY())}distanceResultPoint(u,d){return St.distance(u.getX(),u.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Fa{decode(u,d=null){let h=null,v=new Io(u.getBlackMatrix()),y=null,m=null;try{let P=v.detectMirror(!1);y=P.getPoints(),this.reportFoundResultPoints(d,y),m=new er().decode(P)}catch(P){h=P}if(m==null)try{let P=v.detectMirror(!0);y=P.getPoints(),this.reportFoundResultPoints(d,y),m=new er().decode(P)}catch(P){throw h??P}let C=new Je(m.getText(),m.getRawBytes(),m.getNumBits(),y,Re.AZTEC,T.currentTimeMillis()),I=m.getByteSegments();I!=null&&C.putMetadata(ut.BYTE_SEGMENTS,I);let O=m.getECLevel();return O!=null&&C.putMetadata(ut.ERROR_CORRECTION_LEVEL,O),C}reportFoundResultPoints(u,d){if(u!=null){let h=u.get($.NEED_RESULT_POINT_CALLBACK);h!=null&&d.forEach((v,y,m)=>{h.foundPossibleResultPoint(v)})}}reset(){}}class zf extends lt{constructor(u=500){super(new Fa,u)}}class Rr{decode(u,d){try{return this.doDecode(u,d)}catch{if(d&&d.get($.TRY_HARDER)===!0&&u.isRotateSupported()){const y=u.rotateCounterClockwise(),m=this.doDecode(y,d),C=m.getResultMetadata();let I=270;C!==null&&C.get(ut.ORIENTATION)===!0&&(I=I+C.get(ut.ORIENTATION)%360),m.putMetadata(ut.ORIENTATION,I);const O=m.getResultPoints();if(O!==null){const P=y.getHeight();for(let F=0;F<O.length;F++)O[F]=new je(P-O[F].getY()-1,O[F].getX())}return m}else throw new le}}reset(){}doDecode(u,d){const h=u.getWidth(),v=u.getHeight();let y=new k(h);const m=d&&d.get($.TRY_HARDER)===!0,C=Math.max(1,v>>(m?8:5));let I;m?I=v:I=15;const O=Math.trunc(v/2);for(let P=0;P<I;P++){const F=Math.trunc((P+1)/2),H=(P&1)===0,Y=O+C*(H?F:-F);if(Y<0||Y>=v)break;try{y=u.getBlackRow(Y,y)}catch{continue}for(let Q=0;Q<2;Q++){if(Q===1&&(y.reverse(),d&&d.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;d.forEach((ne,fe)=>ee.set(fe,ne)),ee.delete($.NEED_RESULT_POINT_CALLBACK),d=ee}try{const ee=this.decodeRow(Y,y,d);if(Q===1){ee.putMetadata(ut.ORIENTATION,180);const ne=ee.getResultPoints();ne!==null&&(ne[0]=new je(h-ne[0].getX()-1,ne[0].getY()),ne[1]=new je(h-ne[1].getX()-1,ne[1].getY()))}return ee}catch{}}}throw new le}static recordPattern(u,d,h){const v=h.length;for(let O=0;O<v;O++)h[O]=0;const y=u.getSize();if(d>=y)throw new le;let m=!u.get(d),C=0,I=d;for(;I<y;){if(u.get(I)!==m)h[C]++;else{if(++C===v)break;h[C]=1,m=!m}I++}if(!(C===v||C===v-1&&I===y))throw new le}static recordPatternInReverse(u,d,h){let v=h.length,y=u.get(d);for(;d>0&&v>=0;)u.get(--d)!==y&&(v--,y=!y);if(v>=0)throw new le;Rr.recordPattern(u,d+1,h)}static patternMatchVariance(u,d,h){const v=u.length;let y=0,m=0;for(let O=0;O<v;O++)y+=u[O],m+=d[O];if(y<m)return Number.POSITIVE_INFINITY;const C=y/m;h*=C;let I=0;for(let O=0;O<v;O++){const P=u[O],F=d[O]*C,H=P>F?P-F:F-P;if(H>h)return Number.POSITIVE_INFINITY;I+=H}return I/y}}class De extends Rr{static findStartPattern(u){const d=u.getSize(),h=u.getNextSet(0);let v=0,y=Int32Array.from([0,0,0,0,0,0]),m=h,C=!1;const I=6;for(let O=h;O<d;O++)if(u.get(O)!==C)y[v]++;else{if(v===I-1){let P=De.MAX_AVG_VARIANCE,F=-1;for(let H=De.CODE_START_A;H<=De.CODE_START_C;H++){const Y=Rr.patternMatchVariance(y,De.CODE_PATTERNS[H],De.MAX_INDIVIDUAL_VARIANCE);Y<P&&(P=Y,F=H)}if(F>=0&&u.isRange(Math.max(0,m-(O-m)/2),m,!1))return Int32Array.from([m,O,F]);m+=y[0]+y[1],y=y.slice(2,y.length-1),y[v-1]=0,y[v]=0,v--}else v++;y[v]=1,C=!C}throw new le}static decodeCode(u,d,h){Rr.recordPattern(u,h,d);let v=De.MAX_AVG_VARIANCE,y=-1;for(let m=0;m<De.CODE_PATTERNS.length;m++){const C=De.CODE_PATTERNS[m],I=this.patternMatchVariance(d,C,De.MAX_INDIVIDUAL_VARIANCE);I<v&&(v=I,y=m)}if(y>=0)return y;throw new le}decodeRow(u,d,h){const v=h&&h.get($.ASSUME_GS1)===!0,y=De.findStartPattern(d),m=y[2];let C=0;const I=new Uint8Array(20);I[C++]=m;let O;switch(m){case De.CODE_START_A:O=De.CODE_CODE_A;break;case De.CODE_START_B:O=De.CODE_CODE_B;break;case De.CODE_START_C:O=De.CODE_CODE_C;break;default:throw new V}let P=!1,F=!1,H="",Y=y[0],Q=y[1];const ee=Int32Array.from([0,0,0,0,0,0]);let ne=0,fe=0,Ie=m,Te=0,Ce=!0,yt=!1,dt=!1;for(;!P;){const ga=F;switch(F=!1,ne=fe,fe=De.decodeCode(d,ee,Q),I[C++]=fe,fe!==De.CODE_STOP&&(Ce=!0),fe!==De.CODE_STOP&&(Te++,Ie+=Te*fe),Y=Q,Q+=ee.reduce((Fo,_1)=>Fo+_1,0),fe){case De.CODE_START_A:case De.CODE_START_B:case De.CODE_START_C:throw new V}switch(O){case De.CODE_CODE_A:if(fe<64)dt===yt?H+=String.fromCharCode(32+fe):H+=String.fromCharCode(32+fe+128),dt=!1;else if(fe<96)dt===yt?H+=String.fromCharCode(fe-64):H+=String.fromCharCode(fe+64),dt=!1;else switch(fe!==De.CODE_STOP&&(Ce=!1),fe){case De.CODE_FNC_1:v&&(H.length===0?H+="]C1":H+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_A:!yt&&dt?(yt=!0,dt=!1):yt&&dt?(yt=!1,dt=!1):dt=!0;break;case De.CODE_SHIFT:F=!0,O=De.CODE_CODE_B;break;case De.CODE_CODE_B:O=De.CODE_CODE_B;break;case De.CODE_CODE_C:O=De.CODE_CODE_C;break;case De.CODE_STOP:P=!0;break}break;case De.CODE_CODE_B:if(fe<96)dt===yt?H+=String.fromCharCode(32+fe):H+=String.fromCharCode(32+fe+128),dt=!1;else switch(fe!==De.CODE_STOP&&(Ce=!1),fe){case De.CODE_FNC_1:v&&(H.length===0?H+="]C1":H+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_B:!yt&&dt?(yt=!0,dt=!1):yt&&dt?(yt=!1,dt=!1):dt=!0;break;case De.CODE_SHIFT:F=!0,O=De.CODE_CODE_A;break;case De.CODE_CODE_A:O=De.CODE_CODE_A;break;case De.CODE_CODE_C:O=De.CODE_CODE_C;break;case De.CODE_STOP:P=!0;break}break;case De.CODE_CODE_C:if(fe<100)fe<10&&(H+="0"),H+=fe;else switch(fe!==De.CODE_STOP&&(Ce=!1),fe){case De.CODE_FNC_1:v&&(H.length===0?H+="]C1":H+="");break;case De.CODE_CODE_A:O=De.CODE_CODE_A;break;case De.CODE_CODE_B:O=De.CODE_CODE_B;break;case De.CODE_STOP:P=!0;break}break}ga&&(O=O===De.CODE_CODE_A?De.CODE_CODE_B:De.CODE_CODE_A)}const Yn=Q-Y;if(Q=d.getNextUnset(Q),!d.isRange(Q,Math.min(d.getSize(),Q+(Q-Y)/2),!1))throw new le;if(Ie-=Te*ne,Ie%103!==ne)throw new E;const ki=H.length;if(ki===0)throw new le;ki>0&&Ce&&(O===De.CODE_CODE_C?H=H.substring(0,ki-2):H=H.substring(0,ki-1));const Wr=(y[1]+y[0])/2,zt=Y+Yn/2,Dr=I.length,Bn=new Uint8Array(Dr);for(let ga=0;ga<Dr;ga++)Bn[ga]=I[ga];const so=[new je(Wr,u),new je(zt,u)];return new Je(H,Bn,0,so,Re.CODE_128,new Date().getTime())}}De.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],De.MAX_AVG_VARIANCE=.25,De.MAX_INDIVIDUAL_VARIANCE=.7,De.CODE_SHIFT=98,De.CODE_CODE_C=99,De.CODE_CODE_B=100,De.CODE_CODE_A=101,De.CODE_FNC_1=102,De.CODE_FNC_2=97,De.CODE_FNC_3=96,De.CODE_FNC_4_A=101,De.CODE_FNC_4_B=100,De.CODE_START_A=103,De.CODE_START_B=104,De.CODE_START_C=105,De.CODE_STOP=106;class Vr extends Rr{constructor(u=!1,d=!1){super(),this.usingCheckDigit=u,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(u,d,h){let v=this.counters;v.fill(0),this.decodeRowResult="";let y=Vr.findAsteriskPattern(d,v),m=d.getNextSet(y[1]),C=d.getSize(),I,O;do{Vr.recordPattern(d,m,v);let ee=Vr.toNarrowWidePattern(v);if(ee<0)throw new le;I=Vr.patternToChar(ee),this.decodeRowResult+=I,O=m;for(let ne of v)m+=ne;m=d.getNextSet(m)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let ee of v)P+=ee;let F=m-O-P;if(m!==C&&F*2<P)throw new le;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,ne=0;for(let fe=0;fe<ee;fe++)ne+=Vr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(fe));if(this.decodeRowResult.charAt(ee)!==Vr.ALPHABET_STRING.charAt(ne%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new le;let H;this.extendedMode?H=Vr.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let Y=(y[1]+y[0])/2,Q=O+P/2;return new Je(H,null,0,[new je(Y,u),new je(Q,u)],Re.CODE_39,new Date().getTime())}static findAsteriskPattern(u,d){let h=u.getSize(),v=u.getNextSet(0),y=0,m=v,C=!1,I=d.length;for(let O=v;O<h;O++)if(u.get(O)!==C)d[y]++;else{if(y===I-1){if(this.toNarrowWidePattern(d)===Vr.ASTERISK_ENCODING&&u.isRange(Math.max(0,m-Math.floor((O-m)/2)),m,!1))return[m,O];m+=d[0]+d[1],d.copyWithin(0,2,2+y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,C=!C}throw new le}static toNarrowWidePattern(u){let d=u.length,h=0,v;do{let y=2147483647;for(let I of u)I<y&&I>h&&(y=I);h=y,v=0;let m=0,C=0;for(let I=0;I<d;I++){let O=u[I];O>h&&(C|=1<<d-1-I,v++,m+=O)}if(v===3){for(let I=0;I<d&&v>0;I++){let O=u[I];if(O>h&&(v--,O*2>=m))return-1}return C}}while(v>3);return-1}static patternToChar(u){for(let d=0;d<Vr.CHARACTER_ENCODINGS.length;d++)if(Vr.CHARACTER_ENCODINGS[d]===u)return Vr.ALPHABET_STRING.charAt(d);if(u===Vr.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(u){let d=u.length,h="";for(let v=0;v<d;v++){let y=u.charAt(v);if(y==="+"||y==="$"||y==="%"||y==="/"){let m=u.charAt(v+1),C="\0";switch(y){case"+":if(m>="A"&&m<="Z")C=String.fromCharCode(m.charCodeAt(0)+32);else throw new V;break;case"$":if(m>="A"&&m<="Z")C=String.fromCharCode(m.charCodeAt(0)-64);else throw new V;break;case"%":if(m>="A"&&m<="E")C=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")C=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")C=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")C=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")C="\0";else if(m==="V")C="@";else if(m==="W")C="`";else if(m==="X"||m==="Y"||m==="Z")C="";else throw new V;break;case"/":if(m>="A"&&m<="O")C=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")C=":";else throw new V;break}h+=C,v++}else h+=y}return h}}Vr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vr.ASTERISK_ENCODING=148;class Vt extends Rr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(u,d,h){let v=this.decodeStart(d),y=this.decodeEnd(d),m=new Ee;Vt.decodeMiddle(d,v[1],y[0],m);let C=m.toString(),I=null;h!=null&&(I=h.get($.ALLOWED_LENGTHS)),I==null&&(I=Vt.DEFAULT_ALLOWED_LENGTHS);let O=C.length,P=!1,F=0;for(let Q of I){if(O===Q){P=!0;break}Q>F&&(F=Q)}if(!P&&O>F&&(P=!0),!P)throw new V;const H=[new je(v[1],u),new je(y[0],u)];return new Je(C,null,0,H,Re.ITF,new Date().getTime())}static decodeMiddle(u,d,h,v){let y=new Int32Array(10),m=new Int32Array(5),C=new Int32Array(5);for(y.fill(0),m.fill(0),C.fill(0);d<h;){Rr.recordPattern(u,d,y);for(let O=0;O<5;O++){let P=2*O;m[O]=y[P],C[O]=y[P+1]}let I=Vt.decodeDigit(m);v.append(I.toString()),I=this.decodeDigit(C),v.append(I.toString()),y.forEach(function(O){d+=O})}}decodeStart(u){let d=Vt.skipWhiteSpace(u),h=Vt.findGuardPattern(u,d,Vt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(u,h[0]),h}validateQuietZone(u,d){let h=this.narrowLineWidth*10;h=h<d?h:d;for(let v=d-1;h>0&&v>=0&&!u.get(v);v--)h--;if(h!==0)throw new le}static skipWhiteSpace(u){const d=u.getSize(),h=u.getNextSet(0);if(h===d)throw new le;return h}decodeEnd(u){u.reverse();try{let d=Vt.skipWhiteSpace(u),h;try{h=Vt.findGuardPattern(u,d,Vt.END_PATTERN_REVERSED[0])}catch(y){y instanceof le&&(h=Vt.findGuardPattern(u,d,Vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(u,h[0]);let v=h[0];return h[0]=u.getSize()-h[1],h[1]=u.getSize()-v,h}finally{u.reverse()}}static findGuardPattern(u,d,h){let v=h.length,y=new Int32Array(v),m=u.getSize(),C=!1,I=0,O=d;y.fill(0);for(let P=d;P<m;P++)if(u.get(P)!==C)y[I]++;else{if(I===v-1){if(Rr.patternMatchVariance(y,h,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return[O,P];O+=y[0]+y[1],T.arraycopy(y,2,y,0,I-1),y[I-1]=0,y[I]=0,I--}else I++;y[I]=1,C=!C}throw new le}static decodeDigit(u){let d=Vt.MAX_AVG_VARIANCE,h=-1,v=Vt.PATTERNS.length;for(let y=0;y<v;y++){let m=Vt.PATTERNS[y],C=Rr.patternMatchVariance(u,m,Vt.MAX_INDIVIDUAL_VARIANCE);C<d?(d=C,h=y):C===d&&(h=-1)}if(h>=0)return h%10;throw new le}}Vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Vt.MAX_AVG_VARIANCE=.38,Vt.MAX_INDIVIDUAL_VARIANCE=.5,Vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Vt.START_PATTERN=Int32Array.from([1,1,1,1]),Vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dr extends Rr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(u){let d=!1,h,v=0,y=Int32Array.from([0,0,0]);for(;!d;){y=Int32Array.from([0,0,0]),h=dr.findGuardPattern(u,v,!1,this.START_END_PATTERN,y);let m=h[0];v=h[1];let C=m-(v-m);C>=0&&(d=u.isRange(C,m,!1))}return h}static checkChecksum(u){return dr.checkStandardUPCEANChecksum(u)}static checkStandardUPCEANChecksum(u){let d=u.length;if(d===0)return!1;let h=parseInt(u.charAt(d-1),10);return dr.getStandardUPCEANChecksum(u.substring(0,d-1))===h}static getStandardUPCEANChecksum(u){let d=u.length,h=0;for(let v=d-1;v>=0;v-=2){let y=u.charAt(v).charCodeAt(0)-48;if(y<0||y>9)throw new V;h+=y}h*=3;for(let v=d-2;v>=0;v-=2){let y=u.charAt(v).charCodeAt(0)-48;if(y<0||y>9)throw new V;h+=y}return(1e3-h)%10}static decodeEnd(u,d){return dr.findGuardPattern(u,d,!1,dr.START_END_PATTERN,new Int32Array(dr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(u,d,h,v){return this.findGuardPattern(u,d,h,v,new Int32Array(v.length))}static findGuardPattern(u,d,h,v,y){let m=u.getSize();d=h?u.getNextUnset(d):u.getNextSet(d);let C=0,I=d,O=v.length,P=h;for(let F=d;F<m;F++)if(u.get(F)!==P)y[C]++;else{if(C===O-1){if(Rr.patternMatchVariance(y,v,dr.MAX_INDIVIDUAL_VARIANCE)<dr.MAX_AVG_VARIANCE)return Int32Array.from([I,F]);I+=y[0]+y[1];let H=y.slice(2,y.length-1);for(let Y=0;Y<C-1;Y++)y[Y]=H[Y];y[C-1]=0,y[C]=0,C--}else C++;y[C]=1,P=!P}throw new le}static decodeDigit(u,d,h,v){this.recordPattern(u,h,d);let y=this.MAX_AVG_VARIANCE,m=-1,C=v.length;for(let I=0;I<C;I++){let O=v[I],P=Rr.patternMatchVariance(d,O,dr.MAX_INDIVIDUAL_VARIANCE);P<y&&(y=P,m=I)}if(m>=0)return m;throw new le}}dr.MAX_AVG_VARIANCE=.48,dr.MAX_INDIVIDUAL_VARIANCE=.7,dr.START_END_PATTERN=Int32Array.from([1,1,1]),dr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ro{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(u,d,h){let v=this.decodeRowStringBuffer,y=this.decodeMiddle(d,h,v),m=v.toString(),C=ro.parseExtensionString(m),I=[new je((h[0]+h[1])/2,u),new je(y,u)],O=new Je(m,null,0,I,Re.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&O.putAllMetadata(C),O}decodeMiddle(u,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let y=u.getSize(),m=d[1],C=0;for(let O=0;O<5&&m<y;O++){let P=dr.decodeDigit(u,v,m,dr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let F of v)m+=F;P>=10&&(C|=1<<4-O),O!==4&&(m=u.getNextSet(m),m=u.getNextUnset(m))}if(h.length!==5)throw new le;let I=this.determineCheckDigit(C);if(ro.extensionChecksum(h.toString())!==I)throw new le;return m}static extensionChecksum(u){let d=u.length,h=0;for(let v=d-2;v>=0;v-=2)h+=u.charAt(v).charCodeAt(0)-48;h*=3;for(let v=d-1;v>=0;v-=2)h+=u.charAt(v).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(u){for(let d=0;d<10;d++)if(u===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new le}static parseExtensionString(u){if(u.length!==5)return null;let d=ro.parseExtension5String(u);return d==null?null:new Map([[ut.SUGGESTED_PRICE,d]])}static parseExtension5String(u){let d;switch(u.charAt(0)){case"0":d="£";break;case"5":d="$";break;case"9":switch(u){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let h=parseInt(u.substring(1)),v=(h/100).toString(),y=h%100,m=y<10?"0"+y:y.toString();return d+v+"."+m}}class vs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(u,d,h){let v=this.decodeRowStringBuffer,y=this.decodeMiddle(d,h,v),m=v.toString(),C=vs.parseExtensionString(m),I=[new je((h[0]+h[1])/2,u),new je(y,u)],O=new Je(m,null,0,I,Re.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&O.putAllMetadata(C),O}decodeMiddle(u,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let y=u.getSize(),m=d[1],C=0;for(let I=0;I<2&&m<y;I++){let O=dr.decodeDigit(u,v,m,dr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+O%10);for(let P of v)m+=P;O>=10&&(C|=1<<1-I),I!==1&&(m=u.getNextSet(m),m=u.getNextUnset(m))}if(h.length!==2)throw new le;if(parseInt(h.toString())%4!==C)throw new le;return m}static parseExtensionString(u){return u.length!==2?null:new Map([[ut.ISSUE_NUMBER,parseInt(u)]])}}class ou{static decodeRow(u,d,h){let v=dr.findGuardPattern(d,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ro().decodeRow(u,d,v)}catch{return new vs().decodeRow(u,d,v)}}}ou.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class At extends dr{constructor(){super(),this.decodeRowStringBuffer="",At.L_AND_G_PATTERNS=At.L_PATTERNS.map(u=>Int32Array.from(u));for(let u=10;u<20;u++){let d=At.L_PATTERNS[u-10],h=new Int32Array(d.length);for(let v=0;v<d.length;v++)h[v]=d[d.length-v-1];At.L_AND_G_PATTERNS[u]=h}}decodeRow(u,d,h){let v=At.findStartGuardPattern(d),y=h==null?null:h.get($.NEED_RESULT_POINT_CALLBACK);if(y!=null){const Ce=new je((v[0]+v[1])/2,u);y.foundPossibleResultPoint(Ce)}let m=this.decodeMiddle(d,v,this.decodeRowStringBuffer),C=m.rowOffset,I=m.resultString;if(y!=null){const Ce=new je(C,u);y.foundPossibleResultPoint(Ce)}let O=this.decodeEnd(d,C);if(y!=null){const Ce=new je((O[0]+O[1])/2,u);y.foundPossibleResultPoint(Ce)}let P=O[1],F=P+(P-O[0]);if(F>=d.getSize()||!d.isRange(P,F,!1))throw new le;let H=I.toString();if(H.length<8)throw new V;if(!At.checkChecksum(H))throw new E;let Y=(v[1]+v[0])/2,Q=(O[1]+O[0])/2,ee=this.getBarcodeFormat(),ne=[new je(Y,u),new je(Q,u)],fe=new Je(H,null,0,ne,ee,new Date().getTime()),Ie=0;try{let Ce=ou.decodeRow(u,d,O[1]);fe.putMetadata(ut.UPC_EAN_EXTENSION,Ce.getText()),fe.putAllMetadata(Ce.getResultMetadata()),fe.addResultPoints(Ce.getResultPoints()),Ie=Ce.getText().length}catch{}let Te=h==null?null:h.get($.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let Ce=!1;for(let yt in Te)if(Ie.toString()===yt){Ce=!0;break}if(!Ce)throw new le}return fe}decodeEnd(u,d){return At.findGuardPattern(u,d,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static checkChecksum(u){return At.checkStandardUPCEANChecksum(u)}static checkStandardUPCEANChecksum(u){let d=u.length;if(d===0)return!1;let h=parseInt(u.charAt(d-1),10);return At.getStandardUPCEANChecksum(u.substring(0,d-1))===h}static getStandardUPCEANChecksum(u){let d=u.length,h=0;for(let v=d-1;v>=0;v-=2){let y=u.charAt(v).charCodeAt(0)-48;if(y<0||y>9)throw new V;h+=y}h*=3;for(let v=d-2;v>=0;v-=2){let y=u.charAt(v).charCodeAt(0)-48;if(y<0||y>9)throw new V;h+=y}return(1e3-h)%10}}class pi extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(u,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let y=u.getSize(),m=d[1],C=0;for(let O=0;O<6&&m<y;O++){let P=At.decodeDigit(u,v,m,At.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let F of v)m+=F;P>=10&&(C|=1<<5-O)}h=pi.determineFirstDigit(h,C),m=At.findGuardPattern(u,m,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&m<y;O++){let P=At.decodeDigit(u,v,m,At.L_PATTERNS);h+=String.fromCharCode(48+P);for(let F of v)m+=F}return{rowOffset:m,resultString:h}}getBarcodeFormat(){return Re.EAN_13}static determineFirstDigit(u,d){for(let h=0;h<10;h++)if(d===this.FIRST_DIGIT_ENCODINGS[h])return u=String.fromCharCode(48+h)+u,u;throw new le}}pi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class i1 extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(u,d,h){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let y=u.getSize(),m=d[1];for(let I=0;I<4&&m<y;I++){let O=At.decodeDigit(u,v,m,At.L_PATTERNS);h+=String.fromCharCode(48+O);for(let P of v)m+=P}m=At.findGuardPattern(u,m,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&m<y;I++){let O=At.decodeDigit(u,v,m,At.L_PATTERNS);h+=String.fromCharCode(48+O);for(let P of v)m+=P}return{rowOffset:m,resultString:h}}getBarcodeFormat(){return Re.EAN_8}}class a1 extends At{constructor(){super(...arguments),this.ean13Reader=new pi}getBarcodeFormat(){return Re.UPC_A}decode(u,d){return this.maybeReturnResult(this.ean13Reader.decode(u))}decodeRow(u,d,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(u,d,h))}decodeMiddle(u,d,h){return this.ean13Reader.decodeMiddle(u,d,h)}maybeReturnResult(u){let d=u.getText();if(d.charAt(0)==="0"){let h=new Je(d.substring(1),null,null,u.getResultPoints(),Re.UPC_A);return u.getResultMetadata()!=null&&h.putAllMetadata(u.getResultMetadata()),h}else throw new le}reset(){this.ean13Reader.reset()}}class gi extends At{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(u,d,h){const v=this.decodeMiddleCounters.map(O=>O);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const y=u.getSize();let m=d[1],C=0;for(let O=0;O<6&&m<y;O++){const P=gi.decodeDigit(u,v,m,gi.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let F of v)m+=F;P>=10&&(C|=1<<5-O)}let I=gi.determineNumSysAndCheckDigit(h,C);return{rowOffset:m,resultString:I}}decodeEnd(u,d){return gi.findGuardPatternWithoutCounters(u,d,!0,gi.MIDDLE_END_PATTERN)}checkChecksum(u){return At.checkChecksum(gi.convertUPCEtoUPCA(u))}static determineNumSysAndCheckDigit(u,d){for(let h=0;h<=1;h++)for(let v=0;v<10;v++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][v]){let y=String.fromCharCode(48+h),m=String.fromCharCode(48+v);return y+u+m}throw le.getNotFoundInstance()}getBarcodeFormat(){return Re.UPC_E}static convertUPCEtoUPCA(u){const d=u.slice(1,7).split("").map(y=>y.charCodeAt(0)),h=new Ee;h.append(u.charAt(0));let v=d[5];switch(v){case 0:case 1:case 2:h.appendChars(d,0,2),h.append(v),h.append("0000"),h.appendChars(d,2,3);break;case 3:h.appendChars(d,0,3),h.append("00000"),h.appendChars(d,3,2);break;case 4:h.appendChars(d,0,4),h.append("00000"),h.append(d[4]);break;default:h.appendChars(d,0,5),h.append("0000"),h.append(v);break}return u.length>=8&&h.append(u.charAt(7)),h.toString()}}gi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class su extends Rr{constructor(u){super();let d=u==null?null:u.get($.POSSIBLE_FORMATS),h=[];n(d)?(h.push(new pi),h.push(new a1),h.push(new i1),h.push(new gi)):(d.indexOf(Re.EAN_13)>-1&&h.push(new pi),d.indexOf(Re.UPC_A)>-1&&h.push(new a1),d.indexOf(Re.EAN_8)>-1&&h.push(new i1),d.indexOf(Re.UPC_E)>-1&&h.push(new gi)),this.readers=h}decodeRow(u,d,h){for(let v of this.readers)try{const y=v.decodeRow(u,d,h),m=y.getBarcodeFormat()===Re.EAN_13&&y.getText().charAt(0)==="0",C=h==null?null:h.get($.POSSIBLE_FORMATS),I=C==null||C.includes(Re.UPC_A);if(m&&I){const O=y.getRawBytes(),P=new Je(y.getText().substring(1),O,O?O.length:null,y.getResultPoints(),Re.UPC_A);return P.putAllMetadata(y.getResultMetadata()),P}return y}catch{}throw new le}reset(){for(let u of this.readers)u.reset()}}class qr extends Rr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(u,d){for(let h=0;h<d.length;h++)if(Rr.patternMatchVariance(u,d[h],qr.MAX_INDIVIDUAL_VARIANCE)<qr.MAX_AVG_VARIANCE)return h;throw new le}static count(u){return St.sum(new Int32Array(u))}static increment(u,d){let h=0,v=d[0];for(let y=1;y<u.length;y++)d[y]>v&&(v=d[y],h=y);u[h]++}static decrement(u,d){let h=0,v=d[0];for(let y=1;y<u.length;y++)d[y]<v&&(v=d[y],h=y);u[h]--}static isFinderPattern(u){let d=u[0]+u[1],h=d+u[2]+u[3],v=d/h;if(v>=qr.MIN_FINDER_PATTERN_RATIO&&v<=qr.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let C of u)C>m&&(m=C),C<y&&(y=C);return m<10*y}return!1}}qr.MAX_AVG_VARIANCE=.2,qr.MAX_INDIVIDUAL_VARIANCE=.45,qr.MIN_FINDER_PATTERN_RATIO=9.5/12,qr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ka{constructor(u,d){this.value=u,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(u){if(!(u instanceof ka))return!1;const d=u;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xs{constructor(u,d,h,v,y){this.value=u,this.startEnd=d,this.value=u,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new je(h,y)),this.resultPoints.push(new je(v,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(u){if(!(u instanceof xs))return!1;const d=u;return this.value===d.value}hashCode(){return this.value}}class Gn{constructor(){}static getRSSvalue(u,d,h){let v=0;for(let I of u)v+=I;let y=0,m=0,C=u.length;for(let I=0;I<C-1;I++){let O;for(O=1,m|=1<<I;O<u[I];O++,m&=~(1<<I)){let P=Gn.combins(v-O-1,C-I-2);if(h&&m===0&&v-O-(C-I-1)>=C-I-1&&(P-=Gn.combins(v-O-(C-I),C-I-2)),C-I-1>1){let F=0;for(let H=v-O-(C-I-2);H>d;H--)F+=Gn.combins(v-O-H-1,C-I-3);P-=F*(C-1-I)}else v-O>d&&P--;y+=P}v-=O}return y}static combins(u,d){let h,v;u-d>d?(v=d,h=u-d):(v=u-d,h=d);let y=1,m=1;for(let C=u;C>h;C--)y*=C,m<=v&&(y/=m,m++);for(;m<=v;)y/=m,m++;return y}}class o1{static buildBitArray(u){let d=u.length*2-1;u[u.length-1].getRightChar()==null&&(d-=1);let h=12*d,v=new k(h),y=0,C=u[0].getRightChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&v.set(y),y++;for(let I=1;I<u.length;++I){let O=u[I],P=O.getLeftChar().getValue();for(let F=11;F>=0;--F)P&1<<F&&v.set(y),y++;if(O.getRightChar()!=null){let F=O.getRightChar().getValue();for(let H=11;H>=0;--H)F&1<<H&&v.set(y),y++}}return v}}class Di{constructor(u,d){d?this.decodedInformation=null:(this.finished=u,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class s1{constructor(u){this.newPosition=u}getNewPosition(){return this.newPosition}}class Yr extends s1{constructor(u,d){super(u),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Yr.FNC1}}Yr.FNC1="$";class $i extends s1{constructor(u,d,h){super(u),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dn extends s1{constructor(u,d,h){if(super(u),d<0||d>10||h<0||h>10)throw new V;this.firstDigit=d,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dn.FNC1}isAnyFNC1(){return this.firstDigit===Dn.FNC1||this.secondDigit===Dn.FNC1}}Dn.FNC1=10;class ke{constructor(){}static parseFieldsInGeneralPurpose(u){if(!u)return null;if(u.length<2)throw new le;let d=u.substring(0,2);for(let y of ke.TWO_DIGIT_DATA_LENGTH)if(y[0]===d)return y[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(2,y[2],u):ke.processFixedAI(2,y[1],u);if(u.length<3)throw new le;let h=u.substring(0,3);for(let y of ke.THREE_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(3,y[2],u):ke.processFixedAI(3,y[1],u);for(let y of ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,y[2],u):ke.processFixedAI(4,y[1],u);if(u.length<4)throw new le;let v=u.substring(0,4);for(let y of ke.FOUR_DIGIT_DATA_LENGTH)if(y[0]===v)return y[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,y[2],u):ke.processFixedAI(4,y[1],u);throw new le}static processFixedAI(u,d,h){if(h.length<u)throw new le;let v=h.substring(0,u);if(h.length<u+d)throw new le;let y=h.substring(u,u+d),m=h.substring(u+d),C="("+v+")"+y,I=ke.parseFieldsInGeneralPurpose(m);return I==null?C:C+I}static processVariableAI(u,d,h){let v=h.substring(0,u),y;h.length<u+d?y=h.length:y=u+d;let m=h.substring(u,y),C=h.substring(y),I="("+v+")"+m,O=ke.parseFieldsInGeneralPurpose(C);return O==null?I:I+O}}ke.VARIABLE_LENGTH=[],ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ke.VARIABLE_LENGTH,20],["22",ke.VARIABLE_LENGTH,29],["30",ke.VARIABLE_LENGTH,8],["37",ke.VARIABLE_LENGTH,8],["90",ke.VARIABLE_LENGTH,30],["91",ke.VARIABLE_LENGTH,30],["92",ke.VARIABLE_LENGTH,30],["93",ke.VARIABLE_LENGTH,30],["94",ke.VARIABLE_LENGTH,30],["95",ke.VARIABLE_LENGTH,30],["96",ke.VARIABLE_LENGTH,30],["97",ke.VARIABLE_LENGTH,3],["98",ke.VARIABLE_LENGTH,30],["99",ke.VARIABLE_LENGTH,30]],ke.THREE_DIGIT_DATA_LENGTH=[["240",ke.VARIABLE_LENGTH,30],["241",ke.VARIABLE_LENGTH,30],["242",ke.VARIABLE_LENGTH,6],["250",ke.VARIABLE_LENGTH,30],["251",ke.VARIABLE_LENGTH,30],["253",ke.VARIABLE_LENGTH,17],["254",ke.VARIABLE_LENGTH,20],["400",ke.VARIABLE_LENGTH,30],["401",ke.VARIABLE_LENGTH,30],["402",17],["403",ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ke.VARIABLE_LENGTH,20],["421",ke.VARIABLE_LENGTH,15],["422",3],["423",ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ke.VARIABLE_LENGTH,15],["391",ke.VARIABLE_LENGTH,18],["392",ke.VARIABLE_LENGTH,15],["393",ke.VARIABLE_LENGTH,18],["703",ke.VARIABLE_LENGTH,30]],ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ke.VARIABLE_LENGTH,20],["8003",ke.VARIABLE_LENGTH,30],["8004",ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ke.VARIABLE_LENGTH,30],["8008",ke.VARIABLE_LENGTH,12],["8018",18],["8020",ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ke.VARIABLE_LENGTH,70],["8200",ke.VARIABLE_LENGTH,70]];class To{constructor(u){this.buffer=new Ee,this.information=u}decodeAllCodes(u,d){let h=d,v=null;do{let y=this.decodeGeneralPurposeField(h,v),m=ke.parseFieldsInGeneralPurpose(y.getNewString());if(m!=null&&u.append(m),y.isRemaining()?v=""+y.getRemainingValue():v=null,h===y.getNewPosition())break;h=y.getNewPosition()}while(!0);return u.toString()}isStillNumeric(u){if(u+7>this.information.getSize())return u+4<=this.information.getSize();for(let d=u;d<u+3;++d)if(this.information.get(d))return!0;return this.information.get(u+3)}decodeNumeric(u){if(u+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(u,4);return y===0?new Dn(this.information.getSize(),Dn.FNC1,Dn.FNC1):new Dn(this.information.getSize(),y-1,Dn.FNC1)}let d=this.extractNumericValueFromBitArray(u,7),h=(d-8)/11,v=(d-8)%11;return new Dn(u+7,h,v)}extractNumericValueFromBitArray(u,d){return To.extractNumericValueFromBitArray(this.information,u,d)}static extractNumericValueFromBitArray(u,d,h){let v=0;for(let y=0;y<h;++y)u.get(d+y)&&(v|=1<<h-y-1);return v}decodeGeneralPurposeField(u,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(u);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new $i(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new $i(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let u,d;do{let h=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),u=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),u=d.isFinished()):(d=this.parseNumericBlock(),u=d.isFinished()),!(h!==this.current.getPosition())&&!u)break}while(!u);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let u=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(u.getNewPosition()),u.isFirstDigitFNC1()){let d;return u.isSecondDigitFNC1()?d=new $i(this.current.getPosition(),this.buffer.toString()):d=new $i(this.current.getPosition(),this.buffer.toString(),u.getSecondDigit()),new Di(!0,d)}if(this.buffer.append(u.getFirstDigit()),u.isSecondDigitFNC1()){let d=new $i(this.current.getPosition(),this.buffer.toString());return new Di(!0,d)}this.buffer.append(u.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Di(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let u=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(u.getNewPosition()),u.isFNC1()){let d=new $i(this.current.getPosition(),this.buffer.toString());return new Di(!0,d)}this.buffer.append(u.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Di(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let u=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(u.getNewPosition()),u.isFNC1()){let d=new $i(this.current.getPosition(),this.buffer.toString());return new Di(!0,d)}this.buffer.append(u.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Di(!1)}isStillIsoIec646(u){if(u+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(u,5);if(d>=5&&d<16)return!0;if(u+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(u,7);if(h>=64&&h<116)return!0;if(u+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(u,8);return v>=232&&v<253}decodeIsoIec646(u){let d=this.extractNumericValueFromBitArray(u,5);if(d===15)return new Yr(u+5,Yr.FNC1);if(d>=5&&d<15)return new Yr(u+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(u,7);if(h>=64&&h<90)return new Yr(u+7,""+(h+1));if(h>=90&&h<116)return new Yr(u+7,""+(h+7));let v=this.extractNumericValueFromBitArray(u,8),y;switch(v){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new V}return new Yr(u+8,y)}isStillAlpha(u){if(u+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(u,5);if(d>=5&&d<16)return!0;if(u+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(u,6);return h>=16&&h<63}decodeAlphanumeric(u){let d=this.extractNumericValueFromBitArray(u,5);if(d===15)return new Yr(u+5,Yr.FNC1);if(d>=5&&d<15)return new Yr(u+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(u,6);if(h>=32&&h<58)return new Yr(u+6,""+(h+33));let v;switch(h){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new bi("Decoding invalid alphanumeric value: "+h)}return new Yr(u+6,v)}isAlphaTo646ToAlphaLatch(u){if(u+1>this.information.getSize())return!1;for(let d=0;d<5&&d+u<this.information.getSize();++d)if(d===2){if(!this.information.get(u+2))return!1}else if(this.information.get(u+d))return!1;return!0}isAlphaOr646ToNumericLatch(u){if(u+3>this.information.getSize())return!1;for(let d=u;d<u+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(u){if(u+1>this.information.getSize())return!1;for(let d=0;d<4&&d+u<this.information.getSize();++d)if(this.information.get(u+d))return!1;return!0}}class u1{constructor(u){this.information=u,this.generalDecoder=new To(u)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wn extends u1{constructor(u){super(u)}encodeCompressedGtin(u,d){u.append("(01)");let h=u.length();u.append("9"),this.encodeCompressedGtinWithoutAI(u,d,h)}encodeCompressedGtinWithoutAI(u,d,h){for(let v=0;v<4;++v){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*v,10);y/100===0&&u.append("0"),y/10===0&&u.append("0"),u.append(y)}Wn.appendCheckDigit(u,h)}static appendCheckDigit(u,d){let h=0;for(let v=0;v<13;v++){let y=u.charAt(v+d).charCodeAt(0)-48;h+=v&1?y:3*y}h=10-h%10,h===10&&(h=0),u.append(h)}}Wn.GTIN_SIZE=40;class vi extends Wn{constructor(u){super(u)}parseInformation(){let u=new Ee;u.append("(01)");let d=u.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(vi.HEADER_SIZE,4);return u.append(h),this.encodeCompressedGtinWithoutAI(u,vi.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(u,vi.HEADER_SIZE+44)}}vi.HEADER_SIZE=4;class ys extends u1{constructor(u){super(u)}parseInformation(){let u=new Ee;return this.getGeneralDecoder().decodeAllCodes(u,ys.HEADER_SIZE)}}ys.HEADER_SIZE=5;class ms extends Wn{constructor(u){super(u)}encodeCompressedWeight(u,d,h){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(d,h);this.addWeightCode(u,v);let y=this.checkWeight(v),m=1e5;for(let C=0;C<5;++C)y/m===0&&u.append("0"),m/=10;u.append(y)}}class Zi extends ms{constructor(u){super(u)}parseInformation(){if(this.getInformation().getSize()!=Zi.HEADER_SIZE+ms.GTIN_SIZE+Zi.WEIGHT_SIZE)throw new le;let u=new Ee;return this.encodeCompressedGtin(u,Zi.HEADER_SIZE),this.encodeCompressedWeight(u,Zi.HEADER_SIZE+ms.GTIN_SIZE,Zi.WEIGHT_SIZE),u.toString()}}Zi.HEADER_SIZE=5,Zi.WEIGHT_SIZE=15;class Il extends Zi{constructor(u){super(u)}addWeightCode(u,d){u.append("(3103)")}checkWeight(u){return u}}class Tl extends Zi{constructor(u){super(u)}addWeightCode(u,d){d<1e4?u.append("(3202)"):u.append("(3203)")}checkWeight(u){return u<1e4?u:u-1e4}}class Mi extends Wn{constructor(u){super(u)}parseInformation(){if(this.getInformation().getSize()<Mi.HEADER_SIZE+Wn.GTIN_SIZE)throw new le;let u=new Ee;this.encodeCompressedGtin(u,Mi.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Mi.HEADER_SIZE+Wn.GTIN_SIZE,Mi.LAST_DIGIT_SIZE);u.append("(392"),u.append(d),u.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Mi.HEADER_SIZE+Wn.GTIN_SIZE+Mi.LAST_DIGIT_SIZE,null);return u.append(h.getNewString()),u.toString()}}Mi.HEADER_SIZE=8,Mi.LAST_DIGIT_SIZE=2;class mn extends Wn{constructor(u){super(u)}parseInformation(){if(this.getInformation().getSize()<mn.HEADER_SIZE+Wn.GTIN_SIZE)throw new le;let u=new Ee;this.encodeCompressedGtin(u,mn.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(mn.HEADER_SIZE+Wn.GTIN_SIZE,mn.LAST_DIGIT_SIZE);u.append("(393"),u.append(d),u.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(mn.HEADER_SIZE+Wn.GTIN_SIZE+mn.LAST_DIGIT_SIZE,mn.FIRST_THREE_DIGITS_SIZE);h/100==0&&u.append("0"),h/10==0&&u.append("0"),u.append(h);let v=this.getGeneralDecoder().decodeGeneralPurposeField(mn.HEADER_SIZE+Wn.GTIN_SIZE+mn.LAST_DIGIT_SIZE+mn.FIRST_THREE_DIGITS_SIZE,null);return u.append(v.getNewString()),u.toString()}}mn.HEADER_SIZE=8,mn.LAST_DIGIT_SIZE=2,mn.FIRST_THREE_DIGITS_SIZE=10;class hr extends ms{constructor(u,d,h){super(u),this.dateCode=h,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=hr.HEADER_SIZE+hr.GTIN_SIZE+hr.WEIGHT_SIZE+hr.DATE_SIZE)throw new le;let u=new Ee;return this.encodeCompressedGtin(u,hr.HEADER_SIZE),this.encodeCompressedWeight(u,hr.HEADER_SIZE+hr.GTIN_SIZE,hr.WEIGHT_SIZE),this.encodeCompressedDate(u,hr.HEADER_SIZE+hr.GTIN_SIZE+hr.WEIGHT_SIZE),u.toString()}encodeCompressedDate(u,d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(d,hr.DATE_SIZE);if(h==38400)return;u.append("("),u.append(this.dateCode),u.append(")");let v=h%32;h/=32;let y=h%12+1;h/=12;let m=h;m/10==0&&u.append("0"),u.append(m),y/10==0&&u.append("0"),u.append(y),v/10==0&&u.append("0"),u.append(v)}addWeightCode(u,d){u.append("("),u.append(this.firstAIdigits),u.append(d/1e5),u.append(")")}checkWeight(u){return u%1e5}}hr.HEADER_SIZE=8,hr.WEIGHT_SIZE=20,hr.DATE_SIZE=16;function Ol(L){try{if(L.get(1))return new vi(L);if(!L.get(2))return new ys(L);switch(To.extractNumericValueFromBitArray(L,1,4)){case 4:return new Il(L);case 5:return new Tl(L)}switch(To.extractNumericValueFromBitArray(L,1,5)){case 12:return new Mi(L);case 13:return new mn(L)}switch(To.extractNumericValueFromBitArray(L,1,7)){case 56:return new hr(L,"310","11");case 57:return new hr(L,"320","11");case 58:return new hr(L,"310","13");case 59:return new hr(L,"320","13");case 60:return new hr(L,"310","15");case 61:return new hr(L,"320","15");case 62:return new hr(L,"310","17");case 63:return new hr(L,"320","17")}}catch(u){throw console.log(u),new bi("unknown decoder: "+L)}}class Kt{constructor(u,d,h,v){this.leftchar=u,this.rightchar=d,this.finderpattern=h,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(u,d){return u instanceof Kt?Kt.equalsOrNull(u.leftchar,d.leftchar)&&Kt.equalsOrNull(u.rightchar,d.rightchar)&&Kt.equalsOrNull(u.finderpattern,d.finderpattern):!1}static equalsOrNull(u,d){return u===null?d===null:Kt.equals(u,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class l1{constructor(u,d,h){this.pairs=u,this.rowNumber=d,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(u){return this.checkEqualitity(this,u)}toString(){return"{ "+this.pairs+" }"}equals(u,d){return u instanceof l1?this.checkEqualitity(u,d)&&u.wasReversed===d.wasReversed:!1}checkEqualitity(u,d){if(!u||!d)return;let h;return u.forEach((v,y)=>{d.forEach(m=>{v.getLeftChar().getValue()===m.getLeftChar().getValue()&&v.getRightChar().getValue()===m.getRightChar().getValue()&&v.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(h=!0)})}),h}}class we extends qr{constructor(u){super(...arguments),this.pairs=new Array(we.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=u===!0}decodeRow(u,d,h){this.pairs.length=0,this.startFromEven=!1;try{return we.constructResult(this.decodeRow2pairs(u,d))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,we.constructResult(this.decodeRow2pairs(u,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(u,d){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,u))}catch(y){if(y instanceof le){if(!this.pairs.length)throw new le;h=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(u,!1),v){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new le}checkRowsBoolean(u){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,u&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return u&&(this.rows=this.rows.reverse()),d}checkRows(u,d){for(let h=d;h<this.rows.length;h++){let v=this.rows[h];this.pairs.length=0;for(let m of u)this.pairs.push(m.getPairs());if(this.pairs.push(v.getPairs()),!we.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(u);y.push(v);try{return this.checkRows(y,h+1)}catch(m){this.verbose&&console.log(m)}}throw new le}static isValidSequence(u){for(let d of we.FINDER_PATTERN_SEQUENCES){if(u.length>d.length)continue;let h=!0;for(let v=0;v<u.length;v++)if(u[v].getFinderPattern().getValue()!=d[v]){h=!1;break}if(h)return!0}return!1}storeRow(u,d){let h=0,v=!1,y=!1;for(;h<this.rows.length;){let m=this.rows[h];if(m.getRowNumber()>u){y=m.isEquivalent(this.pairs);break}v=m.isEquivalent(this.pairs),h++}y||v||we.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new l1(this.pairs,u,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(u,d){for(let h of d)if(h.getPairs().length!==u.length){for(let v of h.getPairs())for(let y of u)if(Kt.equals(v,y))break}}static isPartialRow(u,d){for(let h of d){let v=!0;for(let y of u){let m=!1;for(let C of h.getPairs())if(y.equals(C)){m=!0;break}if(!m){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(u){let d=o1.buildBitArray(u),v=Ol(d).parseInformation(),y=u[0].getFinderPattern().getResultPoints(),m=u[u.length-1].getFinderPattern().getResultPoints(),C=[y[0],y[1],m[0],m[1]];return new Je(v,null,null,C,Re.RSS_EXPANDED,null)}checkChecksum(){let u=this.pairs.get(0),d=u.getLeftChar(),h=u.getRightChar();if(h==null)return!1;let v=h.getChecksumPortion(),y=2;for(let C=1;C<this.pairs.size();++C){let I=this.pairs.get(C);v+=I.getLeftChar().getChecksumPortion(),y++;let O=I.getRightChar();O!=null&&(v+=O.getChecksumPortion(),y++)}return v%=211,211*(y-4)+v==d.getValue()}static getNextSecondBar(u,d){let h;return u.get(d)?(h=u.getNextUnset(d),h=u.getNextSet(h)):(h=u.getNextSet(d),h=u.getNextUnset(h)),h}retrieveNextPair(u,d,h){let v=d.length%2==0;this.startFromEven&&(v=!v);let y,m=!0,C=-1;do this.findNextPair(u,d,C),y=this.parseFoundFinderPattern(u,h,v),y==null?C=we.getNextSecondBar(u,this.startEnd[0]):m=!1;while(m);let I=this.decodeDataCharacter(u,y,v,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new le;let O;try{O=this.decodeDataCharacter(u,y,v,!1)}catch(P){O=null,this.verbose&&console.log(P)}return new Kt(I,O,y,!0)}isEmptyPair(u){return u.length===0}findNextPair(u,d,h){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let y=u.getSize(),m;h>=0?m=h:this.isEmptyPair(d)?m=0:m=d[d.length-1].getFinderPattern().getStartEnd()[1];let C=d.length%2!=0;this.startFromEven&&(C=!C);let I=!1;for(;m<y&&(I=!u.get(m),!!I);)m++;let O=0,P=m;for(let F=m;F<y;F++)if(u.get(F)!=I)v[O]++;else{if(O==3){if(C&&we.reverseCounters(v),we.isFinderPattern(v)){this.startEnd[0]=P,this.startEnd[1]=F;return}C&&we.reverseCounters(v),P+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,O--}else O++;v[O]=1,I=!I}throw new le}static reverseCounters(u){let d=u.length;for(let h=0;h<d/2;++h){let v=u[h];u[h]=u[d-h-1],u[d-h-1]=v}}parseFoundFinderPattern(u,d,h){let v,y,m;if(h){let O=this.startEnd[0]-1;for(;O>=0&&!u.get(O);)O--;O++,v=this.startEnd[0]-O,y=O,m=this.startEnd[1]}else y=this.startEnd[0],m=u.getNextUnset(this.startEnd[1]+1),v=m-this.startEnd[1];let C=this.getDecodeFinderCounters();T.arraycopy(C,0,C,1,C.length-1),C[0]=v;let I;try{I=this.parseFinderValue(C,we.FINDER_PATTERNS)}catch{return null}return new xs(I,[y,m],y,m,d)}decodeDataCharacter(u,d,h,v){let y=this.getDataCharacterCounters();for(let zt=0;zt<y.length;zt++)y[zt]=0;if(v)we.recordPatternInReverse(u,d.getStartEnd()[0],y);else{we.recordPattern(u,d.getStartEnd()[1],y);for(let zt=0,Dr=y.length-1;zt<Dr;zt++,Dr--){let Bn=y[zt];y[zt]=y[Dr],y[Dr]=Bn}}let m=17,C=St.sum(new Int32Array(y))/m,I=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(C-I)/I>.3)throw new le;let O=this.getOddCounts(),P=this.getEvenCounts(),F=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let zt=0;zt<y.length;zt++){let Dr=1*y[zt]/C,Bn=Dr+.5;if(Bn<1){if(Dr<.3)throw new le;Bn=1}else if(Bn>8){if(Dr>8.7)throw new le;Bn=8}let so=zt/2;zt&1?(P[so]=Bn,H[so]=Dr-Bn):(O[so]=Bn,F[so]=Dr-Bn)}this.adjustOddEvenCounts(m);let Y=4*d.getValue()+(h?0:2)+(v?0:1)-1,Q=0,ee=0;for(let zt=O.length-1;zt>=0;zt--){if(we.isNotA1left(d,h,v)){let Dr=we.WEIGHTS[Y][2*zt];ee+=O[zt]*Dr}Q+=O[zt]}let ne=0;for(let zt=P.length-1;zt>=0;zt--)if(we.isNotA1left(d,h,v)){let Dr=we.WEIGHTS[Y][2*zt+1];ne+=P[zt]*Dr}let fe=ee+ne;if(Q&1||Q>13||Q<4)throw new le;let Ie=(13-Q)/2,Te=we.SYMBOL_WIDEST[Ie],Ce=9-Te,yt=Gn.getRSSvalue(O,Te,!0),dt=Gn.getRSSvalue(P,Ce,!1),Yn=we.EVEN_TOTAL_SUBSET[Ie],ki=we.GSUM[Ie],Wr=yt*Yn+dt+ki;return new ka(Wr,fe)}static isNotA1left(u,d,h){return!(u.getValue()==0&&d&&h)}adjustOddEvenCounts(u){let d=St.sum(new Int32Array(this.getOddCounts())),h=St.sum(new Int32Array(this.getEvenCounts())),v=!1,y=!1;d>13?y=!0:d<4&&(v=!0);let m=!1,C=!1;h>13?C=!0:h<4&&(m=!0);let I=d+h-u,O=(d&1)==1,P=(h&1)==0;if(I==1)if(O){if(P)throw new le;y=!0}else{if(!P)throw new le;C=!0}else if(I==-1)if(O){if(P)throw new le;v=!0}else{if(!P)throw new le;m=!0}else if(I==0){if(O){if(!P)throw new le;d<h?(v=!0,C=!0):(y=!0,m=!0)}else if(P)throw new le}else throw new le;if(v){if(y)throw new le;we.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&we.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(C)throw new le;we.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&we.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}we.SYMBOL_WIDEST=[7,5,4,3,1],we.EVEN_TOTAL_SUBSET=[4,20,52,104,204],we.GSUM=[0,348,1388,2948,3988],we.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],we.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],we.FINDER_PAT_A=0,we.FINDER_PAT_B=1,we.FINDER_PAT_C=2,we.FINDER_PAT_D=3,we.FINDER_PAT_E=4,we.FINDER_PAT_F=5,we.FINDER_PATTERN_SEQUENCES=[[we.FINDER_PAT_A,we.FINDER_PAT_A],[we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B],[we.FINDER_PAT_A,we.FINDER_PAT_C,we.FINDER_PAT_B,we.FINDER_PAT_D],[we.FINDER_PAT_A,we.FINDER_PAT_E,we.FINDER_PAT_B,we.FINDER_PAT_D,we.FINDER_PAT_C],[we.FINDER_PAT_A,we.FINDER_PAT_E,we.FINDER_PAT_B,we.FINDER_PAT_D,we.FINDER_PAT_D,we.FINDER_PAT_F],[we.FINDER_PAT_A,we.FINDER_PAT_E,we.FINDER_PAT_B,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_F,we.FINDER_PAT_F],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_D],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_E],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_F,we.FINDER_PAT_F],[we.FINDER_PAT_A,we.FINDER_PAT_A,we.FINDER_PAT_B,we.FINDER_PAT_B,we.FINDER_PAT_C,we.FINDER_PAT_D,we.FINDER_PAT_D,we.FINDER_PAT_E,we.FINDER_PAT_E,we.FINDER_PAT_F,we.FINDER_PAT_F]],we.MAX_PAIRS=11;class Nl extends ka{constructor(u,d,h){super(u,d),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class cr extends qr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(u,d,h){const v=this.decodePair(d,!1,u,h);cr.addOrTally(this.possibleLeftPairs,v),d.reverse();let y=this.decodePair(d,!0,u,h);cr.addOrTally(this.possibleRightPairs,y),d.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&cr.checkChecksum(m,C))return cr.constructResult(m,C)}throw new le}static addOrTally(u,d){if(d==null)return;let h=!1;for(let v of u)if(v.getValue()===d.getValue()){v.incrementCount(),h=!0;break}h||u.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(u,d){let h=4537077*u.getValue()+d.getValue(),v=new String(h).toString(),y=new Ee;for(let O=13-v.length;O>0;O--)y.append("0");y.append(v);let m=0;for(let O=0;O<13;O++){let P=y.charAt(O).charCodeAt(0)-48;m+=O&1?P:3*P}m=10-m%10,m===10&&(m=0),y.append(m.toString());let C=u.getFinderPattern().getResultPoints(),I=d.getFinderPattern().getResultPoints();return new Je(y.toString(),null,0,[C[0],C[1],I[0],I[1]],Re.RSS_14,new Date().getTime())}static checkChecksum(u,d){let h=(u.getChecksumPortion()+16*d.getChecksumPortion())%79,v=9*u.getFinderPattern().getValue()+d.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,h===v}decodePair(u,d,h,v){try{let y=this.findFinderPattern(u,d),m=this.parseFoundFinderPattern(u,h,d,y),C=v==null?null:v.get($.NEED_RESULT_POINT_CALLBACK);if(C!=null){let P=(y[0]+y[1])/2;d&&(P=u.getSize()-1-P),C.foundPossibleResultPoint(new je(P,h))}let I=this.decodeDataCharacter(u,m,!0),O=this.decodeDataCharacter(u,m,!1);return new Nl(1597*I.getValue()+O.getValue(),I.getChecksumPortion()+4*O.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(u,d,h){let v=this.getDataCharacterCounters();for(let ne=0;ne<v.length;ne++)v[ne]=0;if(h)Rr.recordPatternInReverse(u,d.getStartEnd()[0],v);else{Rr.recordPattern(u,d.getStartEnd()[1]+1,v);for(let ne=0,fe=v.length-1;ne<fe;ne++,fe--){let Ie=v[ne];v[ne]=v[fe],v[fe]=Ie}}let y=h?16:15,m=St.sum(new Int32Array(v))/y,C=this.getOddCounts(),I=this.getEvenCounts(),O=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let ne=0;ne<v.length;ne++){let fe=v[ne]/m,Ie=Math.floor(fe+.5);Ie<1?Ie=1:Ie>8&&(Ie=8);let Te=Math.floor(ne/2);ne&1?(I[Te]=Ie,P[Te]=fe-Ie):(C[Te]=Ie,O[Te]=fe-Ie)}this.adjustOddEvenCounts(h,y);let F=0,H=0;for(let ne=C.length-1;ne>=0;ne--)H*=9,H+=C[ne],F+=C[ne];let Y=0,Q=0;for(let ne=I.length-1;ne>=0;ne--)Y*=9,Y+=I[ne],Q+=I[ne];let ee=H+3*Y;if(h){if(F&1||F>12||F<4)throw new le;let ne=(12-F)/2,fe=cr.OUTSIDE_ODD_WIDEST[ne],Ie=9-fe,Te=Gn.getRSSvalue(C,fe,!1),Ce=Gn.getRSSvalue(I,Ie,!0),yt=cr.OUTSIDE_EVEN_TOTAL_SUBSET[ne],dt=cr.OUTSIDE_GSUM[ne];return new ka(Te*yt+Ce+dt,ee)}else{if(Q&1||Q>10||Q<4)throw new le;let ne=(10-Q)/2,fe=cr.INSIDE_ODD_WIDEST[ne],Ie=9-fe,Te=Gn.getRSSvalue(C,fe,!0),Ce=Gn.getRSSvalue(I,Ie,!1),yt=cr.INSIDE_ODD_TOTAL_SUBSET[ne],dt=cr.INSIDE_GSUM[ne];return new ka(Ce*yt+Te+dt,ee)}}findFinderPattern(u,d){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let v=u.getSize(),y=!1,m=0;for(;m<v&&(y=!u.get(m),d!==y);)m++;let C=0,I=m;for(let O=m;O<v;O++)if(u.get(O)!==y)h[C]++;else{if(C===3){if(qr.isFinderPattern(h))return[I,O];I+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,y=!y}throw new le}parseFoundFinderPattern(u,d,h,v){let y=u.get(v[0]),m=v[0]-1;for(;m>=0&&y!==u.get(m);)m--;m++;const C=v[0]-m,I=this.getDecodeFinderCounters(),O=new Int32Array(I.length);T.arraycopy(I,0,O,1,I.length-1),O[0]=C;const P=this.parseFinderValue(O,cr.FINDER_PATTERNS);let F=m,H=v[1];return h&&(F=u.getSize()-1-F,H=u.getSize()-1-H),new xs(P,[m,v[1]],F,H,d)}adjustOddEvenCounts(u,d){let h=St.sum(new Int32Array(this.getOddCounts())),v=St.sum(new Int32Array(this.getEvenCounts())),y=!1,m=!1,C=!1,I=!1;u?(h>12?m=!0:h<4&&(y=!0),v>12?I=!0:v<4&&(C=!0)):(h>11?m=!0:h<5&&(y=!0),v>10?I=!0:v<4&&(C=!0));let O=h+v-d,P=(h&1)===(u?1:0),F=(v&1)===1;if(O===1)if(P){if(F)throw new le;m=!0}else{if(!F)throw new le;I=!0}else if(O===-1)if(P){if(F)throw new le;y=!0}else{if(!F)throw new le;C=!0}else if(O===0){if(P){if(!F)throw new le;h<v?(y=!0,I=!0):(m=!0,C=!0)}else if(F)throw new le}else throw new le;if(y){if(m)throw new le;qr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&qr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(I)throw new le;qr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&qr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}cr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],cr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],cr.OUTSIDE_GSUM=[0,161,961,2015,2715],cr.INSIDE_GSUM=[0,336,1036,1516],cr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],cr.INSIDE_ODD_WIDEST=[2,4,6,8],cr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Oo extends Rr{constructor(u,d){super(),this.readers=[],this.verbose=d===!0;const h=u?u.get($.POSSIBLE_FORMATS):null,v=u&&u.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Re.EAN_13)||h.includes(Re.UPC_A)||h.includes(Re.EAN_8)||h.includes(Re.UPC_E))&&this.readers.push(new su(u)),h.includes(Re.CODE_39)&&this.readers.push(new Vr(v)),h.includes(Re.CODE_128)&&this.readers.push(new De),h.includes(Re.ITF)&&this.readers.push(new Vt),h.includes(Re.RSS_14)&&this.readers.push(new cr),h.includes(Re.RSS_EXPANDED)&&this.readers.push(new we(this.verbose))):(this.readers.push(new su(u)),this.readers.push(new Vr),this.readers.push(new su(u)),this.readers.push(new De),this.readers.push(new Vt),this.readers.push(new cr),this.readers.push(new we(this.verbose)))}decodeRow(u,d,h){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(u,d,h)}catch{}throw new le}reset(){this.readers.forEach(u=>u.reset())}}class bl extends lt{constructor(u=500,d){super(new Oo(d),u,d)}}class Rt{constructor(u,d,h){this.ecCodewords=u,this.ecBlocks=[d],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gt{constructor(u,d){this.count=u,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(u,d,h,v,y,m){this.versionNumber=u,this.symbolSizeRows=d,this.symbolSizeColumns=h,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=y,this.ecBlocks=m;let C=0;const I=m.getECCodewords(),O=m.getECBlocks();for(let P of O)C+=P.getCount()*(P.getDataCodewords()+I);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(u,d){if(u&1||d&1)throw new V;for(let h of It.VERSIONS)if(h.symbolSizeRows===u&&h.symbolSizeColumns===d)return h;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new It(1,10,10,8,8,new Rt(5,new gt(1,3))),new It(2,12,12,10,10,new Rt(7,new gt(1,5))),new It(3,14,14,12,12,new Rt(10,new gt(1,8))),new It(4,16,16,14,14,new Rt(12,new gt(1,12))),new It(5,18,18,16,16,new Rt(14,new gt(1,18))),new It(6,20,20,18,18,new Rt(18,new gt(1,22))),new It(7,22,22,20,20,new Rt(20,new gt(1,30))),new It(8,24,24,22,22,new Rt(24,new gt(1,36))),new It(9,26,26,24,24,new Rt(28,new gt(1,44))),new It(10,32,32,14,14,new Rt(36,new gt(1,62))),new It(11,36,36,16,16,new Rt(42,new gt(1,86))),new It(12,40,40,18,18,new Rt(48,new gt(1,114))),new It(13,44,44,20,20,new Rt(56,new gt(1,144))),new It(14,48,48,22,22,new Rt(68,new gt(1,174))),new It(15,52,52,24,24,new Rt(42,new gt(2,102))),new It(16,64,64,14,14,new Rt(56,new gt(2,140))),new It(17,72,72,16,16,new Rt(36,new gt(4,92))),new It(18,80,80,18,18,new Rt(48,new gt(4,114))),new It(19,88,88,20,20,new Rt(56,new gt(4,144))),new It(20,96,96,22,22,new Rt(68,new gt(4,174))),new It(21,104,104,24,24,new Rt(56,new gt(6,136))),new It(22,120,120,18,18,new Rt(68,new gt(6,175))),new It(23,132,132,20,20,new Rt(62,new gt(8,163))),new It(24,144,144,22,22,new Rt(62,new gt(8,156),new gt(2,155))),new It(25,8,18,6,16,new Rt(7,new gt(1,5))),new It(26,8,32,6,14,new Rt(11,new gt(1,10))),new It(27,12,26,10,24,new Rt(14,new gt(1,16))),new It(28,12,36,10,16,new Rt(18,new gt(1,22))),new It(29,16,36,14,16,new Rt(24,new gt(1,32))),new It(30,16,48,14,22,new Rt(28,new gt(1,49)))]}}It.VERSIONS=It.buildVersions();class ii{constructor(u){const d=u.getHeight();if(d<8||d>144||d&1)throw new V;this.version=ii.readVersion(u),this.mappingBitMatrix=this.extractDataRegion(u),this.readMappingMatrix=new Ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(u){const d=u.getHeight(),h=u.getWidth();return It.getVersionForDimensions(d,h)}readCodewords(){const u=new Int8Array(this.version.getTotalCodewords());let d=0,h=4,v=0;const y=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let C=!1,I=!1,O=!1,P=!1;do if(h===y&&v===0&&!C)u[d++]=this.readCorner1(y,m)&255,h-=2,v+=2,C=!0;else if(h===y-2&&v===0&&m&3&&!I)u[d++]=this.readCorner2(y,m)&255,h-=2,v+=2,I=!0;else if(h===y+4&&v===2&&!(m&7)&&!O)u[d++]=this.readCorner3(y,m)&255,h-=2,v+=2,O=!0;else if(h===y-2&&v===0&&(m&7)===4&&!P)u[d++]=this.readCorner4(y,m)&255,h-=2,v+=2,P=!0;else{do h<y&&v>=0&&!this.readMappingMatrix.get(v,h)&&(u[d++]=this.readUtah(h,v,y,m)&255),h-=2,v+=2;while(h>=0&&v<m);h+=1,v+=3;do h>=0&&v<m&&!this.readMappingMatrix.get(v,h)&&(u[d++]=this.readUtah(h,v,y,m)&255),h+=2,v-=2;while(h<y&&v>=0);h+=3,v+=1}while(h<y||v<m);if(d!==this.version.getTotalCodewords())throw new V;return u}readModule(u,d,h,v){return u<0&&(u+=h,d+=4-(h+4&7)),d<0&&(d+=v,u+=4-(v+4&7)),this.readMappingMatrix.set(d,u),this.mappingBitMatrix.get(d,u)}readUtah(u,d,h,v){let y=0;return this.readModule(u-2,d-2,h,v)&&(y|=1),y<<=1,this.readModule(u-2,d-1,h,v)&&(y|=1),y<<=1,this.readModule(u-1,d-2,h,v)&&(y|=1),y<<=1,this.readModule(u-1,d-1,h,v)&&(y|=1),y<<=1,this.readModule(u-1,d,h,v)&&(y|=1),y<<=1,this.readModule(u,d-2,h,v)&&(y|=1),y<<=1,this.readModule(u,d-1,h,v)&&(y|=1),y<<=1,this.readModule(u,d,h,v)&&(y|=1),y}readCorner1(u,d){let h=0;return this.readModule(u-1,0,u,d)&&(h|=1),h<<=1,this.readModule(u-1,1,u,d)&&(h|=1),h<<=1,this.readModule(u-1,2,u,d)&&(h|=1),h<<=1,this.readModule(0,d-2,u,d)&&(h|=1),h<<=1,this.readModule(0,d-1,u,d)&&(h|=1),h<<=1,this.readModule(1,d-1,u,d)&&(h|=1),h<<=1,this.readModule(2,d-1,u,d)&&(h|=1),h<<=1,this.readModule(3,d-1,u,d)&&(h|=1),h}readCorner2(u,d){let h=0;return this.readModule(u-3,0,u,d)&&(h|=1),h<<=1,this.readModule(u-2,0,u,d)&&(h|=1),h<<=1,this.readModule(u-1,0,u,d)&&(h|=1),h<<=1,this.readModule(0,d-4,u,d)&&(h|=1),h<<=1,this.readModule(0,d-3,u,d)&&(h|=1),h<<=1,this.readModule(0,d-2,u,d)&&(h|=1),h<<=1,this.readModule(0,d-1,u,d)&&(h|=1),h<<=1,this.readModule(1,d-1,u,d)&&(h|=1),h}readCorner3(u,d){let h=0;return this.readModule(u-1,0,u,d)&&(h|=1),h<<=1,this.readModule(u-1,d-1,u,d)&&(h|=1),h<<=1,this.readModule(0,d-3,u,d)&&(h|=1),h<<=1,this.readModule(0,d-2,u,d)&&(h|=1),h<<=1,this.readModule(0,d-1,u,d)&&(h|=1),h<<=1,this.readModule(1,d-3,u,d)&&(h|=1),h<<=1,this.readModule(1,d-2,u,d)&&(h|=1),h<<=1,this.readModule(1,d-1,u,d)&&(h|=1),h}readCorner4(u,d){let h=0;return this.readModule(u-3,0,u,d)&&(h|=1),h<<=1,this.readModule(u-2,0,u,d)&&(h|=1),h<<=1,this.readModule(u-1,0,u,d)&&(h|=1),h<<=1,this.readModule(0,d-2,u,d)&&(h|=1),h<<=1,this.readModule(0,d-1,u,d)&&(h|=1),h<<=1,this.readModule(1,d-1,u,d)&&(h|=1),h<<=1,this.readModule(2,d-1,u,d)&&(h|=1),h<<=1,this.readModule(3,d-1,u,d)&&(h|=1),h}extractDataRegion(u){const d=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(u.getHeight()!==d)throw new x("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),m=d/v|0,C=h/y|0,I=m*v,O=C*y,P=new Ye(O,I);for(let F=0;F<m;++F){const H=F*v;for(let Y=0;Y<C;++Y){const Q=Y*y;for(let ee=0;ee<v;++ee){const ne=F*(v+2)+1+ee,fe=H+ee;for(let Ie=0;Ie<y;++Ie){const Te=Y*(y+2)+1+Ie;if(u.get(Te,ne)){const Ce=Q+Ie;P.set(Ce,fe)}}}}}return P}}class c1{constructor(u,d){this.numDataCodewords=u,this.codewords=d}static getDataBlocks(u,d){const h=d.getECBlocks();let v=0;const y=h.getECBlocks();for(let ee of y)v+=ee.getCount();const m=new Array(v);let C=0;for(let ee of y)for(let ne=0;ne<ee.getCount();ne++){const fe=ee.getDataCodewords(),Ie=h.getECCodewords()+fe;m[C++]=new c1(fe,new Uint8Array(Ie))}const O=m[0].codewords.length-h.getECCodewords(),P=O-1;let F=0;for(let ee=0;ee<P;ee++)for(let ne=0;ne<C;ne++)m[ne].codewords[ee]=u[F++];const H=d.getVersionNumber()===24,Y=H?8:C;for(let ee=0;ee<Y;ee++)m[ee].codewords[O-1]=u[F++];const Q=m[0].codewords.length;for(let ee=O;ee<Q;ee++)for(let ne=0;ne<C;ne++){const fe=H?(ne+8)%C:ne,Ie=H&&fe>7?ee-1:ee;m[fe].codewords[Ie]=u[F++]}if(F!==u.length)throw new x;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class f1{constructor(u){this.bytes=u,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(u){if(u<1||u>32||u>this.available())throw new x(""+u);let d=0,h=this.bitOffset,v=this.byteOffset;const y=this.bytes;if(h>0){const m=8-h,C=u<m?u:m,I=m-C,O=255>>8-C<<I;d=(y[v]&O)>>I,u-=C,h+=C,h===8&&(h=0,v++)}if(u>0){for(;u>=8;)d=d<<8|y[v]&255,v++,u-=8;if(u>0){const m=8-u,C=255>>m<<m;d=d<<u|(y[v]&C)>>m,h+=u}}return this.bitOffset=h,this.byteOffset=v,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var zr;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(zr||(zr={}));class Pi{static decode(u){const d=new f1(u),h=new Ee,v=new Ee,y=new Array;let m=zr.ASCII_ENCODE;do if(m===zr.ASCII_ENCODE)m=this.decodeAsciiSegment(d,h,v);else{switch(m){case zr.C40_ENCODE:this.decodeC40Segment(d,h);break;case zr.TEXT_ENCODE:this.decodeTextSegment(d,h);break;case zr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,h);break;case zr.EDIFACT_ENCODE:this.decodeEdifactSegment(d,h);break;case zr.BASE256_ENCODE:this.decodeBase256Segment(d,h,y);break;default:throw new V}m=zr.ASCII_ENCODE}while(m!==zr.PAD_ENCODE&&d.available()>0);return v.length()>0&&h.append(v.toString()),new Zt(u,h.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(u,d,h){let v=!1;do{let y=u.readBits(8);if(y===0)throw new V;if(y<=128)return v&&(y+=128),d.append(String.fromCharCode(y-1)),zr.ASCII_ENCODE;if(y===129)return zr.PAD_ENCODE;if(y<=229){const m=y-130;m<10&&d.append("0"),d.append(""+m)}else switch(y){case 230:return zr.C40_ENCODE;case 231:return zr.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:d.append("[)>05"),h.insert(0,"");break;case 237:d.append("[)>06"),h.insert(0,"");break;case 238:return zr.ANSIX12_ENCODE;case 239:return zr.TEXT_ENCODE;case 240:return zr.EDIFACT_ENCODE;case 241:break;default:if(y!==254||u.available()!==0)throw new V;break}}while(u.available()>0);return zr.ASCII_ENCODE}static decodeC40Segment(u,d){let h=!1;const v=[];let y=0;do{if(u.available()===8)return;const m=u.readBits(8);if(m===254)return;this.parseTwoBytes(m,u.readBits(8),v);for(let C=0;C<3;C++){const I=v[C];switch(y){case 0:if(I<3)y=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const O=this.C40_BASIC_SET_CHARS[I];h?(d.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):d.append(O)}else throw new V;break;case 1:h?(d.append(String.fromCharCode(I+128)),h=!1):d.append(String.fromCharCode(I)),y=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const O=this.C40_SHIFT2_SET_CHARS[I];h?(d.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):d.append(O)}else switch(I){case 27:d.append("");break;case 30:h=!0;break;default:throw new V}y=0;break;case 3:h?(d.append(String.fromCharCode(I+224)),h=!1):d.append(String.fromCharCode(I+96)),y=0;break;default:throw new V}}}while(u.available()>0)}static decodeTextSegment(u,d){let h=!1,v=[],y=0;do{if(u.available()===8)return;const m=u.readBits(8);if(m===254)return;this.parseTwoBytes(m,u.readBits(8),v);for(let C=0;C<3;C++){const I=v[C];switch(y){case 0:if(I<3)y=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const O=this.TEXT_BASIC_SET_CHARS[I];h?(d.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):d.append(O)}else throw new V;break;case 1:h?(d.append(String.fromCharCode(I+128)),h=!1):d.append(String.fromCharCode(I)),y=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const O=this.TEXT_SHIFT2_SET_CHARS[I];h?(d.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):d.append(O)}else switch(I){case 27:d.append("");break;case 30:h=!0;break;default:throw new V}y=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const O=this.TEXT_SHIFT3_SET_CHARS[I];h?(d.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):d.append(O),y=0}else throw new V;break;default:throw new V}}}while(u.available()>0)}static decodeAnsiX12Segment(u,d){const h=[];do{if(u.available()===8)return;const v=u.readBits(8);if(v===254)return;this.parseTwoBytes(v,u.readBits(8),h);for(let y=0;y<3;y++){const m=h[y];switch(m){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(m<14)d.append(String.fromCharCode(m+44));else if(m<40)d.append(String.fromCharCode(m+51));else throw new V;break}}}while(u.available()>0)}static parseTwoBytes(u,d,h){let v=(u<<8)+d-1,y=Math.floor(v/1600);h[0]=y,v-=y*1600,y=Math.floor(v/40),h[1]=y,h[2]=v-y*40}static decodeEdifactSegment(u,d){do{if(u.available()<=16)return;for(let h=0;h<4;h++){let v=u.readBits(6);if(v===31){const y=8-u.getBitOffset();y!==8&&u.readBits(y);return}v&32||(v|=64),d.append(String.fromCharCode(v))}}while(u.available()>0)}static decodeBase256Segment(u,d,h){let v=1+u.getByteOffset();const y=this.unrandomize255State(u.readBits(8),v++);let m;if(y===0?m=u.available()/8|0:y<250?m=y:m=250*(y-249)+this.unrandomize255State(u.readBits(8),v++),m<0)throw new V;const C=new Uint8Array(m);for(let I=0;I<m;I++){if(u.available()<8)throw new V;C[I]=this.unrandomize255State(u.readBits(8),v++)}h.push(C);try{d.append(Be.decode(C,ge.ISO88591))}catch(I){throw new bi("Platform does not support required encoding: "+I.message)}}static unrandomize255State(u,d){const h=149*d%255+1,v=u-h;return v>=0?v:v+256}}Pi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pi.TEXT_SHIFT2_SET_CHARS=Pi.C40_SHIFT2_SET_CHARS,Pi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class uu{constructor(){this.rsDecoder=new _o(Nt.DATA_MATRIX_FIELD_256)}decode(u){const d=new ii(u),h=d.getVersion(),v=d.readCodewords(),y=c1.getDataBlocks(v,h);let m=0;for(let O of y)m+=O.getNumDataCodewords();const C=new Uint8Array(m),I=y.length;for(let O=0;O<I;O++){const P=y[O],F=P.getCodewords(),H=P.getNumDataCodewords();this.correctErrors(F,H);for(let Y=0;Y<H;Y++)C[Y*I+O]=F[Y]}return Pi.decode(C)}correctErrors(u,d){const h=new Int32Array(u);try{this.rsDecoder.decode(h,u.length-d)}catch{throw new E}for(let v=0;v<d;v++)u[v]=h[v]}}class fr{constructor(u){this.image=u,this.rectangleDetector=new Yi(this.image)}detect(){const u=this.rectangleDetector.detect();let d=this.detectSolid1(u);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new le;d=this.shiftToModuleCenter(d);const h=d[0],v=d[1],y=d[2],m=d[3];let C=this.transitionsBetween(h,m)+1,I=this.transitionsBetween(y,m)+1;(C&1)===1&&(C+=1),(I&1)===1&&(I+=1),4*C<7*I&&4*I<7*C&&(C=I=Math.max(C,I));let O=fr.sampleGrid(this.image,h,v,y,m,C,I);return new So(O,[h,v,y,m])}static shiftPoint(u,d,h){let v=(d.getX()-u.getX())/(h+1),y=(d.getY()-u.getY())/(h+1);return new je(u.getX()+v,u.getY()+y)}static moveAway(u,d,h){let v=u.getX(),y=u.getY();return v<d?v-=1:v+=1,y<h?y-=1:y+=1,new je(v,y)}detectSolid1(u){let d=u[0],h=u[1],v=u[3],y=u[2],m=this.transitionsBetween(d,h),C=this.transitionsBetween(h,v),I=this.transitionsBetween(v,y),O=this.transitionsBetween(y,d),P=m,F=[y,d,h,v];return P>C&&(P=C,F[0]=d,F[1]=h,F[2]=v,F[3]=y),P>I&&(P=I,F[0]=h,F[1]=v,F[2]=y,F[3]=d),P>O&&(F[0]=v,F[1]=y,F[2]=d,F[3]=h),F}detectSolid2(u){let d=u[0],h=u[1],v=u[2],y=u[3],m=this.transitionsBetween(d,y),C=fr.shiftPoint(h,v,(m+1)*4),I=fr.shiftPoint(v,h,(m+1)*4),O=this.transitionsBetween(C,d),P=this.transitionsBetween(I,y);return O<P?(u[0]=d,u[1]=h,u[2]=v,u[3]=y):(u[0]=h,u[1]=v,u[2]=y,u[3]=d),u}correctTopRight(u){let d=u[0],h=u[1],v=u[2],y=u[3],m=this.transitionsBetween(d,y),C=this.transitionsBetween(h,y),I=fr.shiftPoint(d,h,(C+1)*4),O=fr.shiftPoint(v,h,(m+1)*4);m=this.transitionsBetween(I,y),C=this.transitionsBetween(O,y);let P=new je(y.getX()+(v.getX()-h.getX())/(m+1),y.getY()+(v.getY()-h.getY())/(m+1)),F=new je(y.getX()+(d.getX()-h.getX())/(C+1),y.getY()+(d.getY()-h.getY())/(C+1));if(!this.isValid(P))return this.isValid(F)?F:null;if(!this.isValid(F))return P;let H=this.transitionsBetween(I,P)+this.transitionsBetween(O,P),Y=this.transitionsBetween(I,F)+this.transitionsBetween(O,F);return H>Y?P:F}shiftToModuleCenter(u){let d=u[0],h=u[1],v=u[2],y=u[3],m=this.transitionsBetween(d,y)+1,C=this.transitionsBetween(v,y)+1,I=fr.shiftPoint(d,h,C*4),O=fr.shiftPoint(v,h,m*4);m=this.transitionsBetween(I,y)+1,C=this.transitionsBetween(O,y)+1,(m&1)===1&&(m+=1),(C&1)===1&&(C+=1);let P=(d.getX()+h.getX()+v.getX()+y.getX())/4,F=(d.getY()+h.getY()+v.getY()+y.getY())/4;d=fr.moveAway(d,P,F),h=fr.moveAway(h,P,F),v=fr.moveAway(v,P,F),y=fr.moveAway(y,P,F);let H,Y;return I=fr.shiftPoint(d,h,C*4),I=fr.shiftPoint(I,y,m*4),H=fr.shiftPoint(h,d,C*4),H=fr.shiftPoint(H,v,m*4),O=fr.shiftPoint(v,y,C*4),O=fr.shiftPoint(O,h,m*4),Y=fr.shiftPoint(y,v,C*4),Y=fr.shiftPoint(Y,d,m*4),[I,H,O,Y]}isValid(u){return u.getX()>=0&&u.getX()<this.image.getWidth()&&u.getY()>0&&u.getY()<this.image.getHeight()}static sampleGrid(u,d,h,v,y,m,C){return Ri.getInstance().sampleGrid(u,m,C,.5,.5,m-.5,.5,m-.5,C-.5,.5,C-.5,d.getX(),d.getY(),y.getX(),y.getY(),v.getX(),v.getY(),h.getX(),h.getY())}transitionsBetween(u,d){let h=Math.trunc(u.getX()),v=Math.trunc(u.getY()),y=Math.trunc(d.getX()),m=Math.trunc(d.getY()),C=Math.abs(m-v)>Math.abs(y-h);if(C){let ee=h;h=v,v=ee,ee=y,y=m,m=ee}let I=Math.abs(y-h),O=Math.abs(m-v),P=-I/2,F=v<m?1:-1,H=h<y?1:-1,Y=0,Q=this.image.get(C?v:h,C?h:v);for(let ee=h,ne=v;ee!==y;ee+=H){let fe=this.image.get(C?ne:ee,C?ee:ne);if(fe!==Q&&(Y++,Q=fe),P+=O,P>0){if(ne===m)break;ne+=F,P-=I}}return Y}}class Bi{constructor(){this.decoder=new uu}decode(u,d=null){let h,v;if(d!=null&&d.has($.PURE_BARCODE)){const O=Bi.extractPureBits(u.getBlackMatrix());h=this.decoder.decode(O),v=Bi.NO_POINTS}else{const O=new fr(u.getBlackMatrix()).detect();h=this.decoder.decode(O.getBits()),v=O.getPoints()}const y=h.getRawBytes(),m=new Je(h.getText(),y,8*y.length,v,Re.DATA_MATRIX,T.currentTimeMillis()),C=h.getByteSegments();C!=null&&m.putMetadata(ut.BYTE_SEGMENTS,C);const I=h.getECLevel();return I!=null&&m.putMetadata(ut.ERROR_CORRECTION_LEVEL,I),m}reset(){}static extractPureBits(u){const d=u.getTopLeftOnBit(),h=u.getBottomRightOnBit();if(d==null||h==null)throw new le;const v=this.moduleSize(d,u);let y=d[1];const m=h[1];let C=d[0];const O=(h[0]-C+1)/v,P=(m-y+1)/v;if(O<=0||P<=0)throw new le;const F=v/2;y+=F,C+=F;const H=new Ye(O,P);for(let Y=0;Y<P;Y++){const Q=y+Y*v;for(let ee=0;ee<O;ee++)u.get(C+ee*v,Q)&&H.set(ee,Y)}return H}static moduleSize(u,d){const h=d.getWidth();let v=u[0];const y=u[1];for(;v<h&&d.get(v,y);)v++;if(v===h)throw new le;const m=v-u[0];if(m===0)throw new le;return m}}Bi.NO_POINTS=[];class Gf extends lt{constructor(u=500){super(new Bi,u)}}var No;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(No||(No={}));class Qt{constructor(u,d,h){this.value=u,this.stringValue=d,this.bits=h,Qt.FOR_BITS.set(h,this),Qt.FOR_VALUE.set(u,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(u){switch(u){case"L":return Qt.L;case"M":return Qt.M;case"Q":return Qt.Q;case"H":return Qt.H;default:throw new g(u+"not available")}}toString(){return this.stringValue}equals(u){if(!(u instanceof Qt))return!1;const d=u;return this.value===d.value}static forBits(u){if(u<0||u>=Qt.FOR_BITS.size)throw new x;return Qt.FOR_BITS.get(u)}}Qt.FOR_BITS=new Map,Qt.FOR_VALUE=new Map,Qt.L=new Qt(No.L,"L",1),Qt.M=new Qt(No.M,"M",0),Qt.Q=new Qt(No.Q,"Q",3),Qt.H=new Qt(No.H,"H",2);class Jr{constructor(u){this.errorCorrectionLevel=Qt.forBits(u>>3&3),this.dataMask=u&7}static numBitsDiffering(u,d){return B.bitCount(u^d)}static decodeFormatInformation(u,d){const h=Jr.doDecodeFormatInformation(u,d);return h!==null?h:Jr.doDecodeFormatInformation(u^Jr.FORMAT_INFO_MASK_QR,d^Jr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(u,d){let h=Number.MAX_SAFE_INTEGER,v=0;for(const y of Jr.FORMAT_INFO_DECODE_LOOKUP){const m=y[0];if(m===u||m===d)return new Jr(y[1]);let C=Jr.numBitsDiffering(u,m);C<h&&(v=y[1],h=C),u!==d&&(C=Jr.numBitsDiffering(d,m),C<h&&(v=y[1],h=C))}return h<=3?new Jr(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(u){if(!(u instanceof Jr))return!1;const d=u;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}Jr.FORMAT_INFO_MASK_QR=21522,Jr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ae{constructor(u,...d){this.ecCodewordsPerBlock=u,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let u=0;const d=this.ecBlocks;for(const h of d)u+=h.getCount();return u}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class G{constructor(u,d){this.count=u,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(u,d,...h){this.versionNumber=u,this.alignmentPatternCenters=d,this.ecBlocks=h;let v=0;const y=h[0].getECCodewordsPerBlock(),m=h[0].getECBlocks();for(const C of m)v+=C.getCount()*(C.getDataCodewords()+y);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(u){return this.ecBlocks[u.getValue()]}static getProvisionalVersionForDimension(u){if(u%4!==1)throw new V;try{return this.getVersionForNumber((u-17)/4)}catch{throw new V}}static getVersionForNumber(u){if(u<1||u>40)throw new x;return Ke.VERSIONS[u-1]}static decodeVersionInformation(u){let d=Number.MAX_SAFE_INTEGER,h=0;for(let v=0;v<Ke.VERSION_DECODE_INFO.length;v++){const y=Ke.VERSION_DECODE_INFO[v];if(y===u)return Ke.getVersionForNumber(v+7);const m=Jr.numBitsDiffering(u,y);m<d&&(h=v+7,d=m)}return d<=3?Ke.getVersionForNumber(h):null}buildFunctionPattern(){const u=this.getDimensionForVersion(),d=new Ye(u);d.setRegion(0,0,9,9),d.setRegion(u-8,0,8,9),d.setRegion(0,u-8,9,8);const h=this.alignmentPatternCenters.length;for(let v=0;v<h;v++){const y=this.alignmentPatternCenters[v]-2;for(let m=0;m<h;m++)v===0&&(m===0||m===h-1)||v===h-1&&m===0||d.setRegion(this.alignmentPatternCenters[m]-2,y,5,5)}return d.setRegion(6,9,1,u-17),d.setRegion(9,6,u-17,1),this.versionNumber>6&&(d.setRegion(u-11,0,3,6),d.setRegion(0,u-11,6,3)),d}toString(){return""+this.versionNumber}}Ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ke.VERSIONS=[new Ke(1,new Int32Array(0),new ae(7,new G(1,19)),new ae(10,new G(1,16)),new ae(13,new G(1,13)),new ae(17,new G(1,9))),new Ke(2,Int32Array.from([6,18]),new ae(10,new G(1,34)),new ae(16,new G(1,28)),new ae(22,new G(1,22)),new ae(28,new G(1,16))),new Ke(3,Int32Array.from([6,22]),new ae(15,new G(1,55)),new ae(26,new G(1,44)),new ae(18,new G(2,17)),new ae(22,new G(2,13))),new Ke(4,Int32Array.from([6,26]),new ae(20,new G(1,80)),new ae(18,new G(2,32)),new ae(26,new G(2,24)),new ae(16,new G(4,9))),new Ke(5,Int32Array.from([6,30]),new ae(26,new G(1,108)),new ae(24,new G(2,43)),new ae(18,new G(2,15),new G(2,16)),new ae(22,new G(2,11),new G(2,12))),new Ke(6,Int32Array.from([6,34]),new ae(18,new G(2,68)),new ae(16,new G(4,27)),new ae(24,new G(4,19)),new ae(28,new G(4,15))),new Ke(7,Int32Array.from([6,22,38]),new ae(20,new G(2,78)),new ae(18,new G(4,31)),new ae(18,new G(2,14),new G(4,15)),new ae(26,new G(4,13),new G(1,14))),new Ke(8,Int32Array.from([6,24,42]),new ae(24,new G(2,97)),new ae(22,new G(2,38),new G(2,39)),new ae(22,new G(4,18),new G(2,19)),new ae(26,new G(4,14),new G(2,15))),new Ke(9,Int32Array.from([6,26,46]),new ae(30,new G(2,116)),new ae(22,new G(3,36),new G(2,37)),new ae(20,new G(4,16),new G(4,17)),new ae(24,new G(4,12),new G(4,13))),new Ke(10,Int32Array.from([6,28,50]),new ae(18,new G(2,68),new G(2,69)),new ae(26,new G(4,43),new G(1,44)),new ae(24,new G(6,19),new G(2,20)),new ae(28,new G(6,15),new G(2,16))),new Ke(11,Int32Array.from([6,30,54]),new ae(20,new G(4,81)),new ae(30,new G(1,50),new G(4,51)),new ae(28,new G(4,22),new G(4,23)),new ae(24,new G(3,12),new G(8,13))),new Ke(12,Int32Array.from([6,32,58]),new ae(24,new G(2,92),new G(2,93)),new ae(22,new G(6,36),new G(2,37)),new ae(26,new G(4,20),new G(6,21)),new ae(28,new G(7,14),new G(4,15))),new Ke(13,Int32Array.from([6,34,62]),new ae(26,new G(4,107)),new ae(22,new G(8,37),new G(1,38)),new ae(24,new G(8,20),new G(4,21)),new ae(22,new G(12,11),new G(4,12))),new Ke(14,Int32Array.from([6,26,46,66]),new ae(30,new G(3,115),new G(1,116)),new ae(24,new G(4,40),new G(5,41)),new ae(20,new G(11,16),new G(5,17)),new ae(24,new G(11,12),new G(5,13))),new Ke(15,Int32Array.from([6,26,48,70]),new ae(22,new G(5,87),new G(1,88)),new ae(24,new G(5,41),new G(5,42)),new ae(30,new G(5,24),new G(7,25)),new ae(24,new G(11,12),new G(7,13))),new Ke(16,Int32Array.from([6,26,50,74]),new ae(24,new G(5,98),new G(1,99)),new ae(28,new G(7,45),new G(3,46)),new ae(24,new G(15,19),new G(2,20)),new ae(30,new G(3,15),new G(13,16))),new Ke(17,Int32Array.from([6,30,54,78]),new ae(28,new G(1,107),new G(5,108)),new ae(28,new G(10,46),new G(1,47)),new ae(28,new G(1,22),new G(15,23)),new ae(28,new G(2,14),new G(17,15))),new Ke(18,Int32Array.from([6,30,56,82]),new ae(30,new G(5,120),new G(1,121)),new ae(26,new G(9,43),new G(4,44)),new ae(28,new G(17,22),new G(1,23)),new ae(28,new G(2,14),new G(19,15))),new Ke(19,Int32Array.from([6,30,58,86]),new ae(28,new G(3,113),new G(4,114)),new ae(26,new G(3,44),new G(11,45)),new ae(26,new G(17,21),new G(4,22)),new ae(26,new G(9,13),new G(16,14))),new Ke(20,Int32Array.from([6,34,62,90]),new ae(28,new G(3,107),new G(5,108)),new ae(26,new G(3,41),new G(13,42)),new ae(30,new G(15,24),new G(5,25)),new ae(28,new G(15,15),new G(10,16))),new Ke(21,Int32Array.from([6,28,50,72,94]),new ae(28,new G(4,116),new G(4,117)),new ae(26,new G(17,42)),new ae(28,new G(17,22),new G(6,23)),new ae(30,new G(19,16),new G(6,17))),new Ke(22,Int32Array.from([6,26,50,74,98]),new ae(28,new G(2,111),new G(7,112)),new ae(28,new G(17,46)),new ae(30,new G(7,24),new G(16,25)),new ae(24,new G(34,13))),new Ke(23,Int32Array.from([6,30,54,78,102]),new ae(30,new G(4,121),new G(5,122)),new ae(28,new G(4,47),new G(14,48)),new ae(30,new G(11,24),new G(14,25)),new ae(30,new G(16,15),new G(14,16))),new Ke(24,Int32Array.from([6,28,54,80,106]),new ae(30,new G(6,117),new G(4,118)),new ae(28,new G(6,45),new G(14,46)),new ae(30,new G(11,24),new G(16,25)),new ae(30,new G(30,16),new G(2,17))),new Ke(25,Int32Array.from([6,32,58,84,110]),new ae(26,new G(8,106),new G(4,107)),new ae(28,new G(8,47),new G(13,48)),new ae(30,new G(7,24),new G(22,25)),new ae(30,new G(22,15),new G(13,16))),new Ke(26,Int32Array.from([6,30,58,86,114]),new ae(28,new G(10,114),new G(2,115)),new ae(28,new G(19,46),new G(4,47)),new ae(28,new G(28,22),new G(6,23)),new ae(30,new G(33,16),new G(4,17))),new Ke(27,Int32Array.from([6,34,62,90,118]),new ae(30,new G(8,122),new G(4,123)),new ae(28,new G(22,45),new G(3,46)),new ae(30,new G(8,23),new G(26,24)),new ae(30,new G(12,15),new G(28,16))),new Ke(28,Int32Array.from([6,26,50,74,98,122]),new ae(30,new G(3,117),new G(10,118)),new ae(28,new G(3,45),new G(23,46)),new ae(30,new G(4,24),new G(31,25)),new ae(30,new G(11,15),new G(31,16))),new Ke(29,Int32Array.from([6,30,54,78,102,126]),new ae(30,new G(7,116),new G(7,117)),new ae(28,new G(21,45),new G(7,46)),new ae(30,new G(1,23),new G(37,24)),new ae(30,new G(19,15),new G(26,16))),new Ke(30,Int32Array.from([6,26,52,78,104,130]),new ae(30,new G(5,115),new G(10,116)),new ae(28,new G(19,47),new G(10,48)),new ae(30,new G(15,24),new G(25,25)),new ae(30,new G(23,15),new G(25,16))),new Ke(31,Int32Array.from([6,30,56,82,108,134]),new ae(30,new G(13,115),new G(3,116)),new ae(28,new G(2,46),new G(29,47)),new ae(30,new G(42,24),new G(1,25)),new ae(30,new G(23,15),new G(28,16))),new Ke(32,Int32Array.from([6,34,60,86,112,138]),new ae(30,new G(17,115)),new ae(28,new G(10,46),new G(23,47)),new ae(30,new G(10,24),new G(35,25)),new ae(30,new G(19,15),new G(35,16))),new Ke(33,Int32Array.from([6,30,58,86,114,142]),new ae(30,new G(17,115),new G(1,116)),new ae(28,new G(14,46),new G(21,47)),new ae(30,new G(29,24),new G(19,25)),new ae(30,new G(11,15),new G(46,16))),new Ke(34,Int32Array.from([6,34,62,90,118,146]),new ae(30,new G(13,115),new G(6,116)),new ae(28,new G(14,46),new G(23,47)),new ae(30,new G(44,24),new G(7,25)),new ae(30,new G(59,16),new G(1,17))),new Ke(35,Int32Array.from([6,30,54,78,102,126,150]),new ae(30,new G(12,121),new G(7,122)),new ae(28,new G(12,47),new G(26,48)),new ae(30,new G(39,24),new G(14,25)),new ae(30,new G(22,15),new G(41,16))),new Ke(36,Int32Array.from([6,24,50,76,102,128,154]),new ae(30,new G(6,121),new G(14,122)),new ae(28,new G(6,47),new G(34,48)),new ae(30,new G(46,24),new G(10,25)),new ae(30,new G(2,15),new G(64,16))),new Ke(37,Int32Array.from([6,28,54,80,106,132,158]),new ae(30,new G(17,122),new G(4,123)),new ae(28,new G(29,46),new G(14,47)),new ae(30,new G(49,24),new G(10,25)),new ae(30,new G(24,15),new G(46,16))),new Ke(38,Int32Array.from([6,32,58,84,110,136,162]),new ae(30,new G(4,122),new G(18,123)),new ae(28,new G(13,46),new G(32,47)),new ae(30,new G(48,24),new G(14,25)),new ae(30,new G(42,15),new G(32,16))),new Ke(39,Int32Array.from([6,26,54,82,110,138,166]),new ae(30,new G(20,117),new G(4,118)),new ae(28,new G(40,47),new G(7,48)),new ae(30,new G(43,24),new G(22,25)),new ae(30,new G(10,15),new G(67,16))),new Ke(40,Int32Array.from([6,30,58,86,114,142,170]),new ae(30,new G(19,118),new G(6,119)),new ae(28,new G(18,47),new G(31,48)),new ae(30,new G(34,24),new G(34,25)),new ae(30,new G(20,15),new G(61,16)))];var Fr;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(Fr||(Fr={}));class vt{constructor(u,d){this.value=u,this.isMasked=d}unmaskBitMatrix(u,d){for(let h=0;h<d;h++)for(let v=0;v<d;v++)this.isMasked(h,v)&&u.flip(v,h)}}vt.values=new Map([[Fr.DATA_MASK_000,new vt(Fr.DATA_MASK_000,(L,u)=>(L+u&1)===0)],[Fr.DATA_MASK_001,new vt(Fr.DATA_MASK_001,(L,u)=>(L&1)===0)],[Fr.DATA_MASK_010,new vt(Fr.DATA_MASK_010,(L,u)=>u%3===0)],[Fr.DATA_MASK_011,new vt(Fr.DATA_MASK_011,(L,u)=>(L+u)%3===0)],[Fr.DATA_MASK_100,new vt(Fr.DATA_MASK_100,(L,u)=>(Math.floor(L/2)+Math.floor(u/3)&1)===0)],[Fr.DATA_MASK_101,new vt(Fr.DATA_MASK_101,(L,u)=>L*u%6===0)],[Fr.DATA_MASK_110,new vt(Fr.DATA_MASK_110,(L,u)=>L*u%6<3)],[Fr.DATA_MASK_111,new vt(Fr.DATA_MASK_111,(L,u)=>(L+u+L*u%3&1)===0)]]);class Rl{constructor(u){const d=u.getHeight();if(d<21||(d&3)!==1)throw new V;this.bitMatrix=u}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let u=0;for(let y=0;y<6;y++)u=this.copyBit(y,8,u);u=this.copyBit(7,8,u),u=this.copyBit(8,8,u),u=this.copyBit(8,7,u);for(let y=5;y>=0;y--)u=this.copyBit(8,y,u);const d=this.bitMatrix.getHeight();let h=0;const v=d-7;for(let y=d-1;y>=v;y--)h=this.copyBit(8,y,h);for(let y=d-8;y<d;y++)h=this.copyBit(y,8,h);if(this.parsedFormatInfo=Jr.decodeFormatInformation(u,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const u=this.bitMatrix.getHeight(),d=Math.floor((u-17)/4);if(d<=6)return Ke.getVersionForNumber(d);let h=0;const v=u-11;for(let m=5;m>=0;m--)for(let C=u-9;C>=v;C--)h=this.copyBit(C,m,h);let y=Ke.decodeVersionInformation(h);if(y!==null&&y.getDimensionForVersion()===u)return this.parsedVersion=y,y;h=0;for(let m=5;m>=0;m--)for(let C=u-9;C>=v;C--)h=this.copyBit(m,C,h);if(y=Ke.decodeVersionInformation(h),y!==null&&y.getDimensionForVersion()===u)return this.parsedVersion=y,y;throw new V}copyBit(u,d,h){return(this.isMirror?this.bitMatrix.get(d,u):this.bitMatrix.get(u,d))?h<<1|1:h<<1}readCodewords(){const u=this.readFormatInformation(),d=this.readVersion(),h=vt.values.get(u.getDataMask()),v=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,v);const y=d.buildFunctionPattern();let m=!0;const C=new Uint8Array(d.getTotalCodewords());let I=0,O=0,P=0;for(let F=v-1;F>0;F-=2){F===6&&F--;for(let H=0;H<v;H++){const Y=m?v-1-H:H;for(let Q=0;Q<2;Q++)y.get(F-Q,Y)||(P++,O<<=1,this.bitMatrix.get(F-Q,Y)&&(O|=1),P===8&&(C[I++]=O,P=0,O=0))}m=!m}if(I!==d.getTotalCodewords())throw new V;return C}remask(){if(this.parsedFormatInfo===null)return;const u=vt.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,d)}setMirror(u){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=u}mirror(){const u=this.bitMatrix;for(let d=0,h=u.getWidth();d<h;d++)for(let v=d+1,y=u.getHeight();v<y;v++)u.get(d,v)!==u.get(v,d)&&(u.flip(v,d),u.flip(d,v))}}class lu{constructor(u,d){this.numDataCodewords=u,this.codewords=d}static getDataBlocks(u,d,h){if(u.length!==d.getTotalCodewords())throw new x;const v=d.getECBlocksForLevel(h);let y=0;const m=v.getECBlocks();for(const Q of m)y+=Q.getCount();const C=new Array(y);let I=0;for(const Q of m)for(let ee=0;ee<Q.getCount();ee++){const ne=Q.getDataCodewords(),fe=v.getECCodewordsPerBlock()+ne;C[I++]=new lu(ne,new Uint8Array(fe))}const O=C[0].codewords.length;let P=C.length-1;for(;P>=0&&C[P].codewords.length!==O;)P--;P++;const F=O-v.getECCodewordsPerBlock();let H=0;for(let Q=0;Q<F;Q++)for(let ee=0;ee<I;ee++)C[ee].codewords[Q]=u[H++];for(let Q=P;Q<I;Q++)C[Q].codewords[F]=u[H++];const Y=C[0].codewords.length;for(let Q=F;Q<Y;Q++)for(let ee=0;ee<I;ee++){const ne=ee<P?Q:Q+1;C[ee].codewords[ne]=u[H++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Xn;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})(Xn||(Xn={}));class qe{constructor(u,d,h,v){this.value=u,this.stringValue=d,this.characterCountBitsForVersions=h,this.bits=v,qe.FOR_BITS.set(v,this),qe.FOR_VALUE.set(u,this)}static forBits(u){const d=qe.FOR_BITS.get(u);if(d===void 0)throw new x;return d}getCharacterCountBits(u){const d=u.getVersionNumber();let h;return d<=9?h=0:d<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(u){if(!(u instanceof qe))return!1;const d=u;return this.value===d.value}toString(){return this.stringValue}}qe.FOR_BITS=new Map,qe.FOR_VALUE=new Map,qe.TERMINATOR=new qe(Xn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),qe.NUMERIC=new qe(Xn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),qe.ALPHANUMERIC=new qe(Xn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),qe.STRUCTURED_APPEND=new qe(Xn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),qe.BYTE=new qe(Xn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),qe.ECI=new qe(Xn.ECI,"ECI",Int32Array.from([0,0,0]),7),qe.KANJI=new qe(Xn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),qe.FNC1_FIRST_POSITION=new qe(Xn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),qe.FNC1_SECOND_POSITION=new qe(Xn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),qe.HANZI=new qe(Xn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class pr{static decode(u,d,h,v){const y=new f1(u);let m=new Ee;const C=new Array;let I=-1,O=-1;try{let P=null,F=!1,H;do{if(y.available()<4)H=qe.TERMINATOR;else{const Y=y.readBits(4);H=qe.forBits(Y)}switch(H){case qe.TERMINATOR:break;case qe.FNC1_FIRST_POSITION:case qe.FNC1_SECOND_POSITION:F=!0;break;case qe.STRUCTURED_APPEND:if(y.available()<16)throw new V;I=y.readBits(8),O=y.readBits(8);break;case qe.ECI:const Y=pr.parseECIValue(y);if(P=q.getCharacterSetECIByValue(Y),P===null)throw new V;break;case qe.HANZI:const Q=y.readBits(4),ee=y.readBits(H.getCharacterCountBits(d));Q===pr.GB2312_SUBSET&&pr.decodeHanziSegment(y,m,ee);break;default:const ne=y.readBits(H.getCharacterCountBits(d));switch(H){case qe.NUMERIC:pr.decodeNumericSegment(y,m,ne);break;case qe.ALPHANUMERIC:pr.decodeAlphanumericSegment(y,m,ne,F);break;case qe.BYTE:pr.decodeByteSegment(y,m,ne,P,C,v);break;case qe.KANJI:pr.decodeKanjiSegment(y,m,ne);break;default:throw new V}break}}while(H!==qe.TERMINATOR)}catch{throw new V}return new Zt(u,m.toString(),C.length===0?null:C,h===null?null:h.toString(),I,O)}static decodeHanziSegment(u,d,h){if(h*13>u.available())throw new V;const v=new Uint8Array(2*h);let y=0;for(;h>0;){const m=u.readBits(13);let C=m/96<<8&4294967295|m%96;C<959?C+=41377:C+=42657,v[y]=C>>8&255,v[y+1]=C&255,y+=2,h--}try{d.append(Be.decode(v,ge.GB2312))}catch(m){throw new V(m)}}static decodeKanjiSegment(u,d,h){if(h*13>u.available())throw new V;const v=new Uint8Array(2*h);let y=0;for(;h>0;){const m=u.readBits(13);let C=m/192<<8&4294967295|m%192;C<7936?C+=33088:C+=49472,v[y]=C>>8,v[y+1]=C,y+=2,h--}try{d.append(Be.decode(v,ge.SHIFT_JIS))}catch(m){throw new V(m)}}static decodeByteSegment(u,d,h,v,y,m){if(8*h>u.available())throw new V;const C=new Uint8Array(h);for(let O=0;O<h;O++)C[O]=u.readBits(8);let I;v===null?I=ge.guessEncoding(C,m):I=v.getName();try{d.append(Be.decode(C,I))}catch(O){throw new V(O)}y.push(C)}static toAlphaNumericChar(u){if(u>=pr.ALPHANUMERIC_CHARS.length)throw new V;return pr.ALPHANUMERIC_CHARS[u]}static decodeAlphanumericSegment(u,d,h,v){const y=d.length();for(;h>1;){if(u.available()<11)throw new V;const m=u.readBits(11);d.append(pr.toAlphaNumericChar(Math.floor(m/45))),d.append(pr.toAlphaNumericChar(m%45)),h-=2}if(h===1){if(u.available()<6)throw new V;d.append(pr.toAlphaNumericChar(u.readBits(6)))}if(v)for(let m=y;m<d.length();m++)d.charAt(m)==="%"&&(m<d.length()-1&&d.charAt(m+1)==="%"?d.deleteCharAt(m+1):d.setCharAt(m,""))}static decodeNumericSegment(u,d,h){for(;h>=3;){if(u.available()<10)throw new V;const v=u.readBits(10);if(v>=1e3)throw new V;d.append(pr.toAlphaNumericChar(Math.floor(v/100))),d.append(pr.toAlphaNumericChar(Math.floor(v/10)%10)),d.append(pr.toAlphaNumericChar(v%10)),h-=3}if(h===2){if(u.available()<7)throw new V;const v=u.readBits(7);if(v>=100)throw new V;d.append(pr.toAlphaNumericChar(Math.floor(v/10))),d.append(pr.toAlphaNumericChar(v%10))}else if(h===1){if(u.available()<4)throw new V;const v=u.readBits(4);if(v>=10)throw new V;d.append(pr.toAlphaNumericChar(v))}}static parseECIValue(u){const d=u.readBits(8);if(!(d&128))return d&127;if((d&192)===128){const h=u.readBits(8);return(d&63)<<8&4294967295|h}if((d&224)===192){const h=u.readBits(16);return(d&31)<<16&4294967295|h}throw new V}}pr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",pr.GB2312_SUBSET=1;class d1{constructor(u){this.mirrored=u}isMirrored(){return this.mirrored}applyMirroredCorrection(u){if(!this.mirrored||u===null||u.length<3)return;const d=u[0];u[0]=u[2],u[2]=d}}class h1{constructor(){this.rsDecoder=new _o(Nt.QR_CODE_FIELD_256)}decodeBooleanArray(u,d){return this.decodeBitMatrix(Ye.parseFromBooleanArray(u),d)}decodeBitMatrix(u,d){const h=new Rl(u);let v=null;try{return this.decodeBitMatrixParser(h,d)}catch(y){v=y}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const y=this.decodeBitMatrixParser(h,d);return y.setOther(new d1(!0)),y}catch(y){throw v!==null?v:y}}decodeBitMatrixParser(u,d){const h=u.readVersion(),v=u.readFormatInformation().getErrorCorrectionLevel(),y=u.readCodewords(),m=lu.getDataBlocks(y,h,v);let C=0;for(const P of m)C+=P.getNumDataCodewords();const I=new Uint8Array(C);let O=0;for(const P of m){const F=P.getCodewords(),H=P.getNumDataCodewords();this.correctErrors(F,H);for(let Y=0;Y<H;Y++)I[O++]=F[Y]}return pr.decode(I,h,v,d)}correctErrors(u,d){const h=new Int32Array(u);try{this.rsDecoder.decode(h,u.length-d)}catch{throw new E}for(let v=0;v<d;v++)u[v]=h[v]}}class bo extends je{constructor(u,d,h){super(u,d),this.estimatedModuleSize=h}aboutEquals(u,d,h){if(Math.abs(d-this.getY())<=u&&Math.abs(h-this.getX())<=u){const v=Math.abs(u-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(u,d,h){const v=(this.getX()+d)/2,y=(this.getY()+u)/2,m=(this.estimatedModuleSize+h)/2;return new bo(v,y,m)}}class Li{constructor(u,d,h,v,y,m,C){this.image=u,this.startX=d,this.startY=h,this.width=v,this.height=y,this.moduleSize=m,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const u=this.startX,d=this.height,h=this.width,v=u+h,y=this.startY+d/2,m=new Int32Array(3),C=this.image;for(let I=0;I<d;I++){const O=y+(I&1?-Math.floor((I+1)/2):Math.floor((I+1)/2));m[0]=0,m[1]=0,m[2]=0;let P=u;for(;P<v&&!C.get(P,O);)P++;let F=0;for(;P<v;){if(C.get(P,O))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,O,P);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;P++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,O,v);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(u,d){return d-u[2]-u[1]/2}foundPatternCross(u){const d=this.moduleSize,h=d/2;for(let v=0;v<3;v++)if(Math.abs(d-u[v])>=h)return!1;return!0}crossCheckVertical(u,d,h,v){const y=this.image,m=y.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let I=u;for(;I>=0&&y.get(d,I)&&C[1]<=h;)C[1]++,I--;if(I<0||C[1]>h)return NaN;for(;I>=0&&!y.get(d,I)&&C[0]<=h;)C[0]++,I--;if(C[0]>h)return NaN;for(I=u+1;I<m&&y.get(d,I)&&C[1]<=h;)C[1]++,I++;if(I===m||C[1]>h)return NaN;for(;I<m&&!y.get(d,I)&&C[2]<=h;)C[2]++,I++;if(C[2]>h)return NaN;const O=C[0]+C[1]+C[2];return 5*Math.abs(O-v)>=2*v?NaN:this.foundPatternCross(C)?Li.centerFromEnd(C,I):NaN}handlePossibleCenter(u,d,h){const v=u[0]+u[1]+u[2],y=Li.centerFromEnd(u,h),m=this.crossCheckVertical(d,y,2*u[1],v);if(!isNaN(m)){const C=(u[0]+u[1]+u[2])/3;for(const O of this.possibleCenters)if(O.aboutEquals(C,m,y))return O.combineEstimate(m,y,C);const I=new bo(y,m,C);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class Ki extends je{constructor(u,d,h,v){super(u,d),this.estimatedModuleSize=h,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(u,d,h){if(Math.abs(d-this.getY())<=u&&Math.abs(h-this.getX())<=u){const v=Math.abs(u-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(u,d,h){const v=this.count+1,y=(this.count*this.getX()+d)/v,m=(this.count*this.getY()+u)/v,C=(this.count*this.estimatedModuleSize+h)/v;return new Ki(y,m,C,v)}}class Ua{constructor(u){this.bottomLeft=u[0],this.topLeft=u[1],this.topRight=u[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Tr{constructor(u,d){this.image=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(u){const d=u!=null&&u.get($.TRY_HARDER)!==void 0,h=u!=null&&u.get($.PURE_BARCODE)!==void 0,v=this.image,y=v.getHeight(),m=v.getWidth();let C=Math.floor(3*y/(4*Tr.MAX_MODULES));(C<Tr.MIN_SKIP||d)&&(C=Tr.MIN_SKIP);let I=!1;const O=new Int32Array(5);for(let F=C-1;F<y&&!I;F+=C){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let H=0;for(let Y=0;Y<m;Y++)if(v.get(Y,F))(H&1)===1&&H++,O[H]++;else if(H&1)O[H]++;else if(H===4)if(Tr.foundPatternCross(O)){if(this.handlePossibleCenter(O,F,Y,h)===!0)if(C=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>O[2]&&(F+=ee-O[2]-C,Y=m-1)}else{O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,H=3;continue}H=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,H=3;else O[++H]++;Tr.foundPatternCross(O)&&this.handlePossibleCenter(O,F,m,h)===!0&&(C=O[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return je.orderBestPatterns(P),new Ua(P)}static centerFromEnd(u,d){return d-u[4]-u[3]-u[2]/2}static foundPatternCross(u){let d=0;for(let y=0;y<5;y++){const m=u[y];if(m===0)return!1;d+=m}if(d<7)return!1;const h=d/7,v=h/2;return Math.abs(h-u[0])<v&&Math.abs(h-u[1])<v&&Math.abs(3*h-u[2])<3*v&&Math.abs(h-u[3])<v&&Math.abs(h-u[4])<v}getCrossCheckStateCount(){const u=this.crossCheckStateCount;return u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u}crossCheckDiagonal(u,d,h,v){const y=this.getCrossCheckStateCount();let m=0;const C=this.image;for(;u>=m&&d>=m&&C.get(d-m,u-m);)y[2]++,m++;if(u<m||d<m)return!1;for(;u>=m&&d>=m&&!C.get(d-m,u-m)&&y[1]<=h;)y[1]++,m++;if(u<m||d<m||y[1]>h)return!1;for(;u>=m&&d>=m&&C.get(d-m,u-m)&&y[0]<=h;)y[0]++,m++;if(y[0]>h)return!1;const I=C.getHeight(),O=C.getWidth();for(m=1;u+m<I&&d+m<O&&C.get(d+m,u+m);)y[2]++,m++;if(u+m>=I||d+m>=O)return!1;for(;u+m<I&&d+m<O&&!C.get(d+m,u+m)&&y[3]<h;)y[3]++,m++;if(u+m>=I||d+m>=O||y[3]>=h)return!1;for(;u+m<I&&d+m<O&&C.get(d+m,u+m)&&y[4]<h;)y[4]++,m++;if(y[4]>=h)return!1;const P=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(P-v)<2*v&&Tr.foundPatternCross(y)}crossCheckVertical(u,d,h,v){const y=this.image,m=y.getHeight(),C=this.getCrossCheckStateCount();let I=u;for(;I>=0&&y.get(d,I);)C[2]++,I--;if(I<0)return NaN;for(;I>=0&&!y.get(d,I)&&C[1]<=h;)C[1]++,I--;if(I<0||C[1]>h)return NaN;for(;I>=0&&y.get(d,I)&&C[0]<=h;)C[0]++,I--;if(C[0]>h)return NaN;for(I=u+1;I<m&&y.get(d,I);)C[2]++,I++;if(I===m)return NaN;for(;I<m&&!y.get(d,I)&&C[3]<h;)C[3]++,I++;if(I===m||C[3]>=h)return NaN;for(;I<m&&y.get(d,I)&&C[4]<h;)C[4]++,I++;if(C[4]>=h)return NaN;const O=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(O-v)>=2*v?NaN:Tr.foundPatternCross(C)?Tr.centerFromEnd(C,I):NaN}crossCheckHorizontal(u,d,h,v){const y=this.image,m=y.getWidth(),C=this.getCrossCheckStateCount();let I=u;for(;I>=0&&y.get(I,d);)C[2]++,I--;if(I<0)return NaN;for(;I>=0&&!y.get(I,d)&&C[1]<=h;)C[1]++,I--;if(I<0||C[1]>h)return NaN;for(;I>=0&&y.get(I,d)&&C[0]<=h;)C[0]++,I--;if(C[0]>h)return NaN;for(I=u+1;I<m&&y.get(I,d);)C[2]++,I++;if(I===m)return NaN;for(;I<m&&!y.get(I,d)&&C[3]<h;)C[3]++,I++;if(I===m||C[3]>=h)return NaN;for(;I<m&&y.get(I,d)&&C[4]<h;)C[4]++,I++;if(C[4]>=h)return NaN;const O=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(O-v)>=v?NaN:Tr.foundPatternCross(C)?Tr.centerFromEnd(C,I):NaN}handlePossibleCenter(u,d,h,v){const y=u[0]+u[1]+u[2]+u[3]+u[4];let m=Tr.centerFromEnd(u,h),C=this.crossCheckVertical(d,Math.floor(m),u[2],y);if(!isNaN(C)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(C),u[2],y),!isNaN(m)&&(!v||this.crossCheckDiagonal(Math.floor(C),Math.floor(m),u[2],y)))){const I=y/7;let O=!1;const P=this.possibleCenters;for(let F=0,H=P.length;F<H;F++){const Y=P[F];if(Y.aboutEquals(I,C,m)){P[F]=Y.combineEstimate(C,m,I),O=!0;break}}if(!O){const F=new Ki(m,C,I);P.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const h of this.possibleCenters)if(h.getCount()>=Tr.CENTER_QUORUM)if(d==null)d=h;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-h.getX())-Math.abs(d.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let u=0,d=0;const h=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Tr.CENTER_QUORUM&&(u++,d+=m.getEstimatedModuleSize());if(u<3)return!1;const v=d/h;let y=0;for(const m of this.possibleCenters)y+=Math.abs(m.getEstimatedModuleSize()-v);return y<=.05*d}selectBestPatterns(){const u=this.possibleCenters.length;if(u<3)throw new le;const d=this.possibleCenters;let h;if(u>3){let v=0,y=0;for(const I of this.possibleCenters){const O=I.getEstimatedModuleSize();v+=O,y+=O*O}h=v/u;let m=Math.sqrt(y/u-h*h);d.sort((I,O)=>{const P=Math.abs(O.getEstimatedModuleSize()-h),F=Math.abs(I.getEstimatedModuleSize()-h);return P<F?-1:P>F?1:0});const C=Math.max(.2*h,m);for(let I=0;I<d.length&&d.length>3;I++){const O=d[I];Math.abs(O.getEstimatedModuleSize()-h)>C&&(d.splice(I,1),I--)}}if(d.length>3){let v=0;for(const y of d)v+=y.getEstimatedModuleSize();h=v/d.length,d.sort((y,m)=>{if(m.getCount()===y.getCount()){const C=Math.abs(m.getEstimatedModuleSize()-h),I=Math.abs(y.getEstimatedModuleSize()-h);return C<I?1:C>I?-1:0}else return m.getCount()-y.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}Tr.CENTER_QUORUM=2,Tr.MIN_SKIP=3,Tr.MAX_MODULES=57;class da{constructor(u){this.image=u}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(u){this.resultPointCallback=u==null?null:u.get($.NEED_RESULT_POINT_CALLBACK);const h=new Tr(this.image,this.resultPointCallback).find(u);return this.processFinderPatternInfo(h)}processFinderPatternInfo(u){const d=u.getTopLeft(),h=u.getTopRight(),v=u.getBottomLeft(),y=this.calculateModuleSize(d,h,v);if(y<1)throw new le("No pattern found in proccess finder.");const m=da.computeDimension(d,h,v,y),C=Ke.getProvisionalVersionForDimension(m),I=C.getDimensionForVersion()-7;let O=null;if(C.getAlignmentPatternCenters().length>0){const Y=h.getX()-d.getX()+v.getX(),Q=h.getY()-d.getY()+v.getY(),ee=1-3/I,ne=Math.floor(d.getX()+ee*(Y-d.getX())),fe=Math.floor(d.getY()+ee*(Q-d.getY()));for(let Ie=4;Ie<=16;Ie<<=1)try{O=this.findAlignmentInRegion(y,ne,fe,Ie);break}catch(Te){if(!(Te instanceof le))throw Te}}const P=da.createTransform(d,h,v,O,m),F=da.sampleGrid(this.image,P,m);let H;return O===null?H=[v,d,h]:H=[v,d,h,O],new So(F,H)}static createTransform(u,d,h,v,y){const m=y-3.5;let C,I,O,P;return v!==null?(C=v.getX(),I=v.getY(),O=m-3,P=O):(C=d.getX()-u.getX()+h.getX(),I=d.getY()-u.getY()+h.getY(),O=m,P=m),hi.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,O,P,3.5,m,u.getX(),u.getY(),d.getX(),d.getY(),C,I,h.getX(),h.getY())}static sampleGrid(u,d,h){return Ri.getInstance().sampleGridWithTransform(u,h,h,d)}static computeDimension(u,d,h,v){const y=St.round(je.distance(u,d)/v),m=St.round(je.distance(u,h)/v);let C=Math.floor((y+m)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new le("Dimensions could be not found.")}return C}calculateModuleSize(u,d,h){return(this.calculateModuleSizeOneWay(u,d)+this.calculateModuleSizeOneWay(u,h))/2}calculateModuleSizeOneWay(u,d){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(d.getX()),Math.floor(d.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(u.getX()),Math.floor(u.getY()));return isNaN(h)?v/7:isNaN(v)?h/7:(h+v)/14}sizeOfBlackWhiteBlackRunBothWays(u,d,h,v){let y=this.sizeOfBlackWhiteBlackRun(u,d,h,v),m=1,C=u-(h-u);C<0?(m=u/(u-C),C=0):C>=this.image.getWidth()&&(m=(this.image.getWidth()-1-u)/(C-u),C=this.image.getWidth()-1);let I=Math.floor(d-(v-d)*m);return m=1,I<0?(m=d/(d-I),I=0):I>=this.image.getHeight()&&(m=(this.image.getHeight()-1-d)/(I-d),I=this.image.getHeight()-1),C=Math.floor(u+(C-u)*m),y+=this.sizeOfBlackWhiteBlackRun(u,d,C,I),y-1}sizeOfBlackWhiteBlackRun(u,d,h,v){const y=Math.abs(v-d)>Math.abs(h-u);if(y){let Y=u;u=d,d=Y,Y=h,h=v,v=Y}const m=Math.abs(h-u),C=Math.abs(v-d);let I=-m/2;const O=u<h?1:-1,P=d<v?1:-1;let F=0;const H=h+O;for(let Y=u,Q=d;Y!==H;Y+=O){const ee=y?Q:Y,ne=y?Y:Q;if(F===1===this.image.get(ee,ne)){if(F===2)return St.distance(Y,Q,u,d);F++}if(I+=C,I>0){if(Q===v)break;Q+=P,I-=m}}return F===2?St.distance(h+O,v,u,d):NaN}findAlignmentInRegion(u,d,h,v){const y=Math.floor(v*u),m=Math.max(0,d-y),C=Math.min(this.image.getWidth()-1,d+y);if(C-m<u*3)throw new le("Alignment top exceeds estimated module size.");const I=Math.max(0,h-y),O=Math.min(this.image.getHeight()-1,h+y);if(O-I<u*3)throw new le("Alignment bottom exceeds estimated module size.");return new Li(this.image,m,I,C-m,O-I,u,this.resultPointCallback).find()}}class Mn{constructor(){this.decoder=new h1}getDecoder(){return this.decoder}decode(u,d){let h,v;if(d!=null&&d.get($.PURE_BARCODE)!==void 0){const I=Mn.extractPureBits(u.getBlackMatrix());h=this.decoder.decodeBitMatrix(I,d),v=Mn.NO_POINTS}else{const I=new da(u.getBlackMatrix()).detect(d);h=this.decoder.decodeBitMatrix(I.getBits(),d),v=I.getPoints()}h.getOther()instanceof d1&&h.getOther().applyMirroredCorrection(v);const y=new Je(h.getText(),h.getRawBytes(),void 0,v,Re.QR_CODE,void 0),m=h.getByteSegments();m!==null&&y.putMetadata(ut.BYTE_SEGMENTS,m);const C=h.getECLevel();return C!==null&&y.putMetadata(ut.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(y.putMetadata(ut.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),y.putMetadata(ut.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),y}reset(){}static extractPureBits(u){const d=u.getTopLeftOnBit(),h=u.getBottomRightOnBit();if(d===null||h===null)throw new le;const v=this.moduleSize(d,u);let y=d[1],m=h[1],C=d[0],I=h[0];if(C>=I||y>=m)throw new le;if(m-y!==I-C&&(I=C+(m-y),I>=u.getWidth()))throw new le;const O=Math.round((I-C+1)/v),P=Math.round((m-y+1)/v);if(O<=0||P<=0)throw new le;if(P!==O)throw new le;const F=Math.floor(v/2);y+=F,C+=F;const H=C+Math.floor((O-1)*v)-I;if(H>0){if(H>F)throw new le;C-=H}const Y=y+Math.floor((P-1)*v)-m;if(Y>0){if(Y>F)throw new le;y-=Y}const Q=new Ye(O,P);for(let ee=0;ee<P;ee++){const ne=y+Math.floor(ee*v);for(let fe=0;fe<O;fe++)u.get(C+Math.floor(fe*v),ne)&&Q.set(fe,ee)}return Q}static moduleSize(u,d){const h=d.getHeight(),v=d.getWidth();let y=u[0],m=u[1],C=!0,I=0;for(;y<v&&m<h;){if(C!==d.get(y,m)){if(++I===5)break;C=!C}y++,m++}if(y===v||m===h)throw new le;return(y-u[0])/7}}Mn.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(u){return St.sum(u)}static toIntArray(u){if(u==null||!u.length)return st.EMPTY_INT_ARRAY;const d=new Int32Array(u.length);let h=0;for(const v of u)d[h++]=v;return d}static getCodeword(u){const d=M.binarySearch(st.SYMBOL_TABLE,u&262143);return d<0?-1:(st.CODEWORD_TABLE[d]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Dl{constructor(u,d){this.bits=u,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class ft{static detectMultiple(u,d,h){let v=u.getBlackMatrix(),y=ft.detect(h,v);return y.length||(v=v.clone(),v.rotate180(),y=ft.detect(h,v)),new Dl(v,y)}static detect(u,d){const h=new Array;let v=0,y=0,m=!1;for(;v<d.getHeight();){const C=ft.findVertices(d,v,y);if(C[0]==null&&C[3]==null){if(!m)break;m=!1,y=0;for(const I of h)I[1]!=null&&(v=Math.trunc(Math.max(v,I[1].getY()))),I[3]!=null&&(v=Math.max(v,Math.trunc(I[3].getY())));v+=ft.ROW_STEP;continue}if(m=!0,h.push(C),!u)break;C[2]!=null?(y=Math.trunc(C[2].getX()),v=Math.trunc(C[2].getY())):(y=Math.trunc(C[4].getX()),v=Math.trunc(C[4].getY()))}return h}static findVertices(u,d,h){const v=u.getHeight(),y=u.getWidth(),m=new Array(8);return ft.copyToResult(m,ft.findRowsWithPattern(u,v,y,d,h,ft.START_PATTERN),ft.INDEXES_START_PATTERN),m[4]!=null&&(h=Math.trunc(m[4].getX()),d=Math.trunc(m[4].getY())),ft.copyToResult(m,ft.findRowsWithPattern(u,v,y,d,h,ft.STOP_PATTERN),ft.INDEXES_STOP_PATTERN),m}static copyToResult(u,d,h){for(let v=0;v<h.length;v++)u[h[v]]=d[v]}static findRowsWithPattern(u,d,h,v,y,m){const C=new Array(4);let I=!1;const O=new Int32Array(m.length);for(;v<d;v+=ft.ROW_STEP){let F=ft.findGuardPattern(u,y,v,h,!1,m,O);if(F!=null){for(;v>0;){const H=ft.findGuardPattern(u,y,--v,h,!1,m,O);if(H!=null)F=H;else{v++;break}}C[0]=new je(F[0],v),C[1]=new je(F[1],v),I=!0;break}}let P=v+1;if(I){let F=0,H=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;P<d;P++){const Y=ft.findGuardPattern(u,H[0],P,h,!1,m,O);if(Y!=null&&Math.abs(H[0]-Y[0])<ft.MAX_PATTERN_DRIFT&&Math.abs(H[1]-Y[1])<ft.MAX_PATTERN_DRIFT)H=Y,F=0;else{if(F>ft.SKIPPED_ROW_COUNT_MAX)break;F++}}P-=F+1,C[2]=new je(H[0],P),C[3]=new je(H[1],P)}return P-v<ft.BARCODE_MIN_HEIGHT&&M.fill(C,null),C}static findGuardPattern(u,d,h,v,y,m,C){M.fillWithin(C,0,C.length,0);let I=d,O=0;for(;u.get(I,h)&&I>0&&O++<ft.MAX_PIXEL_DRIFT;)I--;let P=I,F=0,H=m.length;for(let Y=y;P<v;P++)if(u.get(P,h)!==Y)C[F]++;else{if(F===H-1){if(ft.patternMatchVariance(C,m,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return new Int32Array([I,P]);I+=C[0]+C[1],T.arraycopy(C,2,C,0,F-1),C[F-1]=0,C[F]=0,F--}else F++;C[F]=1,Y=!Y}return F===H-1&&ft.patternMatchVariance(C,m,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE?new Int32Array([I,P-1]):null}static patternMatchVariance(u,d,h){let v=u.length,y=0,m=0;for(let O=0;O<v;O++)y+=u[O],m+=d[O];if(y<m)return 1/0;let C=y/m;h*=C;let I=0;for(let O=0;O<v;O++){let P=u[O],F=d[O]*C,H=P>F?P-F:F-P;if(H>h)return 1/0;I+=H}return I/y}}ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ft.MAX_AVG_VARIANCE=.42,ft.MAX_INDIVIDUAL_VARIANCE=.8,ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ft.MAX_PIXEL_DRIFT=3,ft.MAX_PATTERN_DRIFT=5,ft.SKIPPED_ROW_COUNT_MAX=25,ft.ROW_STEP=5,ft.BARCODE_MIN_HEIGHT=10;class en{constructor(u,d){if(d.length===0)throw new x;this.field=u;let h=d.length;if(h>1&&d[0]===0){let v=1;for(;v<h&&d[v]===0;)v++;v===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-v),T.arraycopy(d,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(u){return this.coefficients[this.coefficients.length-1-u]}evaluateAt(u){if(u===0)return this.getCoefficient(0);if(u===1){let v=0;for(let y of this.coefficients)v=this.field.add(v,y);return v}let d=this.coefficients[0],h=this.coefficients.length;for(let v=1;v<h;v++)d=this.field.add(this.field.multiply(u,d),this.coefficients[v]);return d}add(u){if(!this.field.equals(u.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return u;if(u.isZero())return this;let d=this.coefficients,h=u.coefficients;if(d.length>h.length){let m=d;d=h,h=m}let v=new Int32Array(h.length),y=h.length-d.length;T.arraycopy(h,0,v,0,y);for(let m=y;m<h.length;m++)v[m]=this.field.add(d[m-y],h[m]);return new en(this.field,v)}subtract(u){if(!this.field.equals(u.field))throw new x("ModulusPolys do not have same ModulusGF field");return u.isZero()?this:this.add(u.negative())}multiply(u){return u instanceof en?this.multiplyOther(u):this.multiplyScalar(u)}multiplyOther(u){if(!this.field.equals(u.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||u.isZero())return new en(this.field,new Int32Array([0]));let d=this.coefficients,h=d.length,v=u.coefficients,y=v.length,m=new Int32Array(h+y-1);for(let C=0;C<h;C++){let I=d[C];for(let O=0;O<y;O++)m[C+O]=this.field.add(m[C+O],this.field.multiply(I,v[O]))}return new en(this.field,m)}negative(){let u=this.coefficients.length,d=new Int32Array(u);for(let h=0;h<u;h++)d[h]=this.field.subtract(0,this.coefficients[h]);return new en(this.field,d)}multiplyScalar(u){if(u===0)return new en(this.field,new Int32Array([0]));if(u===1)return this;let d=this.coefficients.length,h=new Int32Array(d);for(let v=0;v<d;v++)h[v]=this.field.multiply(this.coefficients[v],u);return new en(this.field,h)}multiplyByMonomial(u,d){if(u<0)throw new x;if(d===0)return new en(this.field,new Int32Array([0]));let h=this.coefficients.length,v=new Int32Array(h+u);for(let y=0;y<h;y++)v[y]=this.field.multiply(this.coefficients[y],d);return new en(this.field,v)}toString(){let u=new Ee;for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);h!==0&&(h<0?(u.append(" - "),h=-h):u.length()>0&&u.append(" + "),(d===0||h!==1)&&u.append(h),d!==0&&(d===1?u.append("x"):(u.append("x^"),u.append(d))))}return u.toString()}}class Ml{add(u,d){return(u+d)%this.modulus}subtract(u,d){return(this.modulus+u-d)%this.modulus}exp(u){return this.expTable[u]}log(u){if(u===0)throw new x;return this.logTable[u]}inverse(u){if(u===0)throw new gs;return this.expTable[this.modulus-this.logTable[u]-1]}multiply(u,d){return u===0||d===0?0:this.expTable[(this.logTable[u]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(u){return u===this}}class Ro extends Ml{constructor(u,d){super(),this.modulus=u,this.expTable=new Int32Array(u),this.logTable=new Int32Array(u);let h=1;for(let v=0;v<u;v++)this.expTable[v]=h,h=h*d%u;for(let v=0;v<u-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new en(this,new Int32Array([0])),this.one=new en(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(u,d){if(u<0)throw new x;if(d===0)return this.zero;let h=new Int32Array(u+1);return h[0]=d,new en(this,h)}}Ro.PDF417_GF=new Ro(st.NUMBER_OF_CODEWORDS,3);class p1{constructor(){this.field=Ro.PDF417_GF}decode(u,d,h){let v=new en(this.field,u),y=new Int32Array(d),m=!1;for(let Q=d;Q>0;Q--){let ee=v.evaluateAt(this.field.exp(Q));y[d-Q]=ee,ee!==0&&(m=!0)}if(!m)return 0;let C=this.field.getOne();if(h!=null)for(const Q of h){let ee=this.field.exp(u.length-1-Q),ne=new en(this.field,new Int32Array([this.field.subtract(0,ee),1]));C=C.multiply(ne)}let I=new en(this.field,y),O=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),I,d),P=O[0],F=O[1],H=this.findErrorLocations(P),Y=this.findErrorMagnitudes(F,P,H);for(let Q=0;Q<H.length;Q++){let ee=u.length-1-this.field.log(H[Q]);if(ee<0)throw E.getChecksumInstance();u[ee]=this.field.subtract(u[ee],Y[Q])}return H.length}runEuclideanAlgorithm(u,d,h){if(u.getDegree()<d.getDegree()){let H=u;u=d,d=H}let v=u,y=d,m=this.field.getZero(),C=this.field.getOne();for(;y.getDegree()>=Math.round(h/2);){let H=v,Y=m;if(v=y,m=C,v.isZero())throw E.getChecksumInstance();y=H;let Q=this.field.getZero(),ee=v.getCoefficient(v.getDegree()),ne=this.field.inverse(ee);for(;y.getDegree()>=v.getDegree()&&!y.isZero();){let fe=y.getDegree()-v.getDegree(),Ie=this.field.multiply(y.getCoefficient(y.getDegree()),ne);Q=Q.add(this.field.buildMonomial(fe,Ie)),y=y.subtract(v.multiplyByMonomial(fe,Ie))}C=Q.multiply(m).subtract(Y).negative()}let I=C.getCoefficient(0);if(I===0)throw E.getChecksumInstance();let O=this.field.inverse(I),P=C.multiply(O),F=y.multiply(O);return[P,F]}findErrorLocations(u){let d=u.getDegree(),h=new Int32Array(d),v=0;for(let y=1;y<this.field.getSize()&&v<d;y++)u.evaluateAt(y)===0&&(h[v]=this.field.inverse(y),v++);if(v!==d)throw E.getChecksumInstance();return h}findErrorMagnitudes(u,d,h){let v=d.getDegree(),y=new Int32Array(v);for(let O=1;O<=v;O++)y[v-O]=this.field.multiply(O,d.getCoefficient(O));let m=new en(this.field,y),C=h.length,I=new Int32Array(C);for(let O=0;O<C;O++){let P=this.field.inverse(h[O]),F=this.field.subtract(0,u.evaluateAt(P)),H=this.field.inverse(m.evaluateAt(P));I[O]=this.field.multiply(F,H)}return I}}class no{constructor(u,d,h,v,y){u instanceof no?this.constructor_2(u):this.constructor_1(u,d,h,v,y)}constructor_1(u,d,h,v,y){const m=d==null||h==null,C=v==null||y==null;if(m&&C)throw new le;m?(d=new je(0,v.getY()),h=new je(0,y.getY())):C&&(v=new je(u.getWidth()-1,d.getY()),y=new je(u.getWidth()-1,h.getY())),this.image=u,this.topLeft=d,this.bottomLeft=h,this.topRight=v,this.bottomRight=y,this.minX=Math.trunc(Math.min(d.getX(),h.getX())),this.maxX=Math.trunc(Math.max(v.getX(),y.getX())),this.minY=Math.trunc(Math.min(d.getY(),v.getY())),this.maxY=Math.trunc(Math.max(h.getY(),y.getY()))}constructor_2(u){this.image=u.image,this.topLeft=u.getTopLeft(),this.bottomLeft=u.getBottomLeft(),this.topRight=u.getTopRight(),this.bottomRight=u.getBottomRight(),this.minX=u.getMinX(),this.maxX=u.getMaxX(),this.minY=u.getMinY(),this.maxY=u.getMaxY()}static merge(u,d){return u==null?d:d==null?u:new no(u.image,u.topLeft,u.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(u,d,h){let v=this.topLeft,y=this.bottomLeft,m=this.topRight,C=this.bottomRight;if(u>0){let I=h?this.topLeft:this.topRight,O=Math.trunc(I.getY()-u);O<0&&(O=0);let P=new je(I.getX(),O);h?v=P:m=P}if(d>0){let I=h?this.bottomLeft:this.bottomRight,O=Math.trunc(I.getY()+d);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);let P=new je(I.getX(),O);h?y=P:C=P}return new no(this.image,v,y,m,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ws{constructor(u,d,h,v){this.columnCount=u,this.errorCorrectionLevel=v,this.rowCountUpperPart=d,this.rowCountLowerPart=h,this.rowCount=d+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ha{constructor(){this.buffer=""}static form(u,d){let h=-1;function v(m,C,I,O,P,F){if(m==="%%")return"%";if(d[++h]===void 0)return;m=O?parseInt(O.substr(1)):void 0;let H=P?parseInt(P.substr(1)):void 0,Y;switch(F){case"s":Y=d[h];break;case"c":Y=d[h][0];break;case"f":Y=parseFloat(d[h]).toFixed(m);break;case"p":Y=parseFloat(d[h]).toPrecision(m);break;case"e":Y=parseFloat(d[h]).toExponential(m);break;case"x":Y=parseInt(d[h]).toString(H||16);break;case"d":Y=parseFloat(parseInt(d[h],H||10).toPrecision(m)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(H);let Q=parseInt(I),ee=I&&I[0]+""=="0"?"0":" ";for(;Y.length<Q;)Y=C!==void 0?Y+ee:ee+Y;return Y}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return u.replace(y,v)}format(u,...d){this.buffer+=ha.form(u,d)}toString(){return this.buffer}}class Qi{constructor(u){this.boundingBox=new no(u),this.codewords=new Array(u.getMaxY()-u.getMinY()+1)}getCodewordNearby(u){let d=this.getCodeword(u);if(d!=null)return d;for(let h=1;h<Qi.MAX_NEARBY_DISTANCE;h++){let v=this.imageRowToCodewordIndex(u)-h;if(v>=0&&(d=this.codewords[v],d!=null)||(v=this.imageRowToCodewordIndex(u)+h,v<this.codewords.length&&(d=this.codewords[v],d!=null)))return d}return null}imageRowToCodewordIndex(u){return u-this.boundingBox.getMinY()}setCodeword(u,d){this.codewords[this.imageRowToCodewordIndex(u)]=d}getCodeword(u){return this.codewords[this.imageRowToCodewordIndex(u)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const u=new ha;let d=0;for(const h of this.codewords){if(h==null){u.format("%3d:    |   %n",d++);continue}u.format("%3d: %3d|%3d%n",d++,h.getRowNumber(),h.getValue())}return u.toString()}}Qi.MAX_NEARBY_DISTANCE=5;class ja{constructor(){this.values=new Map}setValue(u){u=Math.trunc(u);let d=this.values.get(u);d==null&&(d=0),d++,this.values.set(u,d)}getValue(){let u=-1,d=new Array;for(const[h,v]of this.values.entries()){const y={getKey:()=>h,getValue:()=>v};y.getValue()>u?(u=y.getValue(),d=[],d.push(y.getKey())):y.getValue()===u&&d.push(y.getKey())}return st.toIntArray(d)}getConfidence(u){return this.values.get(u)}}class Pl extends Qi{constructor(u,d){super(u),this._isLeft=d}setRowNumbers(){for(let u of this.getCodewords())u!=null&&u.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(u){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,u);let h=this.getBoundingBox(),v=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.imageRowToCodewordIndex(Math.trunc(y.getY())),I=-1,O=1,P=0;for(let F=m;F<C;F++){if(d[F]==null)continue;let H=d[F],Y=H.getRowNumber()-I;if(Y===0)P++;else if(Y===1)O=Math.max(O,P),P=1,I=H.getRowNumber();else if(Y<0||H.getRowNumber()>=u.getRowCount()||Y>F)d[F]=null;else{let Q;O>2?Q=(O-2)*Y:Q=Y;let ee=Q>=F;for(let ne=1;ne<=Q&&!ee;ne++)ee=d[F-ne]!=null;ee?d[F]=null:(I=H.getRowNumber(),P=1)}}}getRowHeights(){let u=this.getBarcodeMetadata();if(u==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(u);let d=new Int32Array(u.getRowCount());for(let h of this.getCodewords())if(h!=null){let v=h.getRowNumber();if(v>=d.length)continue;d[v]++}return d}adjustIncompleteIndicatorColumnRowNumbers(u){let d=this.getBoundingBox(),h=this._isLeft?d.getTopLeft():d.getTopRight(),v=this._isLeft?d.getBottomLeft():d.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),m=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.getCodewords(),I=-1;for(let O=y;O<m;O++){if(C[O]==null)continue;let P=C[O];P.setRowNumberAsRowIndicatorColumn();let F=P.getRowNumber()-I;F===0||(F===1?I=P.getRowNumber():P.getRowNumber()>=u.getRowCount()?C[O]=null:I=P.getRowNumber())}}getBarcodeMetadata(){let u=this.getCodewords(),d=new ja,h=new ja,v=new ja,y=new ja;for(let C of u){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let I=C.getValue()%30,O=C.getRowNumber();switch(this._isLeft||(O+=2),O%3){case 0:h.setValue(I*3+1);break;case 1:y.setValue(I/3),v.setValue(I%3);break;case 2:d.setValue(I+1);break}}if(d.getValue().length===0||h.getValue().length===0||v.getValue().length===0||y.getValue().length===0||d.getValue()[0]<1||h.getValue()[0]+v.getValue()[0]<st.MIN_ROWS_IN_BARCODE||h.getValue()[0]+v.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let m=new ws(d.getValue()[0],h.getValue()[0],v.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(u,m),m}removeIncorrectCodewords(u,d){for(let h=0;h<u.length;h++){let v=u[h];if(u[h]==null)continue;let y=v.getValue()%30,m=v.getRowNumber();if(m>d.getRowCount()){u[h]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:y*3+1!==d.getRowCountUpperPart()&&(u[h]=null);break;case 1:(Math.trunc(y/3)!==d.getErrorCorrectionLevel()||y%3!==d.getRowCountLowerPart())&&(u[h]=null);break;case 2:y+1!==d.getColumnCount()&&(u[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class As{constructor(u,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=u,this.barcodeColumnCount=u.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let u=st.MAX_CODEWORDS_IN_BARCODE,d;do d=u,u=this.adjustRowNumbersAndGetCount();while(u>0&&u<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(u){u!=null&&u.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let u=this.adjustRowNumbersByRow();if(u===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let h=this.detectionResultColumns[d].getCodewords();for(let v=0;v<h.length;v++)h[v]!=null&&(h[v].hasValidRowNumber()||this.adjustRowNumbers(d,v,h))}return u}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let u=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++)if(u[h]!=null&&d[h]!=null&&u[h].getRowNumber()===d[h].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let y=this.detectionResultColumns[v].getCodewords()[h];y!=null&&(y.setRowNumber(u[h].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let u=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let v=d[h].getRowNumber(),y=0;for(let m=this.barcodeColumnCount+1;m>0&&y<this.ADJUST_ROW_NUMBER_SKIP;m--){let C=this.detectionResultColumns[m].getCodewords()[h];C!=null&&(y=As.adjustRowNumberIfValid(v,y,C),C.hasValidRowNumber()||u++)}}return u}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let u=0,d=this.detectionResultColumns[0].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let v=d[h].getRowNumber(),y=0;for(let m=1;m<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;m++){let C=this.detectionResultColumns[m].getCodewords()[h];C!=null&&(y=As.adjustRowNumberIfValid(v,y,C),C.hasValidRowNumber()||u++)}}return u}static adjustRowNumberIfValid(u,d,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(u)?(h.setRowNumber(u),d=0):++d),d}adjustRowNumbers(u,d,h){if(!this.detectionResultColumns[u-1])return;let v=h[d],y=this.detectionResultColumns[u-1].getCodewords(),m=y;this.detectionResultColumns[u+1]!=null&&(m=this.detectionResultColumns[u+1].getCodewords());let C=new Array(14);C[2]=y[d],C[3]=m[d],d>0&&(C[0]=h[d-1],C[4]=y[d-1],C[5]=m[d-1]),d>1&&(C[8]=h[d-2],C[10]=y[d-2],C[11]=m[d-2]),d<h.length-1&&(C[1]=h[d+1],C[6]=y[d+1],C[7]=m[d+1]),d<h.length-2&&(C[9]=h[d+2],C[12]=y[d+2],C[13]=m[d+2]);for(let I of C)if(As.adjustRowNumber(v,I))return}static adjustRowNumber(u,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===u.getBucket()?(u.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(u){this.boundingBox=u}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(u,d){this.detectionResultColumns[u]=d}getDetectionResultColumn(u){return this.detectionResultColumns[u]}toString(){let u=this.detectionResultColumns[0];u==null&&(u=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new ha;for(let h=0;h<u.getCodewords().length;h++){d.format("CW %3d:",h);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){d.format("    |   ");continue}let y=this.detectionResultColumns[v].getCodewords()[h];if(y==null){d.format("    |   ");continue}d.format(" %3d|%3d",y.getRowNumber(),y.getValue())}d.format("%n")}return d.toString()}}class io{constructor(u,d,h,v){this.rowNumber=io.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(u),this.endX=Math.trunc(d),this.bucket=Math.trunc(h),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(u){return u!==io.BARCODE_ROW_UNKNOWN&&this.bucket===u%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(u){this.rowNumber=u}toString(){return this.rowNumber+"|"+this.value}}io.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let u=0;u<st.SYMBOL_TABLE.length;u++){let d=st.SYMBOL_TABLE[u],h=d&1;for(let v=0;v<st.BARS_IN_MODULE;v++){let y=0;for(;(d&1)===h;)y+=1,d>>=1;h=d&1,tn.RATIOS_TABLE[u]||(tn.RATIOS_TABLE[u]=new Array(st.BARS_IN_MODULE)),tn.RATIOS_TABLE[u][st.BARS_IN_MODULE-v-1]=Math.fround(y/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(u){let d=tn.getDecodedCodewordValue(tn.sampleBitCounts(u));return d!==-1?d:tn.getClosestDecodedValue(u)}static sampleBitCounts(u){let d=St.sum(u),h=new Int32Array(st.BARS_IN_MODULE),v=0,y=0;for(let m=0;m<st.MODULES_IN_CODEWORD;m++){let C=d/(2*st.MODULES_IN_CODEWORD)+m*d/st.MODULES_IN_CODEWORD;y+u[v]<=C&&(y+=u[v],v++),h[v]++}return h}static getDecodedCodewordValue(u){let d=tn.getBitValue(u);return st.getCodeword(d)===-1?-1:d}static getBitValue(u){let d=0;for(let h=0;h<u.length;h++)for(let v=0;v<u[h];v++)d=d<<1|(h%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(u){let d=St.sum(u),h=new Array(st.BARS_IN_MODULE);if(d>1)for(let m=0;m<h.length;m++)h[m]=Math.fround(u[m]/d);let v=La.MAX_VALUE,y=-1;this.bSymbolTableReady||tn.initialize();for(let m=0;m<tn.RATIOS_TABLE.length;m++){let C=0,I=tn.RATIOS_TABLE[m];for(let O=0;O<st.BARS_IN_MODULE;O++){let P=Math.fround(I[O]-h[O]);if(C+=Math.fround(P*P),C>=v)break}C<v&&(v=C,y=st.SYMBOL_TABLE[m])}return y}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(L=>new Array(st.BARS_IN_MODULE));class cu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(u){this.segmentIndex=u}getFileId(){return this.fileId}setFileId(u){this.fileId=u}getOptionalData(){return this.optionalData}setOptionalData(u){this.optionalData=u}isLastSegment(){return this.lastSegment}setLastSegment(u){this.lastSegment=u}getSegmentCount(){return this.segmentCount}setSegmentCount(u){this.segmentCount=u}getSender(){return this.sender||null}setSender(u){this.sender=u}getAddressee(){return this.addressee||null}setAddressee(u){this.addressee=u}getFileName(){return this.fileName}setFileName(u){this.fileName=u}getFileSize(){return this.fileSize}setFileSize(u){this.fileSize=u}getChecksum(){return this.checksum}setChecksum(u){this.checksum=u}getTimestamp(){return this.timestamp}setTimestamp(u){this.timestamp=u}}class g1{static parseLong(u,d=void 0){return parseInt(u,d)}}class pa extends c{}pa.kind="NullPointerException";class v1{writeBytes(u){this.writeBytesOffset(u,0,u.length)}writeBytesOffset(u,d,h){if(u==null)throw new pa;if(d<0||d>u.length||h<0||d+h>u.length||d+h<0)throw new b;if(h===0)return;for(let v=0;v<h;v++)this.write(u[d+v])}flush(){}close(){}}class fu extends c{}class Bl extends v1{constructor(u=32){if(super(),this.count=0,u<0)throw new x("Negative initial size: "+u);this.buf=new Uint8Array(u)}ensureCapacity(u){u-this.buf.length>0&&this.grow(u)}grow(u){let h=this.buf.length<<1;if(h-u<0&&(h=u),h<0){if(u<0)throw new fu;h=B.MAX_VALUE}this.buf=M.copyOfUint8Array(this.buf,h)}write(u){this.ensureCapacity(this.count+1),this.buf[this.count]=u,this.count+=1}writeBytesOffset(u,d,h){if(d<0||d>u.length||h<0||d+h-u.length>0)throw new b;this.ensureCapacity(this.count+h),T.arraycopy(u,d,this.buf,this.count,h),this.count+=h}writeTo(u){u.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return M.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(u){return u?typeof u=="string"?this.toString_string(u):this.toString_number(u):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(u){return new String(this.buf).toString()}toString_number(u){return new String(this.buf).toString()}close(){}}var Pt;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pt||(Pt={}));function Es(){if(typeof window<"u")return window.BigInt||null;if(typeof Dc<"u")return Dc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Cs;function kr(L){if(typeof Cs>"u"&&(Cs=Es()),Cs===null)throw new Error("BigInt is not supported!");return Cs(L)}function Do(){let L=[];L[0]=kr(1);let u=kr(900);L[1]=u;for(let d=2;d<16;d++)L[d]=L[d-1]*u;return L}class de{static decode(u,d){let h=new Ee(""),v=q.ISO8859_1;h.enableDecoding(v);let y=1,m=u[y++],C=new cu;for(;y<u[0];){switch(m){case de.TEXT_COMPACTION_MODE_LATCH:y=de.textCompaction(u,y,h);break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:y=de.byteCompaction(m,u,v,y,h);break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(u[y++]);break;case de.NUMERIC_COMPACTION_MODE_LATCH:y=de.numericCompaction(u,y,h);break;case de.ECI_CHARSET:q.getCharacterSetECIByValue(u[y++]);break;case de.ECI_GENERAL_PURPOSE:y+=2;break;case de.ECI_USER_DEFINED:y++;break;case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=de.decodeMacroBlock(u,y,C);break;case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:throw new V;default:y--,y=de.textCompaction(u,y,h);break}if(y<u.length)m=u[y++];else throw V.getFormatInstance()}if(h.length()===0)throw V.getFormatInstance();let I=new Zt(null,h.toString(),null,d);return I.setOther(C),I}static decodeMacroBlock(u,d,h){if(d+de.NUMBER_OF_SEQUENCE_CODEWORDS>u[0])throw V.getFormatInstance();let v=new Int32Array(de.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<de.NUMBER_OF_SEQUENCE_CODEWORDS;C++,d++)v[C]=u[d];h.setSegmentIndex(B.parseInt(de.decodeBase900toBase10(v,de.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new Ee;d=de.textCompaction(u,d,y),h.setFileId(y.toString());let m=-1;for(u[d]===de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=d+1);d<u[0];)switch(u[d]){case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,u[d]){case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new Ee;d=de.textCompaction(u,d+1,C),h.setFileName(C.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new Ee;d=de.textCompaction(u,d+1,I),h.setSender(I.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let O=new Ee;d=de.textCompaction(u,d+1,O),h.setAddressee(O.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new Ee;d=de.numericCompaction(u,d+1,P),h.setSegmentCount(B.parseInt(P.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new Ee;d=de.numericCompaction(u,d+1,F),h.setTimestamp(g1.parseLong(F.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new Ee;d=de.numericCompaction(u,d+1,H),h.setChecksum(B.parseInt(H.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Y=new Ee;d=de.numericCompaction(u,d+1,Y),h.setFileSize(g1.parseLong(Y.toString()));break;default:throw V.getFormatInstance()}break;case de.MACRO_PDF417_TERMINATOR:d++,h.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(m!==-1){let C=d-m;h.isLastSegment()&&C--,h.setOptionalData(M.copyOfRange(u,m,m+C))}return d}static textCompaction(u,d,h){let v=new Int32Array((u[0]-d)*2),y=new Int32Array((u[0]-d)*2),m=0,C=!1;for(;d<u[0]&&!C;){let I=u[d++];if(I<de.TEXT_COMPACTION_MODE_LATCH)v[m]=I/30,v[m+1]=I%30,m+=2;else switch(I){case de.TEXT_COMPACTION_MODE_LATCH:v[m++]=de.TEXT_COMPACTION_MODE_LATCH;break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:d--,C=!0;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[m]=de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=u[d++],y[m]=I,m++;break}}return de.decodeTextCompaction(v,y,m,h),d}static decodeTextCompaction(u,d,h,v){let y=Pt.ALPHA,m=Pt.ALPHA,C=0;for(;C<h;){let I=u[C],O="";switch(y){case Pt.ALPHA:if(I<26)O=String.fromCharCode(65+I);else switch(I){case 26:O=" ";break;case de.LL:y=Pt.LOWER;break;case de.ML:y=Pt.MIXED;break;case de.PS:m=y,y=Pt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case de.TEXT_COMPACTION_MODE_LATCH:y=Pt.ALPHA;break}break;case Pt.LOWER:if(I<26)O=String.fromCharCode(97+I);else switch(I){case 26:O=" ";break;case de.AS:m=y,y=Pt.ALPHA_SHIFT;break;case de.ML:y=Pt.MIXED;break;case de.PS:m=y,y=Pt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case de.TEXT_COMPACTION_MODE_LATCH:y=Pt.ALPHA;break}break;case Pt.MIXED:if(I<de.PL)O=de.MIXED_CHARS[I];else switch(I){case de.PL:y=Pt.PUNCT;break;case 26:O=" ";break;case de.LL:y=Pt.LOWER;break;case de.AL:y=Pt.ALPHA;break;case de.PS:m=y,y=Pt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case de.TEXT_COMPACTION_MODE_LATCH:y=Pt.ALPHA;break}break;case Pt.PUNCT:if(I<de.PAL)O=de.PUNCT_CHARS[I];else switch(I){case de.PAL:y=Pt.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case de.TEXT_COMPACTION_MODE_LATCH:y=Pt.ALPHA;break}break;case Pt.ALPHA_SHIFT:if(y=m,I<26)O=String.fromCharCode(65+I);else switch(I){case 26:O=" ";break;case de.TEXT_COMPACTION_MODE_LATCH:y=Pt.ALPHA;break}break;case Pt.PUNCT_SHIFT:if(y=m,I<de.PAL)O=de.PUNCT_CHARS[I];else switch(I){case de.PAL:y=Pt.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case de.TEXT_COMPACTION_MODE_LATCH:y=Pt.ALPHA;break}break}O!==""&&v.append(O),C++}}static byteCompaction(u,d,h,v,y){let m=new Bl,C=0,I=0,O=!1;switch(u){case de.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),F=d[v++];for(;v<d[0]&&!O;)switch(P[C++]=F,I=900*I+F,F=d[v++],F){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:v--,O=!0;break;default:if(C%5===0&&C>0){for(let H=0;H<6;++H)m.write(Number(kr(I)>>kr(8*(5-H))));I=0,C=0}break}v===d[0]&&F<de.TEXT_COMPACTION_MODE_LATCH&&(P[C++]=F);for(let H=0;H<C;H++)m.write(P[H]);break;case de.BYTE_COMPACTION_MODE_LATCH_6:for(;v<d[0]&&!O;){let H=d[v++];if(H<de.TEXT_COMPACTION_MODE_LATCH)C++,I=900*I+H;else switch(H){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:v--,O=!0;break}if(C%5===0&&C>0){for(let Y=0;Y<6;++Y)m.write(Number(kr(I)>>kr(8*(5-Y))));I=0,C=0}}break}return y.append(Be.decode(m.toByteArray(),h)),v}static numericCompaction(u,d,h){let v=0,y=!1,m=new Int32Array(de.MAX_NUMERIC_CODEWORDS);for(;d<u[0]&&!y;){let C=u[d++];if(d===u[0]&&(y=!0),C<de.TEXT_COMPACTION_MODE_LATCH)m[v]=C,v++;else switch(C){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:d--,y=!0;break}(v%de.MAX_NUMERIC_CODEWORDS===0||C===de.NUMERIC_COMPACTION_MODE_LATCH||y)&&v>0&&(h.append(de.decodeBase900toBase10(m,v)),v=0)}return d}static decodeBase900toBase10(u,d){let h=kr(0);for(let y=0;y<d;y++)h+=de.EXP900[d-y-1]*kr(u[y]);let v=h.toString();if(v.charAt(0)!=="1")throw new V;return v.substring(1)}}de.TEXT_COMPACTION_MODE_LATCH=900,de.BYTE_COMPACTION_MODE_LATCH=901,de.NUMERIC_COMPACTION_MODE_LATCH=902,de.BYTE_COMPACTION_MODE_LATCH_6=924,de.ECI_USER_DEFINED=925,de.ECI_GENERAL_PURPOSE=926,de.ECI_CHARSET=927,de.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,de.MACRO_PDF417_TERMINATOR=922,de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,de.MAX_NUMERIC_CODEWORDS=15,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,de.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,de.PL=25,de.LL=27,de.AS=27,de.ML=28,de.AL=28,de.PS=29,de.PAL=29,de.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,de.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",de.EXP900=Es()?Do():[],de.NUMBER_OF_SEQUENCE_CODEWORDS=2;class pt{constructor(){}static decode(u,d,h,v,y,m,C){let I=new no(u,d,h,v,y),O=null,P=null,F;for(let Q=!0;;Q=!1){if(d!=null&&(O=pt.getRowIndicatorColumn(u,I,d,!0,m,C)),v!=null&&(P=pt.getRowIndicatorColumn(u,I,v,!1,m,C)),F=pt.merge(O,P),F==null)throw le.getNotFoundInstance();let ee=F.getBoundingBox();if(Q&&ee!=null&&(ee.getMinY()<I.getMinY()||ee.getMaxY()>I.getMaxY()))I=ee;else break}F.setBoundingBox(I);let H=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,O),F.setDetectionResultColumn(H,P);let Y=O!=null;for(let Q=1;Q<=H;Q++){let ee=Y?Q:H-Q;if(F.getDetectionResultColumn(ee)!==void 0)continue;let ne;ee===0||ee===H?ne=new Pl(I,ee===0):ne=new Qi(I),F.setDetectionResultColumn(ee,ne);let fe=-1,Ie=fe;for(let Te=I.getMinY();Te<=I.getMaxY();Te++){if(fe=pt.getStartColumn(F,ee,Te,Y),fe<0||fe>I.getMaxX()){if(Ie===-1)continue;fe=Ie}let Ce=pt.detectCodeword(u,I.getMinX(),I.getMaxX(),Y,fe,Te,m,C);Ce!=null&&(ne.setCodeword(Te,Ce),Ie=fe,m=Math.min(m,Ce.getWidth()),C=Math.max(C,Ce.getWidth()))}}return pt.createDecoderResult(F)}static merge(u,d){if(u==null&&d==null)return null;let h=pt.getBarcodeMetadata(u,d);if(h==null)return null;let v=no.merge(pt.adjustBoundingBox(u),pt.adjustBoundingBox(d));return new As(h,v)}static adjustBoundingBox(u){if(u==null)return null;let d=u.getRowHeights();if(d==null)return null;let h=pt.getMax(d),v=0;for(let C of d)if(v+=h-C,C>0)break;let y=u.getCodewords();for(let C=0;v>0&&y[C]==null;C++)v--;let m=0;for(let C=d.length-1;C>=0&&(m+=h-d[C],!(d[C]>0));C--);for(let C=y.length-1;m>0&&y[C]==null;C--)m--;return u.getBoundingBox().addMissingRows(v,m,u.isLeft())}static getMax(u){let d=-1;for(let h of u)d=Math.max(d,h);return d}static getBarcodeMetadata(u,d){let h;if(u==null||(h=u.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let v;return d==null||(v=d.getBarcodeMetadata())==null?h:h.getColumnCount()!==v.getColumnCount()&&h.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&h.getRowCount()!==v.getRowCount()?null:h}static getRowIndicatorColumn(u,d,h,v,y,m){let C=new Pl(d,v);for(let I=0;I<2;I++){let O=I===0?1:-1,P=Math.trunc(Math.trunc(h.getX()));for(let F=Math.trunc(Math.trunc(h.getY()));F<=d.getMaxY()&&F>=d.getMinY();F+=O){let H=pt.detectCodeword(u,0,u.getWidth(),v,P,F,y,m);H!=null&&(C.setCodeword(F,H),v?P=H.getStartX():P=H.getEndX())}}return C}static adjustCodewordCount(u,d){let h=d[0][1],v=h.getValue(),y=u.getBarcodeColumnCount()*u.getBarcodeRowCount()-pt.getNumberOfECCodeWords(u.getBarcodeECLevel());if(v.length===0){if(y<1||y>st.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();h.setValue(y)}else v[0]!==y&&h.setValue(y)}static createDecoderResult(u){let d=pt.createBarcodeMatrix(u);pt.adjustCodewordCount(u,d);let h=new Array,v=new Int32Array(u.getBarcodeRowCount()*u.getBarcodeColumnCount()),y=[],m=new Array;for(let I=0;I<u.getBarcodeRowCount();I++)for(let O=0;O<u.getBarcodeColumnCount();O++){let P=d[I][O+1].getValue(),F=I*u.getBarcodeColumnCount()+O;P.length===0?h.push(F):P.length===1?v[F]=P[0]:(m.push(F),y.push(P))}let C=new Array(y.length);for(let I=0;I<C.length;I++)C[I]=y[I];return pt.createDecoderResultFromAmbiguousValues(u.getBarcodeECLevel(),v,st.toIntArray(h),st.toIntArray(m),C)}static createDecoderResultFromAmbiguousValues(u,d,h,v,y){let m=new Int32Array(v.length),C=100;for(;C-- >0;){for(let I=0;I<m.length;I++)d[v[I]]=y[I][m[I]];try{return pt.decodeCodewords(d,u,h)}catch(I){if(!(I instanceof E))throw I}if(m.length===0)throw E.getChecksumInstance();for(let I=0;I<m.length;I++)if(m[I]<y[I].length-1){m[I]++;break}else if(m[I]=0,I===m.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(u){let d=Array.from({length:u.getBarcodeRowCount()},()=>new Array(u.getBarcodeColumnCount()+2));for(let v=0;v<d.length;v++)for(let y=0;y<d[v].length;y++)d[v][y]=new ja;let h=0;for(let v of u.getDetectionResultColumns()){if(v!=null){for(let y of v.getCodewords())if(y!=null){let m=y.getRowNumber();if(m>=0){if(m>=d.length)continue;d[m][h].setValue(y.getValue())}}}h++}return d}static isValidBarcodeColumn(u,d){return d>=0&&d<=u.getBarcodeColumnCount()+1}static getStartColumn(u,d,h,v){let y=v?1:-1,m=null;if(pt.isValidBarcodeColumn(u,d-y)&&(m=u.getDetectionResultColumn(d-y).getCodeword(h)),m!=null)return v?m.getEndX():m.getStartX();if(m=u.getDetectionResultColumn(d).getCodewordNearby(h),m!=null)return v?m.getStartX():m.getEndX();if(pt.isValidBarcodeColumn(u,d-y)&&(m=u.getDetectionResultColumn(d-y).getCodewordNearby(h)),m!=null)return v?m.getEndX():m.getStartX();let C=0;for(;pt.isValidBarcodeColumn(u,d-y);){d-=y;for(let I of u.getDetectionResultColumn(d).getCodewords())if(I!=null)return(v?I.getEndX():I.getStartX())+y*C*(I.getEndX()-I.getStartX());C++}return v?u.getBoundingBox().getMinX():u.getBoundingBox().getMaxX()}static detectCodeword(u,d,h,v,y,m,C,I){y=pt.adjustCodewordStartColumn(u,d,h,v,y,m);let O=pt.getModuleBitCount(u,d,h,v,y,m);if(O==null)return null;let P,F=St.sum(O);if(v)P=y+F;else{for(let Q=0;Q<O.length/2;Q++){let ee=O[Q];O[Q]=O[O.length-1-Q],O[O.length-1-Q]=ee}P=y,y=P-F}if(!pt.checkCodewordSkew(F,C,I))return null;let H=tn.getDecodedValue(O),Y=st.getCodeword(H);return Y===-1?null:new io(y,P,pt.getCodewordBucketNumber(H),Y)}static getModuleBitCount(u,d,h,v,y,m){let C=y,I=new Int32Array(8),O=0,P=v?1:-1,F=v;for(;(v?C<h:C>=d)&&O<I.length;)u.get(C,m)===F?(I[O]++,C+=P):(O++,F=!F);return O===I.length||C===(v?h:d)&&O===I.length-1?I:null}static getNumberOfECCodeWords(u){return 2<<u}static adjustCodewordStartColumn(u,d,h,v,y,m){let C=y,I=v?-1:1;for(let O=0;O<2;O++){for(;(v?C>=d:C<h)&&v===u.get(C,m);){if(Math.abs(y-C)>pt.CODEWORD_SKEW_SIZE)return y;C+=I}I=-I,v=!v}return C}static checkCodewordSkew(u,d,h){return d-pt.CODEWORD_SKEW_SIZE<=u&&u<=h+pt.CODEWORD_SKEW_SIZE}static decodeCodewords(u,d,h){if(u.length===0)throw V.getFormatInstance();let v=1<<d+1,y=pt.correctErrors(u,h,v);pt.verifyCodewordCount(u,v);let m=de.decode(u,""+d);return m.setErrorsCorrected(y),m.setErasures(h.length),m}static correctErrors(u,d,h){if(d!=null&&d.length>h/2+pt.MAX_ERRORS||h<0||h>pt.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return pt.errorCorrection.decode(u,h,d)}static verifyCodewordCount(u,d){if(u.length<4)throw V.getFormatInstance();let h=u[0];if(h>u.length)throw V.getFormatInstance();if(h===0)if(d<u.length)u[0]=u.length-d;else throw V.getFormatInstance()}static getBitCountForCodeword(u){let d=new Int32Array(8),h=0,v=d.length-1;for(;!((u&1)!==h&&(h=u&1,v--,v<0));)d[v]++,u>>=1;return d}static getCodewordBucketNumber(u){return u instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(u):this.getCodewordBucketNumber_number(u)}static getCodewordBucketNumber_number(u){return pt.getCodewordBucketNumber(pt.getBitCountForCodeword(u))}static getCodewordBucketNumber_Int32Array(u){return(u[0]-u[2]+u[4]-u[6]+9)%9}static toString(u){let d=new ha;for(let h=0;h<u.length;h++){d.format("Row %2d: ",h);for(let v=0;v<u[h].length;v++){let y=u[h][v];y.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}d.format("%n")}return d.toString()}}pt.CODEWORD_SKEW_SIZE=2,pt.MAX_ERRORS=3,pt.MAX_EC_CODEWORDS=512,pt.errorCorrection=new p1;class rn{decode(u,d=null){let h=rn.decode(u,d,!1);if(h==null||h.length===0||h[0]==null)throw le.getNotFoundInstance();return h[0]}decodeMultiple(u,d=null){try{return rn.decode(u,d,!0)}catch(h){throw h instanceof V||h instanceof E?le.getNotFoundInstance():h}}static decode(u,d,h){const v=new Array,y=ft.detectMultiple(u,d,h);for(const m of y.getPoints()){const C=pt.decode(y.getBits(),m[4],m[5],m[6],m[7],rn.getMinCodewordWidth(m),rn.getMaxCodewordWidth(m)),I=new Je(C.getText(),C.getRawBytes(),void 0,m,Re.PDF_417);I.putMetadata(ut.ERROR_CORRECTION_LEVEL,C.getECLevel());const O=C.getOther();O!=null&&I.putMetadata(ut.PDF417_EXTRA_METADATA,O),v.push(I)}return v.map(m=>m)}static getMaxWidth(u,d){return u==null||d==null?0:Math.trunc(Math.abs(u.getX()-d.getX()))}static getMinWidth(u,d){return u==null||d==null?B.MAX_VALUE:Math.trunc(Math.abs(u.getX()-d.getX()))}static getMaxCodewordWidth(u){return Math.floor(Math.max(Math.max(rn.getMaxWidth(u[0],u[4]),rn.getMaxWidth(u[6],u[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(rn.getMaxWidth(u[1],u[5]),rn.getMaxWidth(u[7],u[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(u){return Math.floor(Math.min(Math.min(rn.getMinWidth(u[0],u[4]),rn.getMinWidth(u[6],u[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(rn.getMinWidth(u[1],u[5]),rn.getMinWidth(u[7],u[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class Mo extends c{}Mo.kind="ReaderException";class du{constructor(u,d){this.verbose=u===!0,d&&this.setHints(d)}decode(u,d){return d&&this.setHints(d),this.decodeInternal(u)}decodeWithState(u){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(u)}setHints(u){this.hints=u;const d=!n(u)&&u.get($.TRY_HARDER)===!0,h=n(u)?null:u.get($.POSSIBLE_FORMATS),v=new Array;if(!n(h)){const y=h.some(m=>m===Re.UPC_A||m===Re.UPC_E||m===Re.EAN_13||m===Re.EAN_8||m===Re.CODABAR||m===Re.CODE_39||m===Re.CODE_93||m===Re.CODE_128||m===Re.ITF||m===Re.RSS_14||m===Re.RSS_EXPANDED);y&&!d&&v.push(new Oo(u,this.verbose)),h.includes(Re.QR_CODE)&&v.push(new Mn),h.includes(Re.DATA_MATRIX)&&v.push(new Bi),h.includes(Re.AZTEC)&&v.push(new Fa),h.includes(Re.PDF_417)&&v.push(new rn),y&&d&&v.push(new Oo(u,this.verbose))}v.length===0&&(d||v.push(new Oo(u,this.verbose)),v.push(new Mn),v.push(new Bi),v.push(new Fa),v.push(new rn),d&&v.push(new Oo(u,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const u of this.readers)u.reset()}decodeInternal(u){if(this.readers===null)throw new Mo("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(u,this.hints)}catch(h){if(h instanceof Mo)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class _s extends lt{constructor(u=null,d=500){const h=new du;h.setHints(u),super(h,d)}decodeBitmap(u){return this.reader.decodeWithState(u)}}class hu extends lt{constructor(u=500){super(new rn,u)}}class Ll extends lt{constructor(u=500){super(new Mn,u)}}var x1;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(x1||(x1={}));var Gr=x1;class y1{constructor(u){this.field=u,this.cachedGenerators=[],this.cachedGenerators.push(new Qr(u,Int32Array.from([1])))}buildGenerator(u){const d=this.cachedGenerators;if(u>=d.length){let h=d[d.length-1];const v=this.field;for(let y=d.length;y<=u;y++){const m=h.multiply(new Qr(v,Int32Array.from([1,v.exp(y-1+v.getGeneratorBase())])));d.push(m),h=m}}return d[u]}encode(u,d){if(d===0)throw new x("No error correction bytes");const h=u.length-d;if(h<=0)throw new x("No data bytes provided");const v=this.buildGenerator(d),y=new Int32Array(h);T.arraycopy(u,0,y,0,h);let m=new Qr(this.field,y);m=m.multiplyByMonomial(d,1);const I=m.divide(v)[1].getCoefficients(),O=d-I.length;for(let P=0;P<O;P++)u[h+P]=0;T.arraycopy(I,0,u,h+O,I.length)}}class gr{constructor(){}static applyMaskPenaltyRule1(u){return gr.applyMaskPenaltyRule1Internal(u,!0)+gr.applyMaskPenaltyRule1Internal(u,!1)}static applyMaskPenaltyRule2(u){let d=0;const h=u.getArray(),v=u.getWidth(),y=u.getHeight();for(let m=0;m<y-1;m++){const C=h[m];for(let I=0;I<v-1;I++){const O=C[I];O===C[I+1]&&O===h[m+1][I]&&O===h[m+1][I+1]&&d++}}return gr.N2*d}static applyMaskPenaltyRule3(u){let d=0;const h=u.getArray(),v=u.getWidth(),y=u.getHeight();for(let m=0;m<y;m++)for(let C=0;C<v;C++){const I=h[m];C+6<v&&I[C]===1&&I[C+1]===0&&I[C+2]===1&&I[C+3]===1&&I[C+4]===1&&I[C+5]===0&&I[C+6]===1&&(gr.isWhiteHorizontal(I,C-4,C)||gr.isWhiteHorizontal(I,C+7,C+11))&&d++,m+6<y&&h[m][C]===1&&h[m+1][C]===0&&h[m+2][C]===1&&h[m+3][C]===1&&h[m+4][C]===1&&h[m+5][C]===0&&h[m+6][C]===1&&(gr.isWhiteVertical(h,C,m-4,m)||gr.isWhiteVertical(h,C,m+7,m+11))&&d++}return d*gr.N3}static isWhiteHorizontal(u,d,h){d=Math.max(d,0),h=Math.min(h,u.length);for(let v=d;v<h;v++)if(u[v]===1)return!1;return!0}static isWhiteVertical(u,d,h,v){h=Math.max(h,0),v=Math.min(v,u.length);for(let y=h;y<v;y++)if(u[y][d]===1)return!1;return!0}static applyMaskPenaltyRule4(u){let d=0;const h=u.getArray(),v=u.getWidth(),y=u.getHeight();for(let I=0;I<y;I++){const O=h[I];for(let P=0;P<v;P++)O[P]===1&&d++}const m=u.getHeight()*u.getWidth();return Math.floor(Math.abs(d*2-m)*10/m)*gr.N4}static getDataMaskBit(u,d,h){let v,y;switch(u){case 0:v=h+d&1;break;case 1:v=h&1;break;case 2:v=d%3;break;case 3:v=(h+d)%3;break;case 4:v=Math.floor(h/2)+Math.floor(d/3)&1;break;case 5:y=h*d,v=(y&1)+y%3;break;case 6:y=h*d,v=(y&1)+y%3&1;break;case 7:y=h*d,v=y%3+(h+d&1)&1;break;default:throw new x("Invalid mask pattern: "+u)}return v===0}static applyMaskPenaltyRule1Internal(u,d){let h=0;const v=d?u.getHeight():u.getWidth(),y=d?u.getWidth():u.getHeight(),m=u.getArray();for(let C=0;C<v;C++){let I=0,O=-1;for(let P=0;P<y;P++){const F=d?m[C][P]:m[P][C];F===O?I++:(I>=5&&(h+=gr.N1+(I-5)),I=1,O=F)}I>=5&&(h+=gr.N1+(I-5))}return h}}gr.N1=3,gr.N2=3,gr.N3=40,gr.N4=10;class pu{constructor(u,d){this.width=u,this.height=d;const h=new Array(d);for(let v=0;v!==d;v++)h[v]=new Uint8Array(u);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(u,d){return this.bytes[d][u]}getArray(){return this.bytes}setNumber(u,d,h){this.bytes[d][u]=h}setBoolean(u,d,h){this.bytes[d][u]=h?1:0}clear(u){for(const d of this.bytes)M.fill(d,u)}equals(u){if(!(u instanceof pu))return!1;const d=u;if(this.width!==d.width||this.height!==d.height)return!1;for(let h=0,v=this.height;h<v;++h){const y=this.bytes[h],m=d.bytes[h];for(let C=0,I=this.width;C<I;++C)if(y[C]!==m[C])return!1}return!0}toString(){const u=new Ee;for(let d=0,h=this.height;d<h;++d){const v=this.bytes[d];for(let y=0,m=this.width;y<m;++y)switch(v[y]){case 0:u.append(" 0");break;case 1:u.append(" 1");break;default:u.append("  ");break}u.append(`
`)}return u.toString()}}class ao{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const u=new Ee;return u.append(`<<
`),u.append(" mode: "),u.append(this.mode?this.mode.toString():"null"),u.append(`
 ecLevel: `),u.append(this.ecLevel?this.ecLevel.toString():"null"),u.append(`
 version: `),u.append(this.version?this.version.toString():"null"),u.append(`
 maskPattern: `),u.append(this.maskPattern.toString()),this.matrix?(u.append(`
 matrix:
`),u.append(this.matrix.toString())):u.append(`
 matrix: null
`),u.append(`>>
`),u.toString()}setMode(u){this.mode=u}setECLevel(u){this.ecLevel=u}setVersion(u){this.version=u}setMaskPattern(u){this.maskPattern=u}setMatrix(u){this.matrix=u}static isValidMaskPattern(u){return u>=0&&u<ao.NUM_MASK_PATTERNS}}ao.NUM_MASK_PATTERNS=8;class tr extends c{}tr.kind="WriterException";class et{constructor(){}static clearMatrix(u){u.clear(255)}static buildMatrix(u,d,h,v,y){et.clearMatrix(y),et.embedBasicPatterns(h,y),et.embedTypeInfo(d,v,y),et.maybeEmbedVersionInfo(h,y),et.embedDataBits(u,v,y)}static embedBasicPatterns(u,d){et.embedPositionDetectionPatternsAndSeparators(d),et.embedDarkDotAtLeftBottomCorner(d),et.maybeEmbedPositionAdjustmentPatterns(u,d),et.embedTimingPatterns(d)}static embedTypeInfo(u,d,h){const v=new k;et.makeTypeInfoBits(u,d,v);for(let y=0,m=v.getSize();y<m;++y){const C=v.get(v.getSize()-1-y),I=et.TYPE_INFO_COORDINATES[y],O=I[0],P=I[1];if(h.setBoolean(O,P,C),y<8){const F=h.getWidth()-y-1;h.setBoolean(F,8,C)}else{const H=h.getHeight()-7+(y-8);h.setBoolean(8,H,C)}}}static maybeEmbedVersionInfo(u,d){if(u.getVersionNumber()<7)return;const h=new k;et.makeVersionInfoBits(u,h);let v=6*3-1;for(let y=0;y<6;++y)for(let m=0;m<3;++m){const C=h.get(v);v--,d.setBoolean(y,d.getHeight()-11+m,C),d.setBoolean(d.getHeight()-11+m,y,C)}}static embedDataBits(u,d,h){let v=0,y=-1,m=h.getWidth()-1,C=h.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);C>=0&&C<h.getHeight();){for(let I=0;I<2;++I){const O=m-I;if(!et.isEmpty(h.get(O,C)))continue;let P;v<u.getSize()?(P=u.get(v),++v):P=!1,d!==255&&gr.getDataMaskBit(d,O,C)&&(P=!P),h.setBoolean(O,C,P)}C+=y}y=-y,C+=y,m-=2}if(v!==u.getSize())throw new tr("Not all bits consumed: "+v+"/"+u.getSize())}static findMSBSet(u){return 32-B.numberOfLeadingZeros(u)}static calculateBCHCode(u,d){if(d===0)throw new x("0 polynomial");const h=et.findMSBSet(d);for(u<<=h-1;et.findMSBSet(u)>=h;)u^=d<<et.findMSBSet(u)-h;return u}static makeTypeInfoBits(u,d,h){if(!ao.isValidMaskPattern(d))throw new tr("Invalid mask pattern");const v=u.getBits()<<3|d;h.appendBits(v,5);const y=et.calculateBCHCode(v,et.TYPE_INFO_POLY);h.appendBits(y,10);const m=new k;if(m.appendBits(et.TYPE_INFO_MASK_PATTERN,15),h.xor(m),h.getSize()!==15)throw new tr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(u,d){d.appendBits(u.getVersionNumber(),6);const h=et.calculateBCHCode(u.getVersionNumber(),et.VERSION_INFO_POLY);if(d.appendBits(h,12),d.getSize()!==18)throw new tr("should not happen but we got: "+d.getSize())}static isEmpty(u){return u===255}static embedTimingPatterns(u){for(let d=8;d<u.getWidth()-8;++d){const h=(d+1)%2;et.isEmpty(u.get(d,6))&&u.setNumber(d,6,h),et.isEmpty(u.get(6,d))&&u.setNumber(6,d,h)}}static embedDarkDotAtLeftBottomCorner(u){if(u.get(8,u.getHeight()-8)===0)throw new tr;u.setNumber(8,u.getHeight()-8,1)}static embedHorizontalSeparationPattern(u,d,h){for(let v=0;v<8;++v){if(!et.isEmpty(h.get(u+v,d)))throw new tr;h.setNumber(u+v,d,0)}}static embedVerticalSeparationPattern(u,d,h){for(let v=0;v<7;++v){if(!et.isEmpty(h.get(u,d+v)))throw new tr;h.setNumber(u,d+v,0)}}static embedPositionAdjustmentPattern(u,d,h){for(let v=0;v<5;++v){const y=et.POSITION_ADJUSTMENT_PATTERN[v];for(let m=0;m<5;++m)h.setNumber(u+m,d+v,y[m])}}static embedPositionDetectionPattern(u,d,h){for(let v=0;v<7;++v){const y=et.POSITION_DETECTION_PATTERN[v];for(let m=0;m<7;++m)h.setNumber(u+m,d+v,y[m])}}static embedPositionDetectionPatternsAndSeparators(u){const d=et.POSITION_DETECTION_PATTERN[0].length;et.embedPositionDetectionPattern(0,0,u),et.embedPositionDetectionPattern(u.getWidth()-d,0,u),et.embedPositionDetectionPattern(0,u.getWidth()-d,u);const h=8;et.embedHorizontalSeparationPattern(0,h-1,u),et.embedHorizontalSeparationPattern(u.getWidth()-h,h-1,u),et.embedHorizontalSeparationPattern(0,u.getWidth()-h,u);const v=7;et.embedVerticalSeparationPattern(v,0,u),et.embedVerticalSeparationPattern(u.getHeight()-v-1,0,u),et.embedVerticalSeparationPattern(v,u.getHeight()-v,u)}static maybeEmbedPositionAdjustmentPatterns(u,d){if(u.getVersionNumber()<2)return;const h=u.getVersionNumber()-1,v=et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let y=0,m=v.length;y!==m;y++){const C=v[y];if(C>=0)for(let I=0;I!==m;I++){const O=v[I];O>=0&&et.isEmpty(d.get(O,C))&&et.embedPositionAdjustmentPattern(O-2,C-2,d)}}}}et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),et.VERSION_INFO_POLY=7973,et.TYPE_INFO_POLY=1335,et.TYPE_INFO_MASK_PATTERN=21522;class Wf{constructor(u,d){this.dataBytes=u,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class sr{constructor(){}static calculateMaskPenalty(u){return gr.applyMaskPenaltyRule1(u)+gr.applyMaskPenaltyRule2(u)+gr.applyMaskPenaltyRule3(u)+gr.applyMaskPenaltyRule4(u)}static encode(u,d,h=null){let v=sr.DEFAULT_BYTE_MODE_ENCODING;const y=h!==null&&h.get(Gr.CHARACTER_SET)!==void 0;y&&(v=h.get(Gr.CHARACTER_SET).toString());const m=this.chooseMode(u,v),C=new k;if(m===qe.BYTE&&(y||sr.DEFAULT_BYTE_MODE_ENCODING!==v)){const Te=q.getCharacterSetECIByName(v);Te!==void 0&&this.appendECI(Te,C)}this.appendModeInfo(m,C);const I=new k;this.appendBytes(u,m,I,v);let O;if(h!==null&&h.get(Gr.QR_VERSION)!==void 0){const Te=Number.parseInt(h.get(Gr.QR_VERSION).toString(),10);O=Ke.getVersionForNumber(Te);const Ce=this.calculateBitsNeeded(m,C,I,O);if(!this.willFit(Ce,O,d))throw new tr("Data too big for requested version")}else O=this.recommendVersion(d,m,C,I);const P=new k;P.appendBitArray(C);const F=m===qe.BYTE?I.getSizeInBytes():u.length;this.appendLengthInfo(F,O,m,P),P.appendBitArray(I);const H=O.getECBlocksForLevel(d),Y=O.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(Y,P);const Q=this.interleaveWithECBytes(P,O.getTotalCodewords(),Y,H.getNumBlocks()),ee=new ao;ee.setECLevel(d),ee.setMode(m),ee.setVersion(O);const ne=O.getDimensionForVersion(),fe=new pu(ne,ne),Ie=this.chooseMaskPattern(Q,d,O,fe);return ee.setMaskPattern(Ie),et.buildMatrix(Q,d,O,Ie,fe),ee.setMatrix(fe),ee}static recommendVersion(u,d,h,v){const y=this.calculateBitsNeeded(d,h,v,Ke.getVersionForNumber(1)),m=this.chooseVersion(y,u),C=this.calculateBitsNeeded(d,h,v,m);return this.chooseVersion(C,u)}static calculateBitsNeeded(u,d,h,v){return d.getSize()+u.getCharacterCountBits(v)+h.getSize()}static getAlphanumericCode(u){return u<sr.ALPHANUMERIC_TABLE.length?sr.ALPHANUMERIC_TABLE[u]:-1}static chooseMode(u,d=null){if(q.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(u))return qe.KANJI;let h=!1,v=!1;for(let y=0,m=u.length;y<m;++y){const C=u.charAt(y);if(sr.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)v=!0;else return qe.BYTE}return v?qe.ALPHANUMERIC:h?qe.NUMERIC:qe.BYTE}static isOnlyDoubleByteKanji(u){let d;try{d=Be.encode(u,q.SJIS)}catch{return!1}const h=d.length;if(h%2!==0)return!1;for(let v=0;v<h;v+=2){const y=d[v]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(u,d,h,v){let y=Number.MAX_SAFE_INTEGER,m=-1;for(let C=0;C<ao.NUM_MASK_PATTERNS;C++){et.buildMatrix(u,d,h,C,v);let I=this.calculateMaskPenalty(v);I<y&&(y=I,m=C)}return m}static chooseVersion(u,d){for(let h=1;h<=40;h++){const v=Ke.getVersionForNumber(h);if(sr.willFit(u,v,d))return v}throw new tr("Data too big")}static willFit(u,d,h){const v=d.getTotalCodewords(),m=d.getECBlocksForLevel(h).getTotalECCodewords(),C=v-m,I=(u+7)/8;return C>=I}static terminateBits(u,d){const h=u*8;if(d.getSize()>h)throw new tr("data bits cannot fit in the QR Code"+d.getSize()+" > "+h);for(let m=0;m<4&&d.getSize()<h;++m)d.appendBit(!1);const v=d.getSize()&7;if(v>0)for(let m=v;m<8;m++)d.appendBit(!1);const y=u-d.getSizeInBytes();for(let m=0;m<y;++m)d.appendBits(m&1?17:236,8);if(d.getSize()!==h)throw new tr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(u,d,h,v,y,m){if(v>=h)throw new tr("Block ID too large");const C=u%h,I=h-C,O=Math.floor(u/h),P=O+1,F=Math.floor(d/h),H=F+1,Y=O-F,Q=P-H;if(Y!==Q)throw new tr("EC bytes mismatch");if(h!==I+C)throw new tr("RS blocks mismatch");if(u!==(F+Y)*I+(H+Q)*C)throw new tr("Total bytes mismatch");v<I?(y[0]=F,m[0]=Y):(y[0]=H,m[0]=Q)}static interleaveWithECBytes(u,d,h,v){if(u.getSizeInBytes()!==h)throw new tr("Number of bits and data bytes does not match");let y=0,m=0,C=0;const I=new Array;for(let P=0;P<v;++P){const F=new Int32Array(1),H=new Int32Array(1);sr.getNumDataBytesAndNumECBytesForBlockID(d,h,v,P,F,H);const Y=F[0],Q=new Uint8Array(Y);u.toBytes(8*y,Q,0,Y);const ee=sr.generateECBytes(Q,H[0]);I.push(new Wf(Q,ee)),m=Math.max(m,Y),C=Math.max(C,ee.length),y+=F[0]}if(h!==y)throw new tr("Data bytes does not match offset");const O=new k;for(let P=0;P<m;++P)for(const F of I){const H=F.getDataBytes();P<H.length&&O.appendBits(H[P],8)}for(let P=0;P<C;++P)for(const F of I){const H=F.getErrorCorrectionBytes();P<H.length&&O.appendBits(H[P],8)}if(d!==O.getSizeInBytes())throw new tr("Interleaving error: "+d+" and "+O.getSizeInBytes()+" differ.");return O}static generateECBytes(u,d){const h=u.length,v=new Int32Array(h+d);for(let m=0;m<h;m++)v[m]=u[m]&255;new y1(Nt.QR_CODE_FIELD_256).encode(v,d);const y=new Uint8Array(d);for(let m=0;m<d;m++)y[m]=v[h+m];return y}static appendModeInfo(u,d){d.appendBits(u.getBits(),4)}static appendLengthInfo(u,d,h,v){const y=h.getCharacterCountBits(d);if(u>=1<<y)throw new tr(u+" is bigger than "+((1<<y)-1));v.appendBits(u,y)}static appendBytes(u,d,h,v){switch(d){case qe.NUMERIC:sr.appendNumericBytes(u,h);break;case qe.ALPHANUMERIC:sr.appendAlphanumericBytes(u,h);break;case qe.BYTE:sr.append8BitBytes(u,h,v);break;case qe.KANJI:sr.appendKanjiBytes(u,h);break;default:throw new tr("Invalid mode: "+d)}}static getDigit(u){return u.charCodeAt(0)-48}static isDigit(u){const d=sr.getDigit(u);return d>=0&&d<=9}static appendNumericBytes(u,d){const h=u.length;let v=0;for(;v<h;){const y=sr.getDigit(u.charAt(v));if(v+2<h){const m=sr.getDigit(u.charAt(v+1)),C=sr.getDigit(u.charAt(v+2));d.appendBits(y*100+m*10+C,10),v+=3}else if(v+1<h){const m=sr.getDigit(u.charAt(v+1));d.appendBits(y*10+m,7),v+=2}else d.appendBits(y,4),v++}}static appendAlphanumericBytes(u,d){const h=u.length;let v=0;for(;v<h;){const y=sr.getAlphanumericCode(u.charCodeAt(v));if(y===-1)throw new tr;if(v+1<h){const m=sr.getAlphanumericCode(u.charCodeAt(v+1));if(m===-1)throw new tr;d.appendBits(y*45+m,11),v+=2}else d.appendBits(y,6),v++}}static append8BitBytes(u,d,h){let v;try{v=Be.encode(u,h)}catch(y){throw new tr(y)}for(let y=0,m=v.length;y!==m;y++){const C=v[y];d.appendBits(C,8)}}static appendKanjiBytes(u,d){let h;try{h=Be.encode(u,q.SJIS)}catch(y){throw new tr(y)}const v=h.length;for(let y=0;y<v;y+=2){const m=h[y]&255,C=h[y+1]&255,I=m<<8&4294967295|C;let O=-1;if(I>=33088&&I<=40956?O=I-33088:I>=57408&&I<=60351&&(O=I-49472),O===-1)throw new tr("Invalid byte sequence");const P=(O>>8)*192+(O&255);d.appendBits(P,13)}}static appendECI(u,d){d.appendBits(qe.ECI.getBits(),4),d.appendBits(u.getValue(),8)}}sr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),sr.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class oo{write(u,d,h,v=null){if(u.length===0)throw new x("Found empty contents");if(d<0||h<0)throw new x("Requested dimensions are too small: "+d+"x"+h);let y=Qt.L,m=oo.QUIET_ZONE_SIZE;v!==null&&(v.get(Gr.ERROR_CORRECTION)!==void 0&&(y=Qt.fromString(v.get(Gr.ERROR_CORRECTION).toString())),v.get(Gr.MARGIN)!==void 0&&(m=Number.parseInt(v.get(Gr.MARGIN).toString(),10)));const C=sr.encode(u,y,v);return this.renderResult(C,d,h,m)}writeToDom(u,d,h,v,y=null){typeof u=="string"&&(u=document.querySelector(u));const m=this.write(d,h,v,y);u&&u.appendChild(m)}renderResult(u,d,h,v){const y=u.getMatrix();if(y===null)throw new bi;const m=y.getWidth(),C=y.getHeight(),I=m+v*2,O=C+v*2,P=Math.max(d,I),F=Math.max(h,O),H=Math.min(Math.floor(P/I),Math.floor(F/O)),Y=Math.floor((P-m*H)/2),Q=Math.floor((F-C*H)/2),ee=this.createSVGElement(P,F);for(let ne=0,fe=Q;ne<C;ne++,fe+=H)for(let Ie=0,Te=Y;Ie<m;Ie++,Te+=H)if(y.get(Ie,ne)===1){const Ce=this.createSvgRectElement(Te,fe,H,H);ee.appendChild(Ce)}return ee}createSVGElement(u,d){const h=document.createElementNS(oo.SVG_NS,"svg");return h.setAttributeNS(null,"height",u.toString()),h.setAttributeNS(null,"width",d.toString()),h}createSvgRectElement(u,d,h,v){const y=document.createElementNS(oo.SVG_NS,"rect");return y.setAttributeNS(null,"x",u.toString()),y.setAttributeNS(null,"y",d.toString()),y.setAttributeNS(null,"height",h.toString()),y.setAttributeNS(null,"width",v.toString()),y.setAttributeNS(null,"fill","#000000"),y}}oo.QUIET_ZONE_SIZE=4,oo.SVG_NS="http://www.w3.org/2000/svg";class Po{encode(u,d,h,v,y){if(u.length===0)throw new x("Found empty contents");if(d!==Re.QR_CODE)throw new x("Can only encode QR_CODE, but got "+d);if(h<0||v<0)throw new x(`Requested dimensions are too small: ${h}x${v}`);let m=Qt.L,C=Po.QUIET_ZONE_SIZE;y!==null&&(y.get(Gr.ERROR_CORRECTION)!==void 0&&(m=Qt.fromString(y.get(Gr.ERROR_CORRECTION).toString())),y.get(Gr.MARGIN)!==void 0&&(C=Number.parseInt(y.get(Gr.MARGIN).toString(),10)));const I=sr.encode(u,m,y);return Po.renderResult(I,h,v,C)}static renderResult(u,d,h,v){const y=u.getMatrix();if(y===null)throw new bi;const m=y.getWidth(),C=y.getHeight(),I=m+v*2,O=C+v*2,P=Math.max(d,I),F=Math.max(h,O),H=Math.min(Math.floor(P/I),Math.floor(F/O)),Y=Math.floor((P-m*H)/2),Q=Math.floor((F-C*H)/2),ee=new Ye(P,F);for(let ne=0,fe=Q;ne<C;ne++,fe+=H)for(let Ie=0,Te=Y;Ie<m;Ie++,Te+=H)y.get(Ie,ne)===1&&ee.setRegion(Te,fe,H,H);return ee}}Po.QUIET_ZONE_SIZE=4;class Xf{encode(u,d,h,v,y){let m;switch(d){case Re.QR_CODE:m=new Po;break;default:throw new x("No encoder available for format "+d)}return m.encode(u,d,h,v,y)}}class qi extends be{constructor(u,d,h,v,y,m,C,I){if(super(m,C),this.yuvData=u,this.dataWidth=d,this.dataHeight=h,this.left=v,this.top=y,v+m>d||y+C>h)throw new x("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(m,C)}getRow(u,d){if(u<0||u>=this.getHeight())throw new x("Requested row is outside the image: "+u);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const v=(u+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,v,d,0,h),d}getMatrix(){const u=this.getWidth(),d=this.getHeight();if(u===this.dataWidth&&d===this.dataHeight)return this.yuvData;const h=u*d,v=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(u===this.dataWidth)return T.arraycopy(this.yuvData,y,v,0,h),v;for(let m=0;m<d;m++){const C=m*u;T.arraycopy(this.yuvData,y,v,C,u),y+=this.dataWidth}return v}isCropSupported(){return!0}crop(u,d,h,v){return new qi(this.yuvData,this.dataWidth,this.dataHeight,this.left+u,this.top+d,h,v,!1)}renderThumbnail(){const u=this.getWidth()/qi.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/qi.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(u*d),v=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let m=0;m<d;m++){const C=m*u;for(let I=0;I<u;I++){const O=v[y+I*qi.THUMBNAIL_SCALE_FACTOR]&255;h[C+I]=4278190080|O*65793}y+=this.dataWidth*qi.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/qi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(u,d){const h=this.yuvData;for(let v=0,y=this.top*this.dataWidth+this.left;v<d;v++,y+=this.dataWidth){const m=y+u/2;for(let C=y,I=y+u-1;C<m;C++,I--){const O=h[C];h[C]=h[I],h[I]=O}}}invert(){return new Ze(this)}}qi.THUMBNAIL_SCALE_FACTOR=2;class Ss extends be{constructor(u,d,h,v,y,m,C){if(super(d,h),this.dataWidth=v,this.dataHeight=y,this.left=m,this.top=C,u.BYTES_PER_ELEMENT===4){const I=d*h,O=new Uint8ClampedArray(I);for(let P=0;P<I;P++){const F=u[P],H=F>>16&255,Y=F>>7&510,Q=F&255;O[P]=(H+Y+Q)/4&255}this.luminances=O}else this.luminances=u;if(v===void 0&&(this.dataWidth=d),y===void 0&&(this.dataHeight=h),m===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+h>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(u,d){if(u<0||u>=this.getHeight())throw new x("Requested row is outside the image: "+u);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const v=(u+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,v,d,0,h),d}getMatrix(){const u=this.getWidth(),d=this.getHeight();if(u===this.dataWidth&&d===this.dataHeight)return this.luminances;const h=u*d,v=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(u===this.dataWidth)return T.arraycopy(this.luminances,y,v,0,h),v;for(let m=0;m<d;m++){const C=m*u;T.arraycopy(this.luminances,y,v,C,u),y+=this.dataWidth}return v}isCropSupported(){return!0}crop(u,d,h,v){return new Ss(this.luminances,h,v,this.dataWidth,this.dataHeight,this.left+u,this.top+d)}invert(){return new Ze(this)}}class Fl extends q{static forName(u){return this.getCharacterSetECIByName(u)}}class m1{}m1.ISO_8859_1=q.ISO8859_1;class kl{isCompact(){return this.compact}setCompact(u){this.compact=u}getSize(){return this.size}setSize(u){this.size=u}getLayers(){return this.layers}setLayers(u){this.layers=u}getCodeWords(){return this.codeWords}setCodeWords(u){this.codeWords=u}getMatrix(){return this.matrix}setMatrix(u){this.matrix=u}}class w1{static singletonList(u){return[u]}static min(u,d){return u.sort(d)[0]}}class Yf{constructor(u){this.previous=u}getPrevious(){return this.previous}}class Bo extends Yf{constructor(u,d,h){super(u),this.value=d,this.bitCount=h}appendTo(u,d){u.appendBits(this.value,this.bitCount)}add(u,d){return new Bo(this,u,d)}addBinaryShift(u,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bo(this,u,d)}toString(){let u=this.value&(1<<this.bitCount)-1;return u|=1<<this.bitCount,"<"+B.toBinaryString(u|1<<this.bitCount).substring(1)+">"}}class A1 extends Bo{constructor(u,d,h){super(u,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=h}appendTo(u,d){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(u.appendBits(31,5),this.binaryShiftByteCount>62?u.appendBits(this.binaryShiftByteCount-31,16):h===0?u.appendBits(Math.min(this.binaryShiftByteCount,31),5):u.appendBits(this.binaryShiftByteCount-31,5)),u.appendBits(d[this.binaryShiftStart+h],8)}addBinaryShift(u,d){return new A1(this,u,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $f(L,u,d){return new A1(L,u,d)}function Is(L,u,d){return new Bo(L,u,d)}const Zf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ha=0,Lo=1,wn=2,Ul=3,Fi=4,jl=new Bo(null,0,0),gu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Hl(L){for(let u of L)M.fill(u,-1);return L[Ha][Fi]=0,L[Lo][Fi]=0,L[Lo][Ha]=28,L[Ul][Fi]=0,L[wn][Fi]=0,L[wn][Ha]=15,L}const E1=Hl(M.createInt32Array(6,6));class Pn{constructor(u,d,h,v){this.token=u,this.mode=d,this.binaryShiftByteCount=h,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(u,d){let h=this.bitCount,v=this.token;if(u!==this.mode){let m=gu[this.mode][u];v=Is(v,m&65535,m>>16),h+=m>>16}let y=u===wn?4:5;return v=Is(v,d,y),new Pn(v,u,0,h+y)}shiftAndAppend(u,d){let h=this.token,v=this.mode===wn?4:5;return h=Is(h,E1[this.mode][u],v),h=Is(h,d,5),new Pn(h,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(u){let d=this.token,h=this.mode,v=this.bitCount;if(this.mode===Fi||this.mode===wn){let C=gu[h][Ha];d=Is(d,C&65535,C>>16),v+=C>>16,h=Ha}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Pn(d,h,this.binaryShiftByteCount+1,v+y);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(u+1)),m}endBinaryShift(u){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=$f(d,u-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pn(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(u){let d=this.bitCount+(gu[this.mode][u.mode]>>16);return this.binaryShiftByteCount<u.binaryShiftByteCount?d+=Pn.calculateBinaryShiftCost(u)-Pn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>u.binaryShiftByteCount&&u.binaryShiftByteCount>0&&(d+=10),d<=u.bitCount}toBitArray(u){let d=[];for(let v=this.endBinaryShift(u.length).token;v!==null;v=v.getPrevious())d.unshift(v);let h=new k;for(const v of d)v.appendTo(h,u);return h}toString(){return ge.format("%s bits=%d bytes=%d",Zf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(u){return u.binaryShiftByteCount>62?21:u.binaryShiftByteCount>31?20:u.binaryShiftByteCount>0?10:0}}Pn.INITIAL_STATE=new Pn(jl,Ha,0,0);function Kf(L){const u=ge.getCharCode(" "),d=ge.getCharCode("."),h=ge.getCharCode(",");L[Ha][u]=1;const v=ge.getCharCode("Z"),y=ge.getCharCode("A");for(let H=y;H<=v;H++)L[Ha][H]=H-y+2;L[Lo][u]=1;const m=ge.getCharCode("z"),C=ge.getCharCode("a");for(let H=C;H<=m;H++)L[Lo][H]=H-C+2;L[wn][u]=1;const I=ge.getCharCode("9"),O=ge.getCharCode("0");for(let H=O;H<=I;H++)L[wn][H]=H-O+2;L[wn][h]=12,L[wn][d]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<P.length;H++)L[Ul][ge.getCharCode(P[H])]=H;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<F.length;H++)ge.getCharCode(F[H])>0&&(L[Fi][ge.getCharCode(F[H])]=H);return L}const C1=Kf(M.createInt32Array(5,256));class Ts{constructor(u){this.text=u}encode(){const u=ge.getCharCode(" "),d=ge.getCharCode(`
`);let h=w1.singletonList(Pn.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let m,C=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case ge.getCharCode("\r"):m=C===d?2:0;break;case ge.getCharCode("."):m=C===u?3:0;break;case ge.getCharCode(","):m=C===u?4:0;break;case ge.getCharCode(":"):m=C===u?5:0;break;default:m=0}m>0?(h=Ts.updateStateListForPair(h,y,m),y++):h=this.updateStateListForChar(h,y)}return w1.min(h,(y,m)=>y.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(u,d){const h=[];for(let v of u)this.updateStateForChar(v,d,h);return Ts.simplifyStates(h)}updateStateForChar(u,d,h){let v=this.text[d]&255,y=C1[u.getMode()][v]>0,m=null;for(let C=0;C<=Fi;C++){let I=C1[C][v];if(I>0){if(m==null&&(m=u.endBinaryShift(d)),!y||C===u.getMode()||C===wn){const O=m.latchAndAppend(C,I);h.push(O)}if(!y&&E1[u.getMode()][C]>=0){const O=m.shiftAndAppend(C,I);h.push(O)}}}if(u.getBinaryShiftByteCount()>0||C1[u.getMode()][v]===0){let C=u.addBinaryShiftChar(d);h.push(C)}}static updateStateListForPair(u,d,h){const v=[];for(let y of u)this.updateStateForPair(y,d,h,v);return this.simplifyStates(v)}static updateStateForPair(u,d,h,v){let y=u.endBinaryShift(d);if(v.push(y.latchAndAppend(Fi,h)),u.getMode()!==Fi&&v.push(y.shiftAndAppend(Fi,h)),h===3||h===4){let m=y.latchAndAppend(wn,16-h).latchAndAppend(wn,1);v.push(m)}if(u.getBinaryShiftByteCount()>0){let m=u.addBinaryShiftChar(d).addBinaryShiftChar(d+1);v.push(m)}}static simplifyStates(u){let d=[];for(const h of u){let v=!0;for(const y of d){if(y.isBetterThanOrEqualTo(h)){v=!1;break}h.isBetterThanOrEqualTo(y)&&(d=d.filter(m=>m!==y))}v&&d.push(h)}return d}}class bt{constructor(){}static encodeBytes(u){return bt.encode(u,bt.DEFAULT_EC_PERCENT,bt.DEFAULT_AZTEC_LAYERS)}static encode(u,d,h){let v=new Ts(u).encode(),y=B.truncDivision(v.getSize()*d,100)+11,m=v.getSize()+y,C,I,O,P,F;if(h!==bt.DEFAULT_AZTEC_LAYERS){if(C=h<0,I=Math.abs(h),I>(C?bt.MAX_NB_BITS_COMPACT:bt.MAX_NB_BITS))throw new x(ge.format("Illegal value %s for layers",h));O=bt.totalBitsInLayer(I,C),P=bt.WORD_SIZE[I];let Ce=O-O%P;if(F=bt.stuffBits(v,P),F.getSize()+y>Ce)throw new x("Data to large for user specified layer");if(C&&F.getSize()>P*64)throw new x("Data to large for user specified layer")}else{P=0,F=null;for(let Ce=0;;Ce++){if(Ce>bt.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(C=Ce<=3,I=C?Ce+1:Ce,O=bt.totalBitsInLayer(I,C),m>O)continue;(F==null||P!==bt.WORD_SIZE[I])&&(P=bt.WORD_SIZE[I],F=bt.stuffBits(v,P));let yt=O-O%P;if(!(C&&F.getSize()>P*64)&&F.getSize()+y<=yt)break}}let H=bt.generateCheckWords(F,O,P),Y=F.getSize()/P,Q=bt.generateModeMessage(C,I,Y),ee=(C?11:14)+I*4,ne=new Int32Array(ee),fe;if(C){fe=ee;for(let Ce=0;Ce<ne.length;Ce++)ne[Ce]=Ce}else{fe=ee+1+2*B.truncDivision(B.truncDivision(ee,2)-1,15);let Ce=B.truncDivision(ee,2),yt=B.truncDivision(fe,2);for(let dt=0;dt<Ce;dt++){let Yn=dt+B.truncDivision(dt,15);ne[Ce-dt-1]=yt-Yn-1,ne[Ce+dt]=yt+Yn+1}}let Ie=new Ye(fe);for(let Ce=0,yt=0;Ce<I;Ce++){let dt=(I-Ce)*4+(C?9:12);for(let Yn=0;Yn<dt;Yn++){let ki=Yn*2;for(let Wr=0;Wr<2;Wr++)H.get(yt+ki+Wr)&&Ie.set(ne[Ce*2+Wr],ne[Ce*2+Yn]),H.get(yt+dt*2+ki+Wr)&&Ie.set(ne[Ce*2+Yn],ne[ee-1-Ce*2-Wr]),H.get(yt+dt*4+ki+Wr)&&Ie.set(ne[ee-1-Ce*2-Wr],ne[ee-1-Ce*2-Yn]),H.get(yt+dt*6+ki+Wr)&&Ie.set(ne[ee-1-Ce*2-Yn],ne[Ce*2+Wr])}yt+=dt*8}if(bt.drawModeMessage(Ie,C,fe,Q),C)bt.drawBullsEye(Ie,B.truncDivision(fe,2),5);else{bt.drawBullsEye(Ie,B.truncDivision(fe,2),7);for(let Ce=0,yt=0;Ce<B.truncDivision(ee,2)-1;Ce+=15,yt+=16)for(let dt=B.truncDivision(fe,2)&1;dt<fe;dt+=2)Ie.set(B.truncDivision(fe,2)-yt,dt),Ie.set(B.truncDivision(fe,2)+yt,dt),Ie.set(dt,B.truncDivision(fe,2)-yt),Ie.set(dt,B.truncDivision(fe,2)+yt)}let Te=new kl;return Te.setCompact(C),Te.setSize(fe),Te.setLayers(I),Te.setCodeWords(Y),Te.setMatrix(Ie),Te}static drawBullsEye(u,d,h){for(let v=0;v<h;v+=2)for(let y=d-v;y<=d+v;y++)u.set(y,d-v),u.set(y,d+v),u.set(d-v,y),u.set(d+v,y);u.set(d-h,d-h),u.set(d-h+1,d-h),u.set(d-h,d-h+1),u.set(d+h,d-h),u.set(d+h,d-h+1),u.set(d+h,d+h-1)}static generateModeMessage(u,d,h){let v=new k;return u?(v.appendBits(d-1,2),v.appendBits(h-1,6),v=bt.generateCheckWords(v,28,4)):(v.appendBits(d-1,5),v.appendBits(h-1,11),v=bt.generateCheckWords(v,40,4)),v}static drawModeMessage(u,d,h,v){let y=B.truncDivision(h,2);if(d)for(let m=0;m<7;m++){let C=y-3+m;v.get(m)&&u.set(C,y-5),v.get(m+7)&&u.set(y+5,C),v.get(20-m)&&u.set(C,y+5),v.get(27-m)&&u.set(y-5,C)}else for(let m=0;m<10;m++){let C=y-5+m+B.truncDivision(m,5);v.get(m)&&u.set(C,y-7),v.get(m+10)&&u.set(y+7,C),v.get(29-m)&&u.set(C,y+7),v.get(39-m)&&u.set(y-7,C)}}static generateCheckWords(u,d,h){let v=u.getSize()/h,y=new y1(bt.getGF(h)),m=B.truncDivision(d,h),C=bt.bitsToWords(u,h,m);y.encode(C,m-v);let I=d%h,O=new k;O.appendBits(0,I);for(const P of Array.from(C))O.appendBits(P,h);return O}static bitsToWords(u,d,h){let v=new Int32Array(h),y,m;for(y=0,m=u.getSize()/d;y<m;y++){let C=0;for(let I=0;I<d;I++)C|=u.get(y*d+I)?1<<d-I-1:0;v[y]=C}return v}static getGF(u){switch(u){case 4:return Nt.AZTEC_PARAM;case 6:return Nt.AZTEC_DATA_6;case 8:return Nt.AZTEC_DATA_8;case 10:return Nt.AZTEC_DATA_10;case 12:return Nt.AZTEC_DATA_12;default:throw new x("Unsupported word size "+u)}}static stuffBits(u,d){let h=new k,v=u.getSize(),y=(1<<d)-2;for(let m=0;m<v;m+=d){let C=0;for(let I=0;I<d;I++)(m+I>=v||u.get(m+I))&&(C|=1<<d-1-I);(C&y)===y?(h.appendBits(C&y,d),m--):C&y?h.appendBits(C,d):(h.appendBits(C|1,d),m--)}return h}static totalBitsInLayer(u,d){return((d?88:112)+16*u)*u}}bt.DEFAULT_EC_PERCENT=33,bt.DEFAULT_AZTEC_LAYERS=0,bt.MAX_NB_BITS=32,bt.MAX_NB_BITS_COMPACT=4,bt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Os{encode(u,d,h,v){return this.encodeWithHints(u,d,h,v,null)}encodeWithHints(u,d,h,v,y){let m=m1.ISO_8859_1,C=bt.DEFAULT_EC_PERCENT,I=bt.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(Gr.CHARACTER_SET)&&(m=Fl.forName(y.get(Gr.CHARACTER_SET).toString())),y.has(Gr.ERROR_CORRECTION)&&(C=B.parseInt(y.get(Gr.ERROR_CORRECTION).toString())),y.has(Gr.AZTEC_LAYERS)&&(I=B.parseInt(y.get(Gr.AZTEC_LAYERS).toString()))),Os.encodeLayers(u,d,h,v,m,C,I)}static encodeLayers(u,d,h,v,y,m,C){if(d!==Re.AZTEC)throw new x("Can only encode AZTEC, but got "+d);let I=bt.encode(ge.getBytes(u,y),m,C);return Os.renderResult(I,h,v)}static renderResult(u,d,h){let v=u.getMatrix();if(v==null)throw new bi;let y=v.getWidth(),m=v.getHeight(),C=Math.max(d,y),I=Math.max(h,m),O=Math.min(C/y,I/m),P=(C-y*O)/2,F=(I-m*O)/2,H=new Ye(C,I);for(let Y=0,Q=F;Y<m;Y++,Q+=O)for(let ee=0,ne=P;ee<y;ee++,ne+=O)v.get(ee,Y)&&H.setRegion(ne,Q,O,O);return H}}t.AbstractExpandedDecoder=u1,t.ArgumentException=g,t.ArithmeticException=gs,t.AztecCode=kl,t.AztecCodeReader=Fa,t.AztecCodeWriter=Os,t.AztecDecoder=er,t.AztecDetector=Io,t.AztecDetectorResult=n1,t.AztecEncoder=bt,t.AztecHighLevelEncoder=Ts,t.AztecPoint=yn,t.BarcodeFormat=Re,t.Binarizer=_,t.BinaryBitmap=A,t.BitArray=k,t.BitMatrix=Ye,t.BitSource=f1,t.BrowserAztecCodeReader=zf,t.BrowserBarcodeReader=bl,t.BrowserCodeReader=lt,t.BrowserDatamatrixCodeReader=Gf,t.BrowserMultiFormatReader=_s,t.BrowserPDF417Reader=hu,t.BrowserQRCodeReader=Ll,t.BrowserQRCodeSvgWriter=oo,t.CharacterSetECI=q,t.ChecksumException=E,t.Code128Reader=De,t.Code39Reader=Vr,t.DataMatrixDecodedBitStreamParser=Pi,t.DataMatrixReader=Bi,t.DecodeHintType=$,t.DecoderResult=Zt,t.DefaultGridSampler=au,t.DetectorResult=So,t.EAN13Reader=pi,t.EncodeHintType=Gr,t.Exception=c,t.FormatException=V,t.GenericGF=Nt,t.GenericGFPoly=Qr,t.GlobalHistogramBinarizer=ht,t.GridSampler=iu,t.GridSamplerInstance=Ri,t.HTMLCanvasElementLuminanceSource=Le,t.HybridBinarizer=Fe,t.ITFReader=Vt,t.IllegalArgumentException=x,t.IllegalStateException=bi,t.InvertedLuminanceSource=Ze,t.LuminanceSource=be,t.MathUtils=St,t.MultiFormatOneDReader=Oo,t.MultiFormatReader=du,t.MultiFormatWriter=Xf,t.NotFoundException=le,t.OneDReader=Rr,t.PDF417DecodedBitStreamParser=de,t.PDF417DecoderErrorCorrection=p1,t.PDF417Reader=rn,t.PDF417ResultMetadata=cu,t.PerspectiveTransform=hi,t.PlanarYUVLuminanceSource=qi,t.QRCodeByteMatrix=pu,t.QRCodeDataMask=vt,t.QRCodeDecodedBitStreamParser=pr,t.QRCodeDecoderErrorCorrectionLevel=Qt,t.QRCodeDecoderFormatInformation=Jr,t.QRCodeEncoder=sr,t.QRCodeEncoderQRCode=ao,t.QRCodeMaskUtil=gr,t.QRCodeMatrixUtil=et,t.QRCodeMode=qe,t.QRCodeReader=Mn,t.QRCodeVersion=Ke,t.QRCodeWriter=Po,t.RGBLuminanceSource=Ss,t.RSS14Reader=cr,t.RSSExpandedReader=we,t.ReaderException=Mo,t.ReedSolomonDecoder=_o,t.ReedSolomonEncoder=y1,t.ReedSolomonException=Ba,t.Result=Je,t.ResultMetadataType=ut,t.ResultPoint=je,t.StringUtils=ge,t.UnsupportedOperationException=pe,t.VideoInputDevice=ie,t.WhiteRectangleDetector=Yi,t.WriterException=tr,t.ZXingArrays=M,t.ZXingCharset=Fl,t.ZXingInteger=B,t.ZXingStandardCharsets=m1,t.ZXingStringBuilder=Ee,t.ZXingStringEncoding=Be,t.ZXingSystem=T,t.createAbstractExpandedDecoder=Ol,Object.defineProperty(t,"__esModule",{value:!0})})}(ol,ol.exports)),ol.exports}var Ar=j5();const H5=xl(Ar),V5=Bw({__proto__:null,default:H5},[Ar]);var Gx=function(){function r(e,t,n){if(this.formatMap=new Map([[He.QR_CODE,Ar.BarcodeFormat.QR_CODE],[He.AZTEC,Ar.BarcodeFormat.AZTEC],[He.CODABAR,Ar.BarcodeFormat.CODABAR],[He.CODE_39,Ar.BarcodeFormat.CODE_39],[He.CODE_93,Ar.BarcodeFormat.CODE_93],[He.CODE_128,Ar.BarcodeFormat.CODE_128],[He.DATA_MATRIX,Ar.BarcodeFormat.DATA_MATRIX],[He.MAXICODE,Ar.BarcodeFormat.MAXICODE],[He.ITF,Ar.BarcodeFormat.ITF],[He.EAN_13,Ar.BarcodeFormat.EAN_13],[He.EAN_8,Ar.BarcodeFormat.EAN_8],[He.PDF_417,Ar.BarcodeFormat.PDF_417],[He.RSS_14,Ar.BarcodeFormat.RSS_14],[He.RSS_EXPANDED,Ar.BarcodeFormat.RSS_EXPANDED],[He.UPC_A,Ar.BarcodeFormat.UPC_A],[He.UPC_E,Ar.BarcodeFormat.UPC_E],[He.UPC_EAN_EXTENSION,Ar.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!V5)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=n;var i=this.createZXingFormats(e),a=new Map;a.set(Ar.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Ar.DecodeHintType.TRY_HARDER,!1),this.hints=a}return r.prototype.decodeAsync=function(e){var t=this;return new Promise(function(n,i){try{n(t.decode(e))}catch(a){i(a)}})},r.prototype.decode=function(e){var t=new Ar.MultiFormatReader(this.verbose,this.hints),n=new Ar.HTMLCanvasElementLuminanceSource(e),i=new Ar.BinaryBitmap(new Ar.HybridBinarizer(n)),a=t.decode(i);return{text:a.text,format:_m.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,i){e.set(t,n)}),e},r.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},r.prototype.createZXingFormats=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),z5=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},G5=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Wx=function(){function r(e,t,n){if(this.formatMap=new Map([[He.QR_CODE,"qr_code"],[He.AZTEC,"aztec"],[He.CODABAR,"codabar"],[He.CODE_39,"code_39"],[He.CODE_93,"code_93"],[He.CODE_128,"code_128"],[He.DATA_MATRIX,"data_matrix"],[He.ITF,"itf"],[He.EAN_13,"ean_13"],[He.EAN_8,"ean_8"],[He.PDF_417,"pdf417"],[He.UPC_A,"upc_a"],[He.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},r.prototype.decodeAsync=function(e){return z5(this,void 0,void 0,function(){var t,n;return G5(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=i.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(t),[2,{text:n.rawValue,format:_m.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,i=0,a=e;i<a.length;i++){var o=a[i],s=o.boundingBox.width*o.boundingBox.height;s>n&&(n=s,t=o)}if(!t)throw"No largest barcode found";return t},r.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},r.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},r.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,i){e.set(t,n)}),e},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),Xx=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},Yx=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},W5=function(){function r(e,t,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,t&&Wx.isSupported()?(this.primaryDecoder=new Wx(e,n,i),this.secondaryDecoder=new Gx(e,n,i)):this.primaryDecoder=new Gx(e,n,i)}return r.prototype.decodeAsync=function(e){return Xx(this,void 0,void 0,function(){var t;return Yx(this,function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(e){return Xx(this,void 0,void 0,function(){var t,n;return Yx(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++){var i=n[t];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),L2=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yf=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},mf=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Om=function(){function r(e,t){this.name=e,this.track=t}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},r.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},r}(),X5=function(r){L2(e,r);function e(t,n){return r.call(this,t,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),n=t[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Om),Y5=function(r){L2(e,r);function e(t){return r.call(this,"zoom",t)||this}return e}(X5),$5=function(r){L2(e,r);function e(t){return r.call(this,"torch",t)||this}return e}(Om),Z5=function(){function r(e){this.track=e}return r.prototype.zoomFeature=function(){return new Y5(this.track)},r.prototype.torchFeature=function(){return new $5(this.track)},r}(),K5=function(){function r(e,t,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return r.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},r.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(e,t,n,i){return yf(this,void 0,void 0,function(){var a,o;return mf(this,function(s){switch(s.label){case 0:return a=new r(e,t,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:s.sent(),s.label=2;case 2:return a.setupSurface(),[2,a]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(e){this.failIfClosed();var t=this,n=function(){setTimeout(e,200),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(e){return yf(this,void 0,void 0,function(){return mf(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,n){var i=e.mediaStream.getVideoTracks(),a=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(s){e.mediaStream.removeTrack(s),s.stop(),++o,o>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},r.prototype.getCapabilities=function(){return new Z5(this.getFirstTrackOrFail())},r}(),Q5=function(){function r(e){this.mediaStream=e}return r.prototype.render=function(e,t,n){return yf(this,void 0,void 0,function(){return mf(this,function(i){return[2,K5.create(e,this.mediaStream,t,n)]})})},r.create=function(e){return yf(this,void 0,void 0,function(){var t,n;return mf(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=i.sent(),[2,new r(n)]}})})},r}(),$x=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},Zx=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},q5=function(){function r(){}return r.failIfNotSupported=function(){return $x(this,void 0,void 0,function(){return Zx(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(e){return $x(this,void 0,void 0,function(){return Zx(this,function(t){return[2,Q5.create(e)]})})},r}(),J5=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},e7=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},t7=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var e=ju.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(e=ju.insecureContextCameraQueryError()),Promise.reject(e)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},r.getCamerasFromMediaDevices=function(){return J5(this,void 0,void 0,function(){var e,t,n,i,a,o,s;return e7(this,function(l){switch(l.label){case 0:return e=function(c){for(var g=c.getVideoTracks(),x=0,A=g;x<A.length;x++){var E=A[x];E.enabled=!1,E.stop(),c.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=l.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=l.sent(),i=[],a=0,o=n;a<o.length;a++)s=o[a],s.kind==="videoinput"&&i.push({id:s.deviceId,label:s.label});return e(t),[2,i]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var n=function(a){for(var o=[],s=0,l=a;s<l.length;s++){var c=l[s];c.kind==="video"&&o.push({id:c.id,label:c.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},r}(),jr;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(jr||(jr={}));var r7=function(){function r(){this.state=jr.NOT_STARTED,this.onGoingTransactionNewState=jr.UNKNOWN}return r.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},r.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===jr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=jr.UNKNOWN,this.directTransition(e)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===jr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=jr.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==jr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(e){switch(this.state){case jr.UNKNOWN:throw"Transition from unknown is not allowed";case jr.NOT_STARTED:this.failIfNewStateIs(e,[jr.PAUSED]);break;case jr.SCANNING:break;case jr.PAUSED:break}},r.prototype.failIfNewStateIs=function(e,t){for(var n=0,i=t;n<i.length;n++){var a=i[n];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},r}(),n7=function(){function r(e){this.stateManager=e}return r.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},r.prototype.directTransition=function(e){this.stateManager.directTransition(e)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===jr.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==jr.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===jr.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===jr.PAUSED},r}(),i7=function(){function r(){}return r.create=function(){return new n7(new r7)},r}(),a7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vi=function(r){a7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Sa),o7=function(){function r(e,t){this.logger=t,this.fps=Vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Vi.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Tm.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!Ya(this.qrbox)},r.create=function(e,t){return new r(e,t)},r}(),wf=function(){function r(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof t=="boolean"?this.verbose=t===!0:t&&(n=t,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Im(this.verbose),this.qrcode=new W5(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=i7.create()}return r.prototype.start=function(e,t,n,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var s=o7.create(t,this.logger);this.clearElement();var l=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?l=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=l,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Vi.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,A=this.stateManagerProxy.startTransition(jr.SCANNING);return new Promise(function(E,_){var T=c?s.videoConstraints:x.createVideoConstraints(e);if(!T){A.cancel(),_("videoConstraints should be defined");return}var b={};(!c||s.aspectRatio)&&(b.aspectRatio=s.aspectRatio);var R={onRenderSurfaceReady:function(M,B){x.setupUi(M,B,s),x.isScanning=!0,x.foreverScan(s,n,o)}};q5.failIfNotSupported().then(function(M){M.create(T).then(function(B){return B.render(a.element,b,R).then(function(k){x.renderedCamera=k,A.execute(),E(null)}).catch(function(k){A.cancel(),_(k)})}).catch(function(B){A.cancel(),_(ju.errorGettingUserMedia(B))})}).catch(function(M){A.cancel(),_(ju.cameraStreamingNotSupported())})})},r.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(jr.PAUSED),this.showPausedState(),(Ya(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(jr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(jr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var a=document.getElementById(Vi.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),t.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(n){return n.decodedText})},r.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ya(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var s=o.width,l=o.height,c=document.getElementById(n.elementId),g=c.clientWidth?c.clientWidth:Vi.DEFAULT_WIDTH,x=Math.max(c.clientHeight?c.clientHeight:l,Vi.FILE_SCAN_MIN_HEIGHT),A=n.computeCanvasDrawConfig(s,l,g,x);if(t){var E=n.createCanvasElement(g,x,"qr-canvas-visible");E.style.display="inline-block",c.appendChild(E);var _=E.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=g,_.canvas.height=x,_.drawImage(o,0,0,s,l,A.x,A.y,A.width,A.height)}var T=Vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,b=Math.max(o.width,A.width),R=Math.max(o.height,A.height),M=b+2*T,B=R+2*T,k=n.createCanvasElement(M,B);c.appendChild(k);var z=k.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=M,z.canvas.height=B,z.drawImage(o,0,0,s,l,T,T,b,R);try{n.qrcode.decodeRobustlyAsync(k).then(function($){i(Hx.createFromQrcodeResult($))}).catch(a)}catch($){a("QR code parse error, error = ".concat($))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(e)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return t7.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(e){if(e){if(!Tm.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(e){var t=[He.QR_CODE,He.AZTEC,He.CODABAR,He.CODE_39,He.CODE_93,He.CODE_128,He.DATA_MATRIX,He.MAXICODE,He.ITF,He.EAN_13,He.EAN_8,He.PDF_417,He.RSS_14,He.RSS_EXPANDED,He.UPC_A,He.UPC_E,He.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=e.formatsToSupport;i<a.length;i++){var o=a[i];F5(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},r.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ya(e))return!0;if(!Ya(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ya(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Ya(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(e,t,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(e,t,a),s=function(c){if(c<Vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Vi.MIN_QR_BOX_SIZE,"px.")},l=function(c){return c>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),c=e),c};s(o.width),s(o.height),o.width=l(o.width)},r.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(e,t,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,t)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},r.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var i=Ya(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,t,i);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=t,s={x:0,y:0,width:e,height:t},l=o?this.getShadedRegionBounds(e,t,a):s,c=this.createCanvasElement(l.width,l.height),g={willReadFrequently:!0},x=c.getContext("2d",g);x.canvas.width=l.width,x.canvas.height=l.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,e,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=l,this.context=x,this.canvasElement=c},r.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=ju.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},r.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,Hx.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=ju.codeParseError(i);return t(a,Sm.createFrom(a)),!1})},r.prototype.foreverScan=function(e,t,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,s=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var l=this.qrRegion.width*o,c=this.qrRegion.height*s,g=this.qrRegion.x*o,x=this.qrRegion.y*s;this.context.drawImage(a,g,x,l,c,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,t,n)},i.getTimeoutFps(e.fps))};this.scanContext(t,n).then(function(E){!E&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,n).finally(function(){A()})):A()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),A()})}},r.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(_){if(_ in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},s=Object.keys(e);if(s.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var l=Object.keys(e)[0];if(l!==t&&l!==n)throw"Only '".concat(t,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(l===t){var c=e.facingMode;if(typeof c=="string"){if(o(c))return{facingMode:c}}else if(typeof c=="object")if(a in c){if(o(c["".concat(a)]))return{facingMode:{exact:c["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var g=typeof c;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=e.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(a in x)return{deviceId:{exact:x["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var A=typeof x;throw"Invalid type of 'deviceId' = ".concat(A)}}}var E=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},r.prototype.computeCanvasDrawConfig=function(e,t,n,i){if(e<=n&&t<=i){var a=(n-e)/2,o=(i-t)/2;return{x:a,y:o,width:e,height:t}}else{var s=e,l=t;return e>n&&(t=n/e*t,e=n),t>i&&(e=i/t*e,t=i),this.logger.log("Image downsampled from "+"".concat(s,"X").concat(l)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,n,i)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},r.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Vi.BORDER_SHADER_MATCH_COLOR:Vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(e,t,n){var i=e,a=t,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Ya(n)?"qr-canvas":n,o},r.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},r.prototype.possiblyInsertShadingElement=function(e,t,n,i){if(!(t-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(t-i.width)/2,s=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Vi.SHADED_REGION_ELEMENT_ID),t-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var l=5,c=40;this.insertShaderBorders(a,c,l,-l,null,0,!0),this.insertShaderBorders(a,c,l,-l,null,0,!1),this.insertShaderBorders(a,c,l,null,-l,0,!0),this.insertShaderBorders(a,c,l,null,-l,0,!1),this.insertShaderBorders(a,l,c+l,-l,null,-l,!0),this.insertShaderBorders(a,l,c+l,null,-l,-l,!0),this.insertShaderBorders(a,l,c+l,-l,null,-l,!1),this.insertShaderBorders(a,l,c+l,null,-l,-l,!1),this.hasBorderShaders=!0}e.append(a)}},r.prototype.insertShaderBorders=function(e,t,n,i,a,o,s){var l=document.createElement("div");l.style.position="absolute",l.style.backgroundColor=Vi.BORDER_SHADER_DEFAULT_COLOR,l.style.width="".concat(t,"px"),l.style.height="".concat(n,"px"),i!==null&&(l.style.top="".concat(i,"px")),a!==null&&(l.style.bottom="".concat(a,"px")),s?l.style.left="".concat(o,"px"):l.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(l),e.appendChild(l)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(e){return 1e3/e},r}(),F2="data:image/svg+xml;base64,",s7=F2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",u7=F2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Kx=F2+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",l7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Qx=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),c7=function(){function r(){this.data=Qx.createDefault();var e=localStorage.getItem(r.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},r.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=Qx.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),f7=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Vx.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=Vx.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),d7=function(){function r(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Kx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return t.onHoverIn()},this.infoIcon.onmouseout=function(n){return t.onHoverOut()},this.infoIcon.onclick=function(n){return t.onClick()},e.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=l7,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Kx,this.infoIcon.style.opacity="0.6")},r}(),h7=function(){function r(){var e=this;this.infoDiv=new f7,this.infoIcon=new d7(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return r.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},r}(),p7=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},g7=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},qx=function(){function r(){}return r.hasPermissions=function(){return p7(this,void 0,void 0,function(){var e,t,n,i;return g7(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)if(i=n[t],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},r}(),ts=function(){function r(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var n=t[e];if(r.isCameraScanType(n))return!0}return!1},r.isCameraScanType=function(e){return e===ps.SCAN_TYPE_CAMERA},r.isFileScanType=function(e){return e===ps.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Sa.DEFAULT_SUPPORTED_SCAN_TYPE;var t=Sa.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var n=0,i=e;n<i.length;n++){var a=i[n];if(!Sa.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},r}(),Gi=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),xo=function(){function r(){}return r.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(Gi.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},r}(),Nm=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},bm=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Jx=function(){function r(e,t,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=n}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return Nm(this,void 0,void 0,function(){var e,t;return bm(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=n.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?or.torchOffButton():or.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},r.prototype.propagateFailure=function(e,t){var n=e?or.torchOnFailedMessage():or.torchOffFailedMessage();t&&(n+="; Error = "+t),this.onTorchActionFailureCallback(n)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),v7=function(){function r(e,t){this.onTorchActionFailureCallback=t,this.torchButton=xo.createElement("button",Gi.TORCH_BUTTON_ID),this.torchController=new Jx(e,this,t)}return r.prototype.render=function(e,t){var n=this;this.torchButton.innerText=or.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return Nm(n,void 0,void 0,function(){return bm(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Gi.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Gi.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Gi.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Gi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(e){this.torchController=new Jx(e,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(e){this.torchButton.innerText=e},r.prototype.reset=function(){this.torchButton.innerText=or.torchOnButton(),this.torchController.reset()},r.create=function(e,t,n,i){var a=new r(t,i);return a.render(e,n),a},r}(),x7=function(){function r(e,t,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=xo.createElement("button",Gi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(s){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=xo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(s){if(!(s==null||s.target==null)){var l=s.target;if(!(l.files&&l.files.length===0)){var c=l.files,g=c[0],x=g.name;a.setImageNameToButton(x),n(g)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(s){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),s.stopPropagation(),s.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(s){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),s.stopPropagation(),s.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(s){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),s.stopPropagation(),s.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(s){s.stopPropagation(),s.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var l=s.dataTransfer;if(l){var c=l.files;if(!c||c.length===0)return;for(var g=!1,x=0;x<c.length;++x){var A=c.item(x);if(A){var E=/image.*/;if(A.type.match(E)){g=!0;var _=A.name;a.setImageNameToButton(_),n(A),o.innerText=or.dragAndDropMessage();break}}}g||(o.innerText=or.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=or.dragAndDropMessage(),e.style.fontWeight="400",e},r.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var n=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(n,"....").concat(a)}var o=or.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},r.prototype.setInitialValueToButton=function(){var e=or.fileSelectionChooseImage()+" - "+or.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(e,t,n){var i=new r(e,t,n);return i},r}(),y7=function(){function r(e){this.selectElement=xo.createElement("select",Gi.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return r.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)t.style.display="none";else{var i=or.selectCamera();t.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,s=this.cameras;o<s.length;o++){var l=s[o],c=l.id,g=l.label==null?c:l.label;(!g||g==="")&&(g=[or.anonymousCameraPrefix(),a++].join(" "));var x=document.createElement("option");x.value=c,x.innerText=g,this.options.push(x),this.selectElement.appendChild(x)}t.appendChild(this.selectElement),e.appendChild(t)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return this.selectElement.disabled===!0},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(e){for(var t=0,n=this.options;t<n.length;t++){var i=n[t];if(i.value===e)return!0}return!1},r.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},r.prototype.hasSingleItem=function(){return this.cameras.length===1},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(e,t){var n=new r(t);return n.render(e),n},r}(),m7=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xo.createElement("input",Gi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=or.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var e=or.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(e,t,n,i){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(e,t){var n=new r;return n.render(e,t),n},r}(),zi;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(zi||(zi={}));function w7(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}function A7(r,e){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:e}}var E7=function(){function r(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new ts(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Im(this.verbose),this.persistedDataManager=new c7,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return r.prototype.render=function(e,t){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(e)e(a,o);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(or.lastMatch(a),zi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){t&&t(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new wf(this.getScanRegionId(),A7(this.config,this.verbose))},r.prototype.pause=function(e){(Ya(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var e=this,t=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),t(),n()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),t(),n())}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Sa.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Sa.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Sa.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Sa.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Sa.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Sa.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Sa.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),n=this.getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),ts.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},r.prototype.resetBasicLayout=function(e){e.style.border="none"},r.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var n=new h7;n.renderInto(t);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",t.appendChild(i)},r.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},r.prototype.createCameraListUi=function(e,t,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(or.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(e,t)};wf.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(t),i.renderCameraSelection(o)):(i.setHeaderMessage(or.noCameraFound(),zi.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(o,zi.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(e,t){var n=this,i=xo.createElement("button",this.getCameraPermissionButtonId());i.innerText=or.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(e,t,i)}),t.appendChild(i)},r.prototype.createPermissionsUi=function(e,t){var n=this;if(ts.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){qx.hasPermissions().then(function(i){i?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},r.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=ts.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(t)},r.prototype.renderFileScanUi=function(e){var t=ts.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";ts.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(or.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(o){n.resetHeaderMessage(),n.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){n.setHeaderMessage(o,zi.STATUS_WARNING),n.qrCodeErrorCallback(o,Sm.createFrom(o))}))};this.fileSelectionUi=x7.create(e,t,i)},r.prototype.renderCameraSelection=function(e){var t=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=m7.create(i,!1),o=function(T){var b=T.zoomFeature();if(b.isSupported()){a.setOnCameraZoomValueChangeCallback(function(M){b.apply(M)});var R=1;t.config.defaultZoomValueIfSupported&&(R=t.config.defaultZoomValueIfSupported),R=k5(R,b.min(),b.max()),a.setValues(b.min(),b.max(),R,b.step()),a.show()}},s=y7.create(i,e),l=document.createElement("span"),c=xo.createElement("button",Gi.CAMERA_START_BUTTON_ID);c.innerText=or.scanButtonStartScanningText(),l.appendChild(c);var g=xo.createElement("button",Gi.CAMERA_STOP_BUTTON_ID);g.innerText=or.scanButtonStopScanningText(),g.style.display="none",g.disabled=!0,l.appendChild(g);var x,A=function(T){if(!T.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(T.torchFeature()):x=v7.create(l,T.torchFeature(),{display:"none",marginLeft:"5px"},function(b){n.setHeaderMessage(b,zi.STATUS_WARNING)}),x.show()};i.appendChild(l);var E=function(T){T||(c.style.display="none"),c.innerText=or.scanButtonStartScanningText(),c.style.opacity="1",c.disabled=!1,T&&(c.style.display="inline-block")};if(c.addEventListener("click",function(T){c.innerText=or.scanButtonScanningStarting(),s.disable(),c.disabled=!0,c.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var b=s.getValue();n.persistedDataManager.setLastUsedCameraId(b),n.html5Qrcode.start(b,w7(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(R){g.disabled=!1,g.style.display="inline-block",E(!1);var M=n.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&A(M),t.config.showZoomSliderIfSupported===!0&&o(M)}).catch(function(R){n.showHideScanTypeSwapLink(!0),s.enable(),E(!0),n.setHeaderMessage(R,zi.STATUS_WARNING)})}),s.hasSingleItem()&&c.click(),g.addEventListener("click",function(T){if(!n.html5Qrcode)throw"html5Qrcode not defined";g.disabled=!0,n.html5Qrcode.stop().then(function(b){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),s.enable(),c.disabled=!1,g.style.display="none",c.style.display="inline-block",x&&(x.reset(),x.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(b){g.disabled=!1,n.setHeaderMessage(b,zi.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var _=n.persistedDataManager.getLastUsedCameraId();s.hasValue(_)?(s.setValue(_),c.click()):n.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var e=this,t=or.textIfCameraScanSelected(),n=or.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=xo.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=ts.isCameraScanType(this.currentScanType)?t:n,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,ts.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=n,e.currentScanType=ps.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=t,e.currentScanType=ps.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){qx.hasPermissions().then(function(n){if(n){var i=document.getElementById(t.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(n){t.persistedDataManager.setHasPermission(!1)});return}},r.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},r.prototype.setHeaderMessage=function(e,t){t||(t=zi.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",t){case zi.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case zi.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case zi.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},r.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=s7,this.cameraScanImage.alt=or.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=u7,this.fileScanImage.alt=or.fileScanAltText()},r.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return Gi.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return Gi.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},r}();const C7=({onScan:r})=>{const e=K.useRef(null),t=K.useRef(!1),[n,i]=K.useState(!1);return K.useEffect(()=>{const a=new wf("qr-reader");return e.current=a,(async()=>{try{const s=await wf.getCameras();s&&s.length>0?(await a.start({facingMode:"environment"},{fps:10,qrbox:250},l=>{r(l),i(!0),setTimeout(()=>i(!1),1e3),t.current&&a.stop().then(()=>{t.current=!1}).catch(()=>{})},l=>{console.log("Scanning error",l)}),t.current=!0):console.error("No cameras found.")}catch(s){console.error("Camera error:",s)}})(),()=>{t.current&&a.stop().then(()=>a.clear()).catch(()=>{})}},[r]),U.jsx("div",{id:"qr-reader",className:n?"detected":""})},_7=()=>{const[r,e]=K.useState("");return U.jsxs("div",{className:"scan-backdrop",children:[U.jsx("h2",{children:"Scan QR Code"}),U.jsx(C7,{onScan:t=>e(t)}),U.jsxs("p",{className:"scan-result",children:["Scanned Result: ",r||"not-found"]})]})},S7=()=>{const{id:r}=Ma(),[e,t]=K.useState("wait_for_deliver"),[n,i]=K.useState([]),a=1;Da();const o=async()=>{try{const s=await kt.post("/package/getByDormAndStatusAndUserID",{dormID:r,status:e,userID:a});i(s.data)}catch(s){console.error("Failed to fetch packages:",s)}};return K.useEffect(()=>{o()},[r,e]),U.jsxs("div",{children:[U.jsx("div",{className:"flex-between-menu",children:U.jsx("h2",{children:"รายการพัสดุของฉัน"})}),U.jsxs("div",{className:"line-wrap",children:[U.jsx("div",{className:`line-item ${e==="wait_for_deliver"?"selected":""}`,onClick:()=>t("wait_for_deliver"),children:"ยังไม่ได้รับ"}),U.jsx("div",{className:`line-item ${e==="delivered"?"selected":""}`,onClick:()=>t("delivered"),children:"ได้รับแล้ว"})]}),U.jsx("div",{className:"package-container",children:n.map(s=>U.jsxs("div",{className:"package-card",children:[U.jsx("div",{className:"package-image",children:U.jsx("img",{src:s.pathToPicture?`${Ja}${s.pathToPicture}`:`${Ja}/packages/default.png`,alt:"package"})}),U.jsxs("div",{className:"package-info",children:[U.jsx("p",{children:U.jsxs("strong",{children:["หอพัก ",s.dormID," ห้องพัก ",s.recipientRoomNo]})}),U.jsxs("p",{children:["เจ้าของพัสดุ: ",s.recipientName]}),U.jsxs("p",{children:["เข้าสู่ระบบเมื่อ: ",new Date(s.registerTime).toLocaleString()]}),U.jsxs("p",{children:["ผู้นำเข้าสู่ระบบ: ",s.registerBy]})]}),U.jsx("div",{className:"package-action"})]},s.id))})]})},I7=()=>{const[r,e]=K.useState(""),{id:t}=Ma(),n=Da(),i=1;return K.useEffect(()=>{if(!t)return;(async()=>{try{const o=await kt.post("/dorm-user/getUserCode",{userID:i,id:t});e(o.data.code)}catch(o){console.error("Failed to fetch code:",o)}})()},[t]),U.jsxs("div",{className:"page-content",children:[U.jsx("h2",{children:"QR Code รับพัสดุ"}),U.jsx("p",{children:"ใช้สำหรับแสดงให้เจ้าหน้าที่ยืนยันตัวตน"}),U.jsx("p",{children:"สำหรับการเข้ารับพัสดุ"}),U.jsx("div",{style:{marginTop:"20px"},children:r&&U.jsx(T2,{value:r})}),U.jsxs("p",{style:{margin:"10px 0px"},children:["รหัส Code: ",r||"ไม่พบโค้ด"]}),U.jsx("button",{className:"mybtn btn-normal",style:{marginTop:"30px"},onClick:()=>n(`/dorm/${t}/mypackage`),children:"กลับไปหน้าพัสดุของฉัน"})]})},T7=({onDetected:r})=>{K.useRef(null);const[e,t]=K.useState("");return os.useEffect(()=>{const n={fps:10,qrbox:{width:300,height:100},formatsToSupport:[0,1,2,3,4,5,6,7,8,9],disableFlip:!1},i=new E7("scanner",n,!1);return i.render(a=>{i.clear(),r(a)},a=>{}),()=>{i.clear().catch(()=>{})}},[r]),U.jsxs("div",{style:{padding:16},children:[U.jsx("h2",{style:{textAlign:"center"},children:"สแกนบาร์โค้ด / QR Code"}),U.jsx("div",{id:"scanner",style:{marginBottom:16}}),U.jsxs("div",{style:{textAlign:"center",marginTop:16},children:[U.jsx("input",{placeholder:"กรอกรหัสด้วยตนเอง",value:e,onChange:n=>t(n.target.value),style:{padding:8,width:"80%",fontSize:16}}),U.jsx("br",{}),U.jsx("button",{onClick:()=>e&&r(e),style:{marginTop:12},children:"ยืนยันรหัส"})]})]})},O7=()=>{const[r,e]=K.useState("");return U.jsx("div",{style:{padding:20},children:r?U.jsxs("div",{style:{textAlign:"center"},children:[U.jsx("h2",{children:"รหัสที่ได้"}),U.jsx("p",{children:r}),U.jsx("button",{onClick:()=>e(""),children:"ย้อนกลับไปแสกนใหม่"})]}):U.jsx(T7,{onDetected:t=>{e(t)}})})};var N7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ni=function(r){N7(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(lm),b7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_a=function(r){b7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Ni),R7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ot=function(r){R7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Ni),D7=function(){function r(e){if(this.binarizer=e,e===null)throw new ot("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}(),M7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nn=function(r){M7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ni),P7=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}(),yr=function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}(),B7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k2=function(r){B7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Ni),L7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ey=function(r){L7(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(k2),F7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gn=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new ot("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new ey(t);if(n>e)throw new ey(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=F7(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return yr.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(t,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},r.numberComparator=function(e,t){return e-t},r}(),_t=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),Rn=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);yr.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=n[i]}var s=i*32+_t.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=~n[i]}var s=i*32+_t.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new ot;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:t&31,c=(2<<l)-(1<<s);a[o]|=c}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new ot;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,c=s<a?31:t&31,g=(2<<c)-(1<<l)&4294967295;if((o[s]&g)!==(n?g:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new ot("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new ot("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[n+a]=o}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var c=e[a];l|=c<<32-s,e[a-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&gn.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+gn.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r}(),Gh;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Gh||(Gh={}));const Lr=Gh;var k7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pe=function(r){k7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ni),U7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nr;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(nr||(nr={}));var hn=function(){function r(e,t,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,g=l.length;c!==g;c++){var x=l[c];r.VALUES_TO_ECI.set(x,this)}try{for(var A=U7(o),E=A.next();!E.done;E=A.next()){var _=E.value;r.NAME_TO_ECI.set(_,this)}}catch(T){i={error:T}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Pe("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new Pe("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new Pe("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(nr.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(nr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(nr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(nr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(nr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(nr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(nr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(nr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(nr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(nr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(nr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(nr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(nr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(nr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(nr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(nr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(nr.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(nr.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(nr.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(nr.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(nr.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(nr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(nr.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(nr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(nr.Big5,28,"Big5"),r.GB18030=new r(nr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(nr.EUC_KR,30,"EUC_KR","EUC-KR"),r}(),j7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sf=function(r){j7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Ni),ca=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof hn?e:hn.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(hn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new sf("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(hn.UTF8)||e.equals(hn.ISO8859_1)||e.equals(hn.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r}(),Mt=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return ca.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Lr.CHARACTER_SET)!==void 0)return t.get(Lr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,c=0,g=0,x=0,A=0,E=0,_=0,T=0,b=0,R=0,M=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,B=0;B<n&&(i||a||o);B++){var k=e[B]&255;o&&(s>0?k&128?s--:o=!1:k&128&&(k&64?(s++,k&32?(s++,k&16?(s++,k&8?o=!1:g++):c++):l++):o=!1)),i&&(k>127&&k<160?i=!1:k>159&&(k<192||k===215||k===247)&&R++),a&&(x>0?k<64||k===127||k>252?a=!1:x--:k===128||k===160||k>239?a=!1:k>160&&k<224?(A++,_=0,E++,E>T&&(T=E)):k>127?(x++,E=0,_++,_>b&&(b=_)):(E=0,_=0))}return o&&s>0&&(o=!1),a&&x>0&&(a=!1),o&&(M||l+c+g>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||T>=3||b>=3)?r.SHIFT_JIS:i&&a?T===2&&A===2||R*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:o?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(s,l,c,g,x,A){if(s==="%%")return"%";if(t[++i]!==void 0){s=g?parseInt(g.substr(1)):void 0;var E=x?parseInt(x.substr(1)):void 0,_;switch(A){case"s":_=t[i];break;case"c":_=t[i][0];break;case"f":_=parseFloat(t[i]).toFixed(s);break;case"p":_=parseFloat(t[i]).toPrecision(s);break;case"e":_=parseFloat(t[i]).toExponential(s);break;case"x":_=parseInt(t[i]).toString(E||16);break;case"d":_=parseFloat(parseInt(t[i],E||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(E);for(var T=parseInt(c),b=c&&c[0]+""=="0"?"0":" ";_.length<T;)_=l!==void 0?_+b:b+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.getBytes=function(e,t){return ca.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=hn.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=hn.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=hn.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}(),wt=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Mt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r}(),to=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new ot("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new ot("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new ot("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new ot("illegal character encountered: "+e.substring(c));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new ot("row lengths do not match");l++}for(var g=new r(s,l),x=0;x<a;x++)i[x]&&g.set(Math.floor(x%s),Math.floor(x/s));return g},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ot("input matrix dimensions do not match");for(var t=new Rn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,t).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new ot("Left and top must be nonnegative");if(i<1||n<1)throw new ot("Height and width must be at least 1");var a=e+n,o=t+i;if(o>this.height||a>this.width)throw new ot("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=t;c<o;c++)for(var g=c*s,x=e;x<a;x++)l[g+Math.floor(x/32)]|=1<<(x&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Rn(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(o*32,i[a+o]);return t},r.prototype.setRow=function(e,t){yr.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new Rn(e),i=new Rn(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,o=t,s=-1,l=-1,c=0;c<t;c++)for(var g=0;g<n;g++){var x=i[c*n+g];if(x!==0){if(c<o&&(o=c),c>l&&(l=c),g*32<a){for(var A=0;!(x<<31-A&4294967295);)A++;g*32+A<a&&(a=g*32+A)}if(g*32+31>s){for(var A=31;!(x>>>A);)A--;g*32+A>s&&(s=g*32+A)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,o=t[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=t[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&gn.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+gn.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new wt,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}(),H7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ye=function(r){H7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ni),V7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z7=function(r){V7(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new Rn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var g=o[0]&255,x=o[1]&255,l=1;l<a-1;l++){var A=o[l+1]&255;(x*4-g-A)/2<c&&n.set(l),g=x,x=A}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new to(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=t.getRow(l,this.luminances),g=Math.floor(n*4/5),x=Math.floor(n/5);x<g;x++){var A=c[x]&255;o[A>>e.LUMINANCE_SHIFT]++}for(var E=e.estimateBlackPoint(o),_=t.getMatrix(),s=0;s<i;s++)for(var T=s*n,x=0;x<n;x++){var A=_[T+x]&255;A<E&&a.set(x,s)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,o=0,s=0;s<n;s++)t[s]>o&&(a=s,o=t[s]),t[s]>i&&(i=t[s]);for(var l=0,c=0,s=0;s<n;s++){var g=s-a,x=t[s]*g*g;x>c&&(l=s,c=x)}if(a>l){var A=a;a=l,l=A}if(l-a<=n/16)throw new ye;for(var E=l-1,_=-1,s=l-1;s>a;s--){var T=s-a,x=T*T*(l-s)*(i-t[s]);x>_&&(E=s,_=x)}return E<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(P7),G7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W7=function(r){G7(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),c=new to(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,c),this.matrix=c}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,o,s,l){for(var c=o-e.BLOCK_SIZE,g=a-e.BLOCK_SIZE,x=0;x<i;x++){var A=x<<e.BLOCK_SIZE_POWER;A>c&&(A=c);for(var E=e.cap(x,2,i-3),_=0;_<n;_++){var T=_<<e.BLOCK_SIZE_POWER;T>g&&(T=g);for(var b=e.cap(_,2,n-3),R=0,M=-2;M<=2;M++){var B=s[E+M];R+=B[b-2]+B[b-1]+B[b]+B[b+1]+B[b+2]}var k=R/25;e.thresholdBlock(t,T,A,k,a,l)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,o,s){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var g=0;g<e.BLOCK_SIZE;g++)(t[c+g]&255)<=a&&s.set(n+g,i+l)},e.calculateBlackPoints=function(t,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),g=0;g<i;g++){c[g]=new Int32Array(n);var x=g<<e.BLOCK_SIZE_POWER;x>s&&(x=s);for(var A=0;A<n;A++){var E=A<<e.BLOCK_SIZE_POWER;E>l&&(E=l);for(var _=0,T=255,b=0,R=0,M=x*a+E;R<e.BLOCK_SIZE;R++,M+=a){for(var B=0;B<e.BLOCK_SIZE;B++){var k=t[M+B]&255;_+=k,k<T&&(T=k),k>b&&(b=k)}if(b-T>e.MIN_DYNAMIC_RANGE)for(R++,M+=a;R<e.BLOCK_SIZE;R++,M+=a)for(var B=0;B<e.BLOCK_SIZE;B++)_+=t[M+B]&255}var z=_>>e.BLOCK_SIZE_POWER*2;if(b-T<=e.MIN_DYNAMIC_RANGE&&(z=T/2,g>0&&A>0)){var $=(c[g-1][A]+2*c[g][A-1]+c[g-1][A-1])/4;T<$&&(z=$)}c[g][A]=z}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(z7),jf=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new sf("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new sf("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new sf("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new wt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},r}(),X7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U2=function(r){X7(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(jf),Y7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$7=function(r){Y7(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var o=0,s=0,l=t.length;o<l;o+=4,s++){var c=void 0,g=t[o+3];if(g===0)c=255;else{var x=t[o],A=t[o+1],E=t[o+2];c=306*x+601*A+117*E+512>>10}a[s]=c}else for(var o=0,s=0,_=t.length;o<_;o+=4,s++){var c=void 0,g=t[o+3];if(g===0)c=255;else{var x=t[o],A=t[o+1],E=t[o+2];c=306*x+601*A+117*E+512>>10}a[s]=255-c}return a},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ot("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new U2(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(jf),Z7=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}(),li=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},ci=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},K7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r1=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return li(this,void 0,void 0,function(){var e,t,n,i,a,o,s,l,c,g,x,A;return ci(this,function(E){switch(E.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=E.sent(),t=[];try{for(n=K7(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(t.length+1),c=a.groupId,g={deviceId:s,label:l,kind:o,groupId:c},t.push(g))}catch(_){x={error:_}}finally{try{i&&!i.done&&(A=n.return)&&A.call(n)}finally{if(x)throw x.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return li(this,void 0,void 0,function(){var e;return ci(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new Z7(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return li(this,void 0,void 0,function(){var t;return ci(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return li(this,void 0,void 0,function(){return ci(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return li(this,void 0,void 0,function(){var n,i;return ci(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return li(this,void 0,void 0,function(){var n;return ci(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return li(this,void 0,void 0,function(){var n,i;return ci(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return li(this,void 0,void 0,function(){return ci(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return li(this,void 0,void 0,function(){var i,a;return ci(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return li(this,void 0,void 0,function(){var i;return ci(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return li(this,void 0,void 0,function(){var i;return ci(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return li(this,void 0,void 0,function(){var n;return ci(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return li(this,void 0,void 0,function(){return ci(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new _a("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new _a("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new _a("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new _a("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new _a("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new _a("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new _a("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new _a("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new _a("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new _a("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return li(this,void 0,void 0,function(){return ci(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return li(this,void 0,void 0,function(){return ci(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new ye("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(A){var c=t&&A instanceof ye,g=A instanceof Nn||A instanceof Pe,x=g&&n;if(c||x)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(A)}};return new Promise(function(o,s){return a(o,s)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){t(null,l);var o=l instanceof Nn||l instanceof Pe,s=l instanceof ye;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var t=this.getCaptureCanvas(e),n=new $7(t),i=new W7(n);return new D7(i)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}(),ni=function(){function r(e,t,n,i,a,o){n===void 0&&(n=t==null?0:8*t.length),o===void 0&&(o=yr.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=yr.currentTimeMillis():this.timestamp=o}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);yr.arraycopy(t,0,n,0,t.length),yr.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}(),Wh;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wh||(Wh={}));const rt=Wh;var Xh;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Xh||(Xh={}));const zn=Xh;var Hf=function(){function r(e,t,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}(),sl=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ot;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}(),ls=function(){function r(e,t){if(t.length===0)throw new ot;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),yr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];n=sl.addOrSubtract(n,o)}return n}n=t[0];for(var s=t.length,l=this.field,i=1;i<s;i++)n=sl.addOrSubtract(l.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ot("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;yr.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=sl.addOrSubtract(t[s-o],n[s]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ot("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var c=t[l],g=0;g<a;g++)o[l+g]=sl.addOrSubtract(o[l+g],s.multiply(c,i[g]));return new r(s,o)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=n.multiply(a[o],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ot;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],t);return new r(o,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ot("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ot("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=t.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(s,l),g=t.buildMonomial(s,l);n=n.addOrSubtract(g),i=i.addOrSubtract(c)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}(),Q7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rm=function(r){Q7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ni),q7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ii=function(r){q7(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=t,s&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new ls(a,Int32Array.from([0])),a.one=new ls(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ot;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new ls(this,i)},e.prototype.inverse=function(t){if(t===0)throw new Rm;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+_t.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(sl),J7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zc=function(r){J7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Ni),eT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sl=function(r){eT(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Ni),Vf=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new ls(n,e),a=new Int32Array(t),o=!0,s=0;s<t;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new ls(n,a),g=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),x=g[0],A=g[1],E=this.findErrorLocations(x),_=this.findErrorMagnitudes(A,E),s=0;s<E.length;s++){var T=e.length-1-n.log(E[s]);if(T<0)throw new zc("Bad error location");e[T]=Ii.addOrSubtract(e[T],_[s])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,s=t,l=a.getZero(),c=a.getOne();s.getDegree()>=(n/2|0);){var g=o,x=l;if(o=s,l=c,o.isZero())throw new zc("r_{i-1} was zero");s=g;for(var A=a.getZero(),E=o.getCoefficient(o.getDegree()),_=a.inverse(E);s.getDegree()>=o.getDegree()&&!s.isZero();){var T=s.getDegree()-o.getDegree(),b=a.multiply(s.getCoefficient(s.getDegree()),_);A=A.addOrSubtract(a.buildMonomial(T,b)),s=s.addOrSubtract(o.multiplyByMonomial(T,b))}if(c=A.multiply(l).addOrSubtract(x),s.getDegree()>=o.getDegree())throw new Sl("Division algorithm failed to reduce polynomial?")}var R=c.getCoefficient(0);if(R===0)throw new zc("sigmaTilde(0) was zero");var M=a.inverse(R),B=c.multiplyScalar(M),k=s.multiplyScalar(M);return[B,k]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==t)throw new zc("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(t[o]),l=1,c=0;c<n;c++)if(o!==c){var g=a.multiply(t[c],s),x=g&1?g&-2:g|1;l=a.multiply(l,x)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},r}(),Un;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Un||(Un={}));var ty=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),o=r.getEncodedData(i),s=new Hf(a,o,null,null);return s.setNumBits(i.length),s},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=Un.UPPER,i=Un.UPPER,a="",o=0;o<t;)if(i===Un.BINARY){if(t-o<5)break;var s=r.readCode(e,o,5);if(o+=5,s===0){if(t-o<11)break;s=r.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(t-o<8){o=t;break}var c=r.readCode(e,o,8);a+=Mt.castAsNonUtf8Char(c),o+=8}i=n}else{var g=i===Un.DIGIT?4:5;if(t-o<g)break;var c=r.readCode(e,o,g);o+=g;var x=r.getCharacter(i,c);x.startsWith("CTRL_")?(n=i,i=r.getTable(x.charAt(5)),x.charAt(6)==="L"&&(n=i)):(a+=x,i=n)}return a},r.getTable=function(e){switch(e){case"L":return Un.LOWER;case"P":return Un.PUNCT;case"M":return Un.MIXED;case"D":return Un.DIGIT;case"B":return Un.BINARY;case"U":default:return Un.UPPER}},r.getCharacter=function(e,t){switch(e){case Un.UPPER:return r.UPPER_TABLE[t];case Un.LOWER:return r.LOWER_TABLE[t];case Un.MIXED:return r.MIXED_TABLE[t];case Un.PUNCT:return r.PUNCT_TABLE[t];case Un.DIGIT:return r.DIGIT_TABLE[t];default:throw new Sl("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=Ii.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Ii.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Ii.AZTEC_DATA_10):(n=12,t=Ii.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Pe;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=r.readCode(e,o,n);try{var c=new Vf(t);c.decode(s,a-i)}catch(b){throw new Pe(b)}for(var g=(1<<n)-1,x=0,l=0;l<i;l++){var A=s[l];if(A===0||A===g)throw new Pe;(A===1||A===g-1)&&x++}for(var E=new Array(i*n-x),_=0,l=0;l<i;l++){var A=s[l];if(A===1||A===g-1)E.fill(A>1,_,_+n-1),_+=n-1;else for(var T=n-1;T>=0;--T)E[_++]=(A&1<<T)!==0}return E},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*_t.truncDivision(_t.truncDivision(i,2)-1,15),c=i/2,g=_t.truncDivision(l,2),s=0;s<c;s++){var x=s+_t.truncDivision(s,15);a[c-s-1]=g-x-1,a[c+s]=g+x+1}for(var s=0,A=0;s<n;s++){for(var E=(n-s)*4+(t?9:12),_=s*2,T=i-1-_,b=0;b<E;b++)for(var R=b*2,M=0;M<2;M++)o[A+R+M]=e.get(a[_+M],a[_+b]),o[A+2*E+R+M]=e.get(a[_+b],a[T-M]),o[A+4*E+R+M]=e.get(a[T-M],a[T-b]),o[A+6*E+R+M]=e.get(a[T-b],a[_+M]);A+=E*8}return o},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}(),Ht=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,o=t-i;return Math.sqrt(a*a+o*o)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r}(),Yh=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),Xe=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Yh.floatToIntBits(this.x)+Yh.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=t&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=t?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},r.distance=function(e,t){return Ht.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r}(),j2=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),tT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rT=function(r){tT(e,r);function e(t,n,i,a,o){var s=r.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(j2),$h=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ye}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,c=!1,g=!1,x=!1,A=this.width,E=this.height;o;){o=!1;for(var _=!0;(_||!l)&&t<A;)_=this.containsBlackPoint(n,i,t,!1),_?(t++,o=!0,l=!0):l||t++;if(t>=A){a=!0;break}for(var T=!0;(T||!c)&&i<E;)T=this.containsBlackPoint(e,t,i,!0),T?(i++,o=!0,c=!0):c||i++;if(i>=E){a=!0;break}for(var b=!0;(b||!g)&&e>=0;)b=this.containsBlackPoint(n,i,e,!1),b?(e--,o=!0,g=!0):g||e--;if(e<0){a=!0;break}for(var R=!0;(R||!x)&&n>=0;)R=this.containsBlackPoint(e,t,n,!0),R?(n--,o=!0,x=!0):x||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var M=t-e,B=null,k=1;B===null&&k<M;k++)B=this.getBlackPointOnSegment(e,i-k,e+k,i);if(B==null)throw new ye;for(var z=null,k=1;z===null&&k<M;k++)z=this.getBlackPointOnSegment(e,n+k,e+k,n);if(z==null)throw new ye;for(var $=null,k=1;$===null&&k<M;k++)$=this.getBlackPointOnSegment(t,n+k,t-k,n);if($==null)throw new ye;for(var V=null,k=1;V===null&&k<M;k++)V=this.getBlackPointOnSegment(t,i-k,t-k,i);if(V==null)throw new ye;return this.centerEdges(V,B,$,z)}else throw new ye},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=Ht.round(Ht.distance(e,t,n,i)),o=(n-e)/a,s=(i-t)/a,l=this.image,c=0;c<a;c++){var g=Ht.round(e+c*o),x=Ht.round(t+c*s);if(l.get(g,x))return new Xe(g,x)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),o=e.getY(),s=t.getX(),l=t.getY(),c=n.getX(),g=n.getY(),x=i.getX(),A=i.getY(),E=r.CORR;return a<this.width/2?[new Xe(x-E,A+E),new Xe(s+E,l+E),new Xe(c-E,g-E),new Xe(a+E,o-E)]:[new Xe(x+E,A+E),new Xe(s+E,l-E),new Xe(c-E,g+E),new Xe(a-E,o-E)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var s=e;s<=t;s++)if(a.get(n,s))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}(),ry=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var s=Math.floor(t[o]),l=Math.floor(t[o+1]);if(s<-1||s>n||l<-1||l>i)throw new ye;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var s=Math.floor(t[o]),l=Math.floor(t[o+1]);if(s<-1||s>n||l<-1||l>i)throw new ye;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}},r}(),Dm=function(){function r(e,t,n,i,a,o,s,l,c){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,o,s,l,c,g,x,A,E,_,T,b){var R=r.quadrilateralToSquare(e,t,n,i,a,o,s,l),M=r.squareToQuadrilateral(c,g,x,A,E,_,T,b);return M.times(R)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,g=this.a32,x=this.a33,A=0;A<t;A+=2){var E=e[A],_=e[A+1],T=a*E+l*_+x;e[A]=(n*E+o*_+c)/T,e[A+1]=(i*E+s*_+g)/T}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,g=this.a32,x=this.a33,A=e.length,E=0;E<A;E++){var _=e[E],T=t[E],b=a*_+l*T+x;e[E]=(n*_+o*T+c)/b,t[E]=(i*_+s*T+g)/b}},r.squareToQuadrilateral=function(e,t,n,i,a,o,s,l){var c=e-n+a-s,g=t-i+o-l;if(c===0&&g===0)return new r(n-e,a-n,e,i-t,o-i,t,0,0,1);var x=n-a,A=s-a,E=i-o,_=l-o,T=x*_-A*E,b=(c*_-A*g)/T,R=(x*g-c*E)/T;return new r(n-e+b*n,s-e+R*s,e,i-t+b*i,l-t+R*l,t,b,R,1)},r.quadrilateralToSquare=function(e,t,n,i,a,o,s,l){return r.squareToQuadrilateral(e,t,n,i,a,o,s,l).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}(),nT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iT=function(r){nT(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,o,s,l,c,g,x,A,E,_,T,b,R,M,B,k){var z=Dm.quadrilateralToQuadrilateral(a,o,s,l,c,g,x,A,E,_,T,b,R,M,B,k);return this.sampleGridWithTransform(t,n,i,z)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new ye;for(var o=new to(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,g=l+.5,x=0;x<c;x+=2)s[x]=x/2+.5,s[x+1]=g;a.transformPoints(s),ry.checkAndNudgePoints(t,s);try{for(var x=0;x<c;x+=2)t.get(Math.floor(s[x]),Math.floor(s[x+1]))&&o.set(x/2,l)}catch{throw new ye}}return o},e}(ry),H2=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new iT,r}(),_i=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new Xe(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}(),aT=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new rT(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ye;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,o,s){var l=(a>>t-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(_t.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ye},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new Vf(Ii.AZTEC_PARAM);l.decode(o,a)}catch{throw new ye}for(var c=0,s=0;s<i;s++)c=(c<<4)+o[s];return c},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),g=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var x=this.distancePoint(g,s)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(x<.75||x>1.25||!this.isWhiteOrBlackRectangle(s,l,c,g))break}t=s,n=l,i=c,a=g,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ye;this.compact=this.nbCenterLayers===5;var A=new Xe(t.getX()+.5,t.getY()-.5),E=new Xe(n.getX()+.5,n.getY()+.5),_=new Xe(i.getX()-.5,i.getY()+.5),T=new Xe(a.getX()-.5,a.getY()-.5);return this.expandSquare([A,E,_,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new $h(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new _i(o+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new _i(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new _i(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new _i(o-7,s-7),!1,-1,-1).toResultPoint()}var l=Ht.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=Ht.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new $h(this.image,15,l,c).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new _i(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new _i(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new _i(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new _i(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ht.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=Ht.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new _i(l,c)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var o=H2.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),o=a/n,s=e.getX(),l=e.getY(),c=o*(t.getX()-e.getX())/a,g=o*(t.getY()-e.getY())/a,x=0;x<n;x++)this.image.get(Ht.round(s+x*c),Ht.round(l+x*g))&&(i|=1<<n-x-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new _i(e.getX()-a,e.getY()+a),t=new _i(t.getX()-a,t.getY()-a),n=new _i(n.getX()+a,n.getY()-a),i=new _i(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,t);return s!==o||(s=this.getColor(t,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),g=Math.ceil(n),x=0;x<g;x++)s+=i,l+=a,this.image.get(Ht.round(s),Ht.round(l))!==c&&o++;var A=o/n;return A>.1&&A<.9?0:A<=.1===c?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new _i(a,o)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Xe(s+i*a,l+i*o),g=new Xe(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var x=new Xe(s+i*a,l+i*o),A=new Xe(s-i*a,l-i*o),E=[c,x,g,A];return E},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=Ht.round(e.getX()),n=Ht.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return Ht.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return Ht.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_t.truncDivision(this.nbLayers-4,8)+1)+15},r}(),Zh=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new aT(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new ty().decode(s)}catch(x){n=x}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new ty().decode(s)}catch(x){throw n??x}var l=new ni(o.getText(),o.getRawBytes(),o.getNumBits(),a,rt.AZTEC,yr.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(zn.BYTE_SEGMENTS,c);var g=o.getECLevel();return g!=null&&l.putMetadata(zn.ERROR_CORRECTION_LEVEL,g),l},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Lr.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}(),oT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){oT(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Zh,t)||this}return e})(r1);var xn=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Lr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),s=270;o!==null&&o.get(zn.ORIENTATION)===!0&&(s=s+o.get(zn.ORIENTATION)%360),a.putMetadata(zn.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),g=0;g<l.length;g++)l[g]=new Xe(c-l[g].getY()-1,l[g].getX());return a}else throw new ye}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new Rn(n),o=t&&t.get(Lr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),g=0;g<l;g++){var x=Math.trunc((g+1)/2),A=(g&1)===0,E=c+s*(A?x:-x);if(E<0||E>=i)break;try{a=e.getBlackRow(E,a)}catch{continue}for(var _=function(M){if(M===1&&(a.reverse(),t&&t.get(Lr.NEED_RESULT_POINT_CALLBACK)===!0)){var B=new Map;t.forEach(function($,V){return B.set(V,$)}),B.delete(Lr.NEED_RESULT_POINT_CALLBACK),t=B}try{var k=T.decodeRow(E,a,t);if(M===1){k.putMetadata(zn.ORIENTATION,180);var z=k.getResultPoints();z!==null&&(z[0]=new Xe(n-z[0].getX()-1,z[0].getY()),z[1]=new Xe(n-z[1].getX()-1,z[1].getY()))}return{value:k}}catch{}},T=this,b=0;b<2;b++){var R=_(b);if(typeof R=="object")return R.value}}throw new ye},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new ye;for(var s=!e.get(t),l=0,c=t;c<o;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===o))throw new ye},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ye;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,g=0;g<i;g++){var x=e[g],A=t[g]*l,E=x>A?x-A:A-x;if(E>n)return Number.POSITIVE_INFINITY;c+=E}return c/a},r}(),sT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ny=function(r){sT(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,g=i;g<n;g++)if(t.get(g)!==l)o[a]++;else{if(a===c-1){for(var x=e.MAX_AVG_VARIANCE,A=-1,E=e.CODE_START_A;E<=e.CODE_START_C;E++){var _=xn.patternMatchVariance(o,e.CODE_PATTERNS[E],e.MAX_INDIVIDUAL_VARIANCE);_<x&&(x=_,A=E)}if(A>=0&&t.isRange(Math.max(0,s-(g-s)/2),s,!1))return Int32Array.from([s,g,A]);s+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new ye},e.decodeCode=function(t,n,i){xn.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=s)}if(o>=0)return o;throw new ye},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(Lr.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var g;switch(s){case e.CODE_START_A:g=e.CODE_CODE_A;break;case e.CODE_START_B:g=e.CODE_CODE_B;break;case e.CODE_START_C:g=e.CODE_CODE_C;break;default:throw new Pe}for(var x=!1,A=!1,E="",_=o[0],T=o[1],b=Int32Array.from([0,0,0,0,0,0]),R=0,M=0,B=s,k=0,z=!0,$=!1,V=!1;!x;){var te=A;switch(A=!1,R=M,M=e.decodeCode(n,b,T),c[l++]=M,M!==e.CODE_STOP&&(z=!0),M!==e.CODE_STOP&&(k++,B+=k*M),_=T,T+=b.reduce(function(Fe,be){return Fe+be},0),M){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Pe}switch(g){case e.CODE_CODE_A:if(M<64)V===$?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),V=!1;else if(M<96)V===$?E+=String.fromCharCode(M-64):E+=String.fromCharCode(M+64),V=!1;else switch(M!==e.CODE_STOP&&(z=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!$&&V?($=!0,V=!1):$&&V?($=!1,V=!1):V=!0;break;case e.CODE_SHIFT:A=!0,g=e.CODE_CODE_B;break;case e.CODE_CODE_B:g=e.CODE_CODE_B;break;case e.CODE_CODE_C:g=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_B:if(M<96)V===$?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),V=!1;else switch(M!==e.CODE_STOP&&(z=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!$&&V?($=!0,V=!1):$&&V?($=!1,V=!1):V=!0;break;case e.CODE_SHIFT:A=!0,g=e.CODE_CODE_A;break;case e.CODE_CODE_A:g=e.CODE_CODE_A;break;case e.CODE_CODE_C:g=e.CODE_CODE_C;break;case e.CODE_STOP:x=!0;break}break;case e.CODE_CODE_C:if(M<100)M<10&&(E+="0"),E+=M;else switch(M!==e.CODE_STOP&&(z=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_CODE_A:g=e.CODE_CODE_A;break;case e.CODE_CODE_B:g=e.CODE_CODE_B;break;case e.CODE_STOP:x=!0;break}break}te&&(g=g===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var q=T-_;if(T=n.getNextUnset(T),!n.isRange(T,Math.min(n.getSize(),T+(T-_)/2),!1))throw new ye;if(B-=k*R,B%103!==R)throw new Nn;var pe=E.length;if(pe===0)throw new ye;pe>0&&z&&(g===e.CODE_CODE_C?E=E.substring(0,pe-2):E=E.substring(0,pe-1));for(var Be=(o[1]+o[0])/2,ge=_+q/2,Ee=c.length,Ye=new Uint8Array(Ee),le=0;le<Ee;le++)Ye[le]=c[le];var ht=[new Xe(Be,t),new Xe(ge,t)];return new ni(E,Ye,0,ht,rt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(xn),uT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iy=function(r){uT(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var g=e.findAsteriskPattern(n,c),x=n.getNextSet(g[1]),A=n.getSize(),E,_;do{e.recordPattern(n,x,c);var T=e.toNarrowWidePattern(c);if(T<0)throw new ye;E=e.patternToChar(T),this.decodeRowResult+=E,_=x;try{for(var b=(a=void 0,Yd(c)),R=b.next();!R.done;R=b.next()){var M=R.value;x+=M}}catch(Ee){a={error:Ee}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}x=n.getNextSet(x)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var k=Yd(c),z=k.next();!z.done;z=k.next()){var M=z.value;B+=M}}catch(Ee){s={error:Ee}}finally{try{z&&!z.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}var $=x-_-B;if(x!==A&&$*2<B)throw new ye;if(this.usingCheckDigit){for(var V=this.decodeRowResult.length-1,te=0,q=0;q<V;q++)te+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(V)!==e.ALPHABET_STRING.charAt(te%43))throw new Nn;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new ye;var pe;this.extendedMode?pe=e.decodeExtended(this.decodeRowResult):pe=this.decodeRowResult;var Be=(g[1]+g[0])/2,ge=_+B/2;return new ni(pe,null,0,[new Xe(Be,t),new Xe(ge,t)],rt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),o=0,s=a,l=!1,c=n.length,g=a;g<i;g++)if(t.get(g)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((g-s)/2)),s,!1))return[s,g];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new ye},e.toNarrowWidePattern=function(t){var n,i,a=t.length,o=0,s;do{var l=2147483647;try{for(var c=(n=void 0,Yd(t)),g=c.next();!g.done;g=c.next()){var x=g.value;x<l&&x>o&&(l=x)}}catch(T){n={error:T}}finally{try{g&&!g.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,s=0;for(var A=0,E=0,_=0;_<a;_++){var x=t[_];x>o&&(E|=1<<a-1-_,s++,A+=x)}if(s===3){for(var _=0;_<a&&s>0;_++){var x=t[_];if(x>o&&(s--,x*2>=A))return-1}return E}}while(s>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new ye},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=t.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Pe;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Pe;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Pe;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Pe;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(xn),lT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$d=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ay=function(r){lT(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,i){var a,o,s,l,c=this.findAsteriskPattern(n),g=n.getNextSet(c[1]),x=n.getSize(),A=this.counters;A.fill(0),this.decodeRowResult="";var E,_;do{e.recordPattern(n,g,A);var T=this.toPattern(A);if(T<0)throw new ye;E=this.patternToChar(T),this.decodeRowResult+=E,_=g;try{for(var b=(a=void 0,$d(A)),R=b.next();!R.done;R=b.next()){var M=R.value;g+=M}}catch(q){a={error:q}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}g=n.getNextSet(g)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var k=$d(A),z=k.next();!z.done;z=k.next()){var M=z.value;B+=M}}catch(q){s={error:q}}finally{try{z&&!z.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}if(g===x||!n.get(g))throw new ye;if(this.decodeRowResult.length<2)throw new ye;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var $=this.decodeExtended(this.decodeRowResult),V=(c[1]+c[0])/2,te=_+B/2;return new ni($,null,0,[new Xe(V,t),new Xe(te,t)],rt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,c=0,g=i;g<n;g++)if(t.get(g)!==s)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,g]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,s=!s}throw new ye},e.prototype.toPattern=function(t){var n,i,a=0;try{for(var o=$d(t),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(_){n={error:_}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,g=t.length,x=0;x<g;x++){var A=Math.round(t[x]*9/a);if(A<1||A>4)return-1;if(x&1)c<<=A;else for(var E=0;E<A;E++)c=c<<1|1}return c},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new ye},e.prototype.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new Pe;var s=t.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Pe;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Pe;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Pe;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Pe;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(t.charAt(s)),++a>i&&(a=1);if(t.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Nn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(xn),cT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oy=function(r){cT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),c=new wt;e.decodeMiddle(n,s[1],l[0],c);var g=c.toString(),x=null;i!=null&&(x=i.get(Lr.ALLOWED_LENGTHS)),x==null&&(x=e.DEFAULT_ALLOWED_LENGTHS);var A=g.length,E=!1,_=0;try{for(var T=fT(x),b=T.next();!b.done;b=T.next()){var R=b.value;if(A===R){E=!0;break}R>_&&(_=R)}}catch(k){a={error:k}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}if(!E&&A>_&&(E=!0),!E)throw new Pe;var M=[new Xe(s[1],t),new Xe(l[0],t)],B=new ni(g,null,0,M,rt.ITF,new Date().getTime());return B},e.decodeMiddle=function(t,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){xn.recordPattern(t,n,o);for(var c=0;c<5;c++){var g=2*c;s[c]=o[g],l[c]=o[g+1]}var x=e.decodeDigit(s);a.append(x.toString()),x=this.decodeDigit(l),a.append(x.toString()),o.forEach(function(A){n+=A})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ye},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new ye;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ye&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,o=new Int32Array(a),s=t.getSize(),l=!1,c=0,g=n;o.fill(0);for(var x=n;x<s;x++)if(t.get(x)!==l)o[c]++;else{if(c===a-1){if(xn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[g,x];g+=o[0]+o[1],yr.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new ye},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=xn.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new ye},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(xn),dT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yu=function(r){dT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=t.isRange(l,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Pe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Pe;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,o){var s=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var l=0,c=n,g=a.length,x=i,A=n;A<s;A++)if(t.get(A)!==x)o[l]++;else{if(l===g-1){if(xn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,A]);c+=o[0]+o[1];for(var E=o.slice(2,o.length),_=0;_<l-1;_++)o[_]=E[_];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,x=!x}throw new ye},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,c=0;c<l;c++){var g=a[c],x=xn.patternMatchVariance(n,g,e.MAX_INDIVIDUAL_VARIANCE);x<o&&(o=x,s=c)}if(s>=0)return s;throw new ye},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(xn),hT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pT=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),l=[new Xe((n[0]+n[1])/2,e),new Xe(a,e)],c=new ni(o,null,0,l,rt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=t[1],c=0,g=0;g<5&&l<s;g++){var x=Yu.decodeDigit(e,o,l,Yu.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var A=(i=void 0,hT(o)),E=A.next();!E.done;E=A.next()){var _=E.value;l+=_}}catch(b){i={error:b}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}x>=10&&(c|=1<<4-g),g!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new ye;var T=this.determineCheckDigit(c);if(r.extensionChecksum(n.toString())!==T)throw new ye;return l},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ye},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[zn.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},r}(),gT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vT=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),l=[new Xe((n[0]+n[1])/2,e),new Xe(a,e)],c=new ni(o,null,0,l,rt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=t[1],c=0,g=0;g<2&&l<s;g++){var x=Yu.decodeDigit(e,o,l,Yu.L_AND_G_PATTERNS);n+=String.fromCharCode(48+x%10);try{for(var A=(i=void 0,gT(o)),E=A.next();!E.done;E=A.next()){var _=E.value;l+=_}}catch(T){i={error:T}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}x>=10&&(c|=1<<1-g),g!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new ye;if(parseInt(n.toString())%4!==c)throw new ye;return l},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[zn.ISSUE_NUMBER,parseInt(e)]])},r}(),xT=function(){function r(){}return r.decodeRow=function(e,t,n){var i=Yu.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new pT;return a.decodeRow(e,t,i)}catch{var o=new vT;return o.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}(),yT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fn=function(r){yT(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Lr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Xe((a[0]+a[1])/2,t);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,g=l.resultString;if(o!=null){var x=new Xe(c,t);o.foundPossibleResultPoint(x)}var A=e.decodeEnd(n,c);if(o!=null){var E=new Xe((A[0]+A[1])/2,t);o.foundPossibleResultPoint(E)}var _=A[1],T=_+(_-A[0]);if(T>=n.getSize()||!n.isRange(_,T,!1))throw new ye;var b=g.toString();if(b.length<8)throw new Pe;if(!e.checkChecksum(b))throw new Nn;var R=(a[1]+a[0])/2,M=(A[1]+A[0])/2,B=this.getBarcodeFormat(),k=[new Xe(R,t),new Xe(M,t)],z=new ni(b,null,0,k,B,new Date().getTime()),$=0;try{var V=xT.decodeRow(t,n,A[1]);z.putMetadata(zn.UPC_EAN_EXTENSION,V.getText()),z.putAllMetadata(V.getResultMetadata()),z.addResultPoints(V.getResultPoints()),$=V.getText().length}catch{}var te=i==null?null:i.get(Lr.ALLOWED_EAN_EXTENSIONS);if(te!=null){var q=!1;for(var pe in te)if($.toString()===pe){q=!0;break}if(!q)throw new ye}return B===rt.EAN_13||rt.UPC_A,z},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Pe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Pe;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Yu),mT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kh=function(r){mT(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var g=t.getSize(),x=n[1],A=0,E=0;E<6&&x<g;E++){var _=fn.decodeDigit(t,c,x,fn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var T=(a=void 0,sy(c)),b=T.next();!b.done;b=T.next()){var R=b.value;x+=R}}catch(z){a={error:z}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}_>=10&&(A|=1<<5-E)}i=e.determineFirstDigit(i,A);var M=fn.findGuardPattern(t,x,!0,fn.MIDDLE_PATTERN,new Int32Array(fn.MIDDLE_PATTERN.length).fill(0));x=M[1];for(var E=0;E<6&&x<g;E++){var _=fn.decodeDigit(t,c,x,fn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var B=(s=void 0,sy(c)),k=B.next();!k.done;k=B.next()){var R=k.value;x+=R}}catch(V){s={error:V}}finally{try{k&&!k.done&&(l=B.return)&&l.call(B)}finally{if(s)throw s.error}}}return{rowOffset:x,resultString:i}},e.prototype.getBarcodeFormat=function(){return rt.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ye},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(fn),wT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ly=function(r){wT(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var g=t.getSize(),x=n[1],A=0;A<4&&x<g;A++){var E=fn.decodeDigit(t,c,x,fn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var _=(a=void 0,uy(c)),T=_.next();!T.done;T=_.next()){var b=T.value;x+=b}}catch(k){a={error:k}}finally{try{T&&!T.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var R=fn.findGuardPattern(t,x,!0,fn.MIDDLE_PATTERN,new Int32Array(fn.MIDDLE_PATTERN.length).fill(0));x=R[1];for(var A=0;A<4&&x<g;A++){var E=fn.decodeDigit(t,c,x,fn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var M=(s=void 0,uy(c)),B=M.next();!B.done;B=M.next()){var b=B.value;x+=b}}catch($){s={error:$}}finally{try{B&&!B.done&&(l=M.return)&&l.call(M)}finally{if(s)throw s.error}}}return{rowOffset:x,resultString:i}},e.prototype.getBarcodeFormat=function(){return rt.EAN_8},e}(fn),AT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cy=function(r){AT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Kh,t}return e.prototype.getBarcodeFormat=function(){return rt.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new ni(n.substring(1),null,null,t.getResultPoints(),rt.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ye},e.prototype.reset=function(){this.ean13Reader.reset()},e}(fn),ET=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fy=function(r){ET(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s=this.decodeMiddleCounters.map(function(b){return b});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=t.getSize(),c=n[1],g=0,x=0;x<6&&c<l;x++){var A=e.decodeDigit(t,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);try{for(var E=(a=void 0,CT(s)),_=E.next();!_.done;_=E.next()){var T=_.value;c+=T}}catch(b){a={error:b}}finally{try{_&&!_.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}A>=10&&(g|=1<<5-x)}return e.determineNumSysAndCheckDigit(new wt(i),g),c},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return fn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ye.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return rt.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new wt;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(fn),_T=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zd=function(r){_T(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(Lr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(rt.EAN_13)>-1&&a.push(new Kh),i.indexOf(rt.UPC_A)>-1&&a.push(new cy),i.indexOf(rt.EAN_8)>-1&&a.push(new ly),i.indexOf(rt.UPC_E)>-1&&a.push(new fy)),a.length===0&&(a.push(new Kh),a.push(new cy),a.push(new ly),a.push(new fy)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,o;try{for(var s=dy(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var g=c.decodeRow(t,n,i),x=g.getBarcodeFormat()===rt.EAN_13&&g.getText().charAt(0)==="0",A=i==null?null:i.get(Lr.POSSIBLE_FORMATS),E=A==null||A.includes(rt.UPC_A);if(x&&E){var _=g.getRawBytes(),T=new ni(g.getText().substring(1),_,_?_.length:null,g.getResultPoints(),rt.UPC_A);return T.putAllMetadata(g.getResultMetadata()),T}return g}catch{}}}catch(b){a={error:b}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new ye},e.prototype.reset=function(){var t,n;try{for(var i=dy(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(xn),ST=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IT=function(r){ST(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,i){var a=this.getValidRowData(n);if(!a)throw new ye;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ye;return new ni(o,null,0,[new Xe(a.left,t),new Xe(a.right,t)],rt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],i=Math.ceil(t.reduce(function(l,c){return(l+c)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e}(xn),TT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xs=function(r){TT(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(xn.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ye},e.count=function(t){return Ht.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]>a&&(a=n[o],i=o);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]<a&&(a=n[o],i=o);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],o=a+t[2]+t[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var g=OT(t),x=g.next();!x.done;x=g.next()){var A=x.value;A>c&&(c=A),A<l&&(l=A)}}catch(E){n={error:E}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(xn),Af=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}(),Mm=function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Xe(n,a)),this.resultPoints.push(new Xe(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}(),NT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hu=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,o=0;try{for(var s=NT(e),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(M){i={error:M}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var g=0,x=0,A=e.length,E=0;E<A-1;E++){var _=void 0;for(_=1,x|=1<<E;_<e[E];_++,x&=~(1<<E)){var T=r.combins(o-_-1,A-E-2);if(n&&x===0&&o-_-(A-E-1)>=A-E-1&&(T-=r.combins(o-_-(A-E),A-E-2)),A-E-1>1){for(var b=0,R=o-_-(A-E-2);R>t;R--)b+=r.combins(o-_-R-1,A-E-3);T-=b*(A-1-E)}else o-_>t&&T--;g+=T}o-=_}return g},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},r}(),bT=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new Rn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],g=c.getLeftChar().getValue(),x=11;x>=0;--x)g&1<<x&&i.set(a),a++;if(c.getRightChar()!==null)for(var A=c.getRightChar().getValue(),x=11;x>=0;--x)A&1<<x&&i.set(a),a++}return i},r}(),zs=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}(),V2=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}(),RT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ea=function(r){RT(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(V2),DT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gs=function(r){DT(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(V2),MT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bu=function(r){MT(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new Pe;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(V2),Gc=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PT=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,o,s,l,c;if(!e)return null;if(e.length<2)throw new ye;var g=e.substring(0,2);try{for(var x=Gc(r.TWO_DIGIT_DATA_LENGTH),A=x.next();!A.done;A=x.next()){var E=A.value;if(E[0]===g)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,E[2],e):r.processFixedAI(2,E[1],e)}}catch($){t={error:$}}finally{try{A&&!A.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}if(e.length<3)throw new ye;var _=e.substring(0,3);try{for(var T=Gc(r.THREE_DIGIT_DATA_LENGTH),b=T.next();!b.done;b=T.next()){var E=b.value;if(E[0]===_)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,E[2],e):r.processFixedAI(3,E[1],e)}}catch($){i={error:$}}finally{try{b&&!b.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}try{for(var R=Gc(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),M=R.next();!M.done;M=R.next()){var E=M.value;if(E[0]===_)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,E[2],e):r.processFixedAI(4,E[1],e)}}catch($){o={error:$}}finally{try{M&&!M.done&&(s=R.return)&&s.call(R)}finally{if(o)throw o.error}}if(e.length<4)throw new ye;var B=e.substring(0,4);try{for(var k=Gc(r.FOUR_DIGIT_DATA_LENGTH),z=k.next();!z.done;z=k.next()){var E=z.value;if(E[0]===B)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,E[2],e):r.processFixedAI(4,E[1],e)}}catch($){l={error:$}}finally{try{z&&!z.done&&(c=k.return)&&c.call(k)}finally{if(l)throw l.error}}throw new ye},r.processFixedAI=function(e,t,n){if(n.length<e)throw new ye;var i=n.substring(0,e);if(n.length<e+t)throw new ye;var a=n.substring(e,e+t),o=n.substring(e+t),s="("+i+")"+a,l=r.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,c=r.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}(),uf=function(){function r(e){this.buffer=new wt,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=PT.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Bu(this.information.getSize(),Bu.FNC1,Bu.FNC1):new Bu(this.information.getSize(),t-1,Bu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Bu(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Gs(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Gs(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Gs(this.current.getPosition(),this.buffer.toString()):t=new Gs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new zs(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Gs(this.current.getPosition(),this.buffer.toString());return new zs(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zs(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Gs(this.current.getPosition(),this.buffer.toString());return new zs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zs(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Gs(this.current.getPosition(),this.buffer.toString());return new zs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zs(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ea(e+5,Ea.FNC1);if(t>=5&&t<15)return new Ea(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ea(e+7,""+(n+1));if(n>=90&&n<116)return new Ea(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Pe}return new Ea(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ea(e+5,Ea.FNC1);if(t>=5&&t<15)return new Ea(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ea(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Sl("Decoding invalid alphanumeric value: "+n)}return new Ea(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}(),Pm=function(){function r(e){this.information=e,this.generalDecoder=new uf(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}(),BT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oa=function(r){BT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(Pm),LT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FT=function(r){LT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new wt;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Oa),kT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UT=function(r){kT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new wt;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Pm),jT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lf=function(r){jT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&t.append("0"),s/=10;t.append(o)},e}(Oa),HT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bm=function(r){HT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+lf.GTIN_SIZE+e.WEIGHT_SIZE)throw new ye;var t=new wt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+lf.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(lf),VT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zT=function(r){VT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Bm),GT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WT=function(r){GT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Bm),XT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YT=function(r){XT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oa.GTIN_SIZE)throw new ye;var t=new wt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oa.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Oa),$T=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZT=function(r){$T(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oa.GTIN_SIZE)throw new ye;var t=new wt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oa.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Oa),KT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rs=function(r){KT(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ye;var t=new wt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&t.append("0"),t.append(s),o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(lf);function QT(r){try{if(r.get(1))return new FT(r);if(!r.get(2))return new UT(r);var e=uf.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new zT(r);case 5:return new WT(r)}var t=uf.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new YT(r);case 13:return new ZT(r)}var n=uf.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new rs(r,"310","11");case 57:return new rs(r,"320","11");case 58:return new rs(r,"310","13");case 59:return new rs(r,"320","13");case 60:return new rs(r,"310","15");case 61:return new rs(r,"320","15");case 62:return new rs(r,"310","17");case 63:return new rs(r,"320","17")}}catch(i){throw console.log(i),new Sl("unknown decoder: "+r)}}var hy=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}(),qT=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},r}(),JT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ns=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eO=function(r){JT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(s){if(s instanceof ye){if(!this.pairs.length)throw new ye;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ye},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,ns(t)),c=l.next();!c.done;c=l.next()){var g=c.value;this.pairs.push(g.getPairs())}}catch(A){i={error:A}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var x=new Array(t);x.push(s);try{return this.checkRows(x,o+1)}catch(A){console.log(A)}}}throw new ye},e.isValidSequence=function(t){var n,i;try{for(var a=ns(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(t.length>s.length)){for(var l=!0,c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(g){n={error:g}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new qT(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,o,s,l,c;try{for(var g=ns(n),x=g.next();!x.done;x=g.next()){var A=x.value;if(A.getPairs().length!==t.length){var E=!0;try{for(var _=(o=void 0,ns(A.getPairs())),T=_.next();!T.done;T=_.next()){var b=T.value,R=!1;try{for(var M=(l=void 0,ns(t)),B=M.next();!B.done;B=M.next()){var k=B.value;if(hy.equals(b,k)){R=!0;break}}}catch(z){l={error:z}}finally{try{B&&!B.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}R||(E=!1)}}catch(z){o={error:z}}finally{try{T&&!T.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}}catch(z){i={error:z}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,o,s,l,c;try{for(var g=ns(n),x=g.next();!x.done;x=g.next()){var A=x.value,E=!0;try{for(var _=(o=void 0,ns(t)),T=_.next();!T.done;T=_.next()){var b=T.value,R=!1;try{for(var M=(l=void 0,ns(A.getPairs())),B=M.next();!B.done;B=M.next()){var k=B.value;if(b.equals(k)){R=!0;break}}}catch(z){l={error:z}}finally{try{B&&!B.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}if(!R){E=!1;break}}}catch(z){o={error:z}}finally{try{T&&!T.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}if(E)return!0}}catch(z){i={error:z}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=bT.buildBitArray(t),i=QT(n),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new ni(a,null,null,l,rt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var g=211*(o-4)+a;return g===n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(t,n,l),o=this.parseFoundFinderPattern(t,i,a),o===null?l=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ye;var g;try{g=this.decodeDataCharacter(t,o,a,!1)}catch(x){g=null,console.log(x)}return new hy(c,g,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var g=!1;s<o&&(g=!t.get(s),!!g);)s++;for(var x=0,A=s,E=s;E<o;E++)if(t.get(E)!==g)a[x]++;else{if(x===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=A,this.startEnd[1]=E;return}c&&e.reverseCounters(a),A+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,g=!g}throw new ye},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var c=this.getDecodeFinderCounters();yr.arraycopy(c,0,c,1,c.length-1),c[0]=a;var g;try{g=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new Mm(g,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var g=o[l];o[l]=o[c],o[c]=g}}var x=17,A=Ht.sum(new Int32Array(o))/x,E=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(A-E)/E>.3)throw new ye;for(var _=this.getOddCounts(),T=this.getEvenCounts(),b=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var M=1*o[l]/A,B=M+.5;if(B<1){if(M<.3)throw new ye;B=1}else if(B>8){if(M>8.7)throw new ye;B=8}var k=l/2;l&1?(T[k]=B,R[k]=M-B):(_[k]=B,b[k]=M-B)}this.adjustOddEvenCounts(x);for(var z=4*n.getValue()+(i?0:2)+(a?0:1)-1,$=0,V=0,l=_.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var te=e.WEIGHTS[z][2*l];V+=_[l]*te}$+=_[l]}for(var q=0,l=T.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var te=e.WEIGHTS[z][2*l+1];q+=T[l]*te}var pe=V+q;if($&1||$>13||$<4)throw new ye;var Be=(13-$)/2,ge=e.SYMBOL_WIDEST[Be],Ee=9-ge,Ye=Hu.getRSSvalue(_,ge,!0),le=Hu.getRSSvalue(T,Ee,!1),ht=e.EVEN_TOTAL_SUBSET[Be],Fe=e.GSUM[Be],be=Ye*ht+le+Fe;return new Af(be,pe)},e.isNotA1left=function(t,n,i){return!(t.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=Ht.sum(new Int32Array(this.getOddCounts())),i=Ht.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-t,g=(n&1)===1,x=(i&1)===0;if(c===1)if(g){if(x)throw new ye;o=!0}else{if(!x)throw new ye;l=!0}else if(c===-1)if(g){if(x)throw new ye;a=!0}else{if(!x)throw new ye;s=!0}else if(c===0){if(g){if(!x)throw new ye;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(x)throw new ye}else throw new ye;if(a){if(o)throw new ye;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new ye;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Xs),tO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rO=function(r){tO(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Af),nO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},py=function(r){nO(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,o,s,l,c=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var g=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,g),n.reverse();try{for(var x=Kd(this.possibleLeftPairs),A=x.next();!A.done;A=x.next()){var E=A.value;if(E.getCount()>1)try{for(var _=(s=void 0,Kd(this.possibleRightPairs)),T=_.next();!T.done;T=_.next()){var b=T.value;if(b.getCount()>1&&e.checkChecksum(E,b))return e.constructResult(E,b)}}catch(R){s={error:R}}finally{try{T&&!T.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}}}catch(R){a={error:R}}finally{try{A&&!A.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}throw new ye},e.addOrTally=function(t,n){var i,a;if(n!=null){var o=!1;try{for(var s=Kd(t),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),o=new wt,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=s&1?c:3*c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var g=t.getFinderPattern().getResultPoints(),x=n.getFinderPattern().getResultPoints();return new ni(o.toString(),null,0,[g[0],g[1],x[0],x[1]],rt.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var o=this.findFinderPattern(t,n),s=this.parseFoundFinderPattern(t,i,n,o),l=a==null?null:a.get(Lr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=t.getSize()-1-c),l.foundPossibleResultPoint(new Xe(c,i))}var g=this.decodeDataCharacter(t,s,!0),x=this.decodeDataCharacter(t,s,!1);return new rO(1597*g.getValue()+x.getValue(),g.getChecksumPortion()+4*x.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)xn.recordPatternInReverse(t,n.getStartEnd()[0],a);else{xn.recordPattern(t,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var c=a[s];a[s]=a[l],a[l]=c}}for(var g=i?16:15,x=Ht.sum(new Int32Array(a))/g,A=this.getOddCounts(),E=this.getEvenCounts(),_=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var b=a[s]/x,R=Math.floor(b+.5);R<1?R=1:R>8&&(R=8);var M=Math.floor(s/2);s&1?(E[M]=R,T[M]=b-R):(A[M]=R,_[M]=b-R)}this.adjustOddEvenCounts(i,g);for(var B=0,k=0,s=A.length-1;s>=0;s--)k*=9,k+=A[s],B+=A[s];for(var z=0,$=0,s=E.length-1;s>=0;s--)z*=9,z+=E[s],$+=E[s];var V=k+3*z;if(i){if(B&1||B>12||B<4)throw new ye;var te=(12-B)/2,q=e.OUTSIDE_ODD_WIDEST[te],pe=9-q,Be=Hu.getRSSvalue(A,q,!1),ge=Hu.getRSSvalue(E,pe,!0),Ee=e.OUTSIDE_EVEN_TOTAL_SUBSET[te],Ye=e.OUTSIDE_GSUM[te];return new Af(Be*Ee+ge+Ye,V)}else{if($&1||$>10||$<4)throw new ye;var te=(10-$)/2,q=e.INSIDE_ODD_WIDEST[te],pe=9-q,Be=Hu.getRSSvalue(A,q,!0),ge=Hu.getRSSvalue(E,pe,!1),le=e.INSIDE_ODD_TOTAL_SUBSET[te],Ye=e.INSIDE_GSUM[te];return new Af(ge*le+Be+Ye,V)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,s=0;s<a&&(o=!t.get(s),n!==o);)s++;for(var l=0,c=s,g=s;g<a;g++)if(t.get(g)!==o)i[l]++;else{if(l===3){if(Xs.isFinderPattern(i))return[c,g];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new ye},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var o=t.get(a[0]),s=a[0]-1;s>=0&&o!==t.get(s);)s--;s++;var l=a[0]-s,c=this.getDecodeFinderCounters(),g=new Int32Array(c.length);yr.arraycopy(c,0,g,1,c.length-1),g[0]=l;var x=this.parseFinderValue(g,e.FINDER_PATTERNS),A=s,E=a[1];return i&&(A=t.getSize()-1-A,E=t.getSize()-1-E),new Mm(x,[s,a[1]],A,E,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=Ht.sum(new Int32Array(this.getOddCounts())),a=Ht.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;t?(i>12?s=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var g=i+a-n,x=(i&1)===(t?1:0),A=(a&1)===1;if(g===1)if(x){if(A)throw new ye;s=!0}else{if(!A)throw new ye;c=!0}else if(g===-1)if(x){if(A)throw new ye;o=!0}else{if(!A)throw new ye;l=!0}else if(g===0){if(x){if(!A)throw new ye;i<a?(o=!0,c=!0):(s=!0,l=!0)}else if(A)throw new ye}else throw new ye;if(o){if(s)throw new ye;Xs.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Xs.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ye;Xs.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Xs.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Xs),iO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ul=function(r){iO(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(Lr.POSSIBLE_FORMATS):null,a=t&&t.get(Lr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(rt.EAN_13)||i.includes(rt.UPC_A)||i.includes(rt.EAN_8)||i.includes(rt.UPC_E))&&n.readers.push(new Zd(t)),i.includes(rt.CODE_39)&&n.readers.push(new iy(a)),i.includes(rt.CODE_93)&&n.readers.push(new ay),i.includes(rt.CODE_128)&&n.readers.push(new ny),i.includes(rt.ITF)&&n.readers.push(new oy),i.includes(rt.CODABAR)&&n.readers.push(new IT),i.includes(rt.RSS_14)&&n.readers.push(new py),i.includes(rt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new eO))),n.readers.length===0&&(n.readers.push(new Zd(t)),n.readers.push(new iy),n.readers.push(new ay),n.readers.push(new Zd(t)),n.readers.push(new ny),n.readers.push(new oy),n.readers.push(new py)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new ye},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(xn),aO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){aO(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new ul(n),t,n)||this}return e})(r1);var gy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jt=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),Wt=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),oO=function(){function r(e,t,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,g=o.getECCodewords(),x=o.getECBlocks();try{for(var A=gy(x),E=A.next();!E.done;E=A.next()){var _=E.value;c+=_.getCount()*(_.getDataCodewords()+g)}}catch(T){s={error:T}}finally{try{E&&!E.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}this.totalCodewords=c}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if(e&1||t&1)throw new Pe;try{for(var a=gy(r.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Pe},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Jt(5,new Wt(1,3))),new r(2,12,12,10,10,new Jt(7,new Wt(1,5))),new r(3,14,14,12,12,new Jt(10,new Wt(1,8))),new r(4,16,16,14,14,new Jt(12,new Wt(1,12))),new r(5,18,18,16,16,new Jt(14,new Wt(1,18))),new r(6,20,20,18,18,new Jt(18,new Wt(1,22))),new r(7,22,22,20,20,new Jt(20,new Wt(1,30))),new r(8,24,24,22,22,new Jt(24,new Wt(1,36))),new r(9,26,26,24,24,new Jt(28,new Wt(1,44))),new r(10,32,32,14,14,new Jt(36,new Wt(1,62))),new r(11,36,36,16,16,new Jt(42,new Wt(1,86))),new r(12,40,40,18,18,new Jt(48,new Wt(1,114))),new r(13,44,44,20,20,new Jt(56,new Wt(1,144))),new r(14,48,48,22,22,new Jt(68,new Wt(1,174))),new r(15,52,52,24,24,new Jt(42,new Wt(2,102))),new r(16,64,64,14,14,new Jt(56,new Wt(2,140))),new r(17,72,72,16,16,new Jt(36,new Wt(4,92))),new r(18,80,80,18,18,new Jt(48,new Wt(4,114))),new r(19,88,88,20,20,new Jt(56,new Wt(4,144))),new r(20,96,96,22,22,new Jt(68,new Wt(4,174))),new r(21,104,104,24,24,new Jt(56,new Wt(6,136))),new r(22,120,120,18,18,new Jt(68,new Wt(6,175))),new r(23,132,132,20,20,new Jt(62,new Wt(8,163))),new r(24,144,144,22,22,new Jt(62,new Wt(8,156),new Wt(2,155))),new r(25,8,18,6,16,new Jt(7,new Wt(1,5))),new r(26,8,32,6,14,new Jt(11,new Wt(1,10))),new r(27,12,26,10,24,new Jt(14,new Wt(1,16))),new r(28,12,36,10,16,new Jt(18,new Wt(1,22))),new r(29,16,36,14,16,new Jt(24,new Wt(1,32))),new r(30,16,48,14,22,new Jt(28,new Wt(1,49)))]},r.VERSIONS=r.buildVersions(),r}(),sO=function(){function r(e){var t=e.getHeight();if(t<8||t>144||t&1)throw new Pe;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new to(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return oO.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,g=!1;do if(n===a&&i===0&&!s)e[t++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[t++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!c)e[t++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!g)e[t++]=this.readCorner4(a,o)&255,n-=2,i+=2,g=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(t!==this.version.getTotalCodewords())throw new Pe;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new ot("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,s=n/a|0,l=o*i,c=s*a,g=new to(c,l),x=0;x<o;++x)for(var A=x*i,E=0;E<s;++E)for(var _=E*a,T=0;T<i;++T)for(var b=x*(i+2)+1+T,R=A+T,M=0;M<a;++M){var B=E*(a+2)+1+M;if(e.get(B,b)){var k=_+M;g.set(k,R)}}return g},r}(),vy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uO=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,o,s=t.getECBlocks(),l=0,c=s.getECBlocks();try{for(var g=vy(c),x=g.next();!x.done;x=g.next()){var A=x.value;l+=A.getCount()}}catch(Ye){n={error:Ye}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var E=new Array(l),_=0;try{for(var T=vy(c),b=T.next();!b.done;b=T.next())for(var A=b.value,R=0;R<A.getCount();R++){var M=A.getDataCodewords(),B=s.getECCodewords()+M;E[_++]=new r(M,new Uint8Array(B))}}catch(Ye){a={error:Ye}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}for(var k=E[0].codewords.length,z=k-s.getECCodewords(),$=z-1,V=0,R=0;R<$;R++)for(var te=0;te<_;te++)E[te].codewords[R]=e[V++];for(var q=t.getVersionNumber()===24,pe=q?8:_,te=0;te<pe;te++)E[te].codewords[z-1]=e[V++];for(var Be=E[0].codewords.length,R=z;R<Be;R++)for(var te=0;te<_;te++){var ge=q?(te+8)%_:te,Ee=q&&ge>7?R-1:R;E[ge].codewords[Ee]=e[V++]}if(V!==e.length)throw new ot;return E},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),Lm=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ot(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,c=255>>8-s<<l;t=(a[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;t=t<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}(),sn;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(sn||(sn={}));var lO=function(){function r(){}return r.decode=function(e){var t=new Lm(e),n=new wt,i=new wt,a=new Array,o=sn.ASCII_ENCODE;do if(o===sn.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,i);else{switch(o){case sn.C40_ENCODE:this.decodeC40Segment(t,n);break;case sn.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case sn.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case sn.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new Pe}o=sn.ASCII_ENCODE}while(o!==sn.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new Hf(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Pe;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),sn.ASCII_ENCODE;if(a===129)return sn.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return sn.C40_ENCODE;case 231:return sn.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return sn.ANSIX12_ENCODE;case 239:return sn.TEXT_ENCODE;case 240:return sn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Pe;break}}while(e.available()>0);return sn.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new Pe;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new Pe}a=0;break;case 3:n?(t.append(String.fromCharCode(l+224)),n=!1):t.append(String.fromCharCode(l+96)),a=0;break;default:throw new Pe}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new Pe;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new Pe}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c),a=0}else throw new Pe;break;default:throw new Pe}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new Pe;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Pe;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new Pe;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(ca.decode(s,Mt.ISO88591))}catch(c){throw new Sl("Platform does not support required encoding: "+c.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r}(),cO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fO=function(){function r(){this.rsDecoder=new Vf(Ii.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new sO(e),a=i.getVersion(),o=i.readCodewords(),s=uO.getDataBlocks(o,a),l=0;try{for(var c=cO(s),g=c.next();!g.done;g=c.next()){var x=g.value;l+=x.getNumDataCodewords()}}catch(B){t={error:B}}finally{try{g&&!g.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var A=new Uint8Array(l),E=s.length,_=0;_<E;_++){var T=s[_],b=T.getCodewords(),R=T.getNumDataCodewords();this.correctErrors(b,R);for(var M=0;M<R;M++)A[M*E+_]=b[M]}return lO.decode(A)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new Nn}for(var i=0;i<t;i++)e[i]=n[i]},r}(),dO=function(){function r(e){this.image=e,this.rectangleDetector=new $h(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ye;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],o=t[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=r.sampleGrid(this.image,n,i,a,o,s,l);return new j2(c,[n,i,a,o])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new Xe(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new Xe(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,t),g=o,x=[a,t,n,i];return g>s&&(g=s,x[0]=t,x[1]=n,x[2]=i,x[3]=a),g>l&&(g=l,x[0]=n,x[1]=i,x[2]=a,x[3]=t),g>c&&(x[0]=i,x[1]=a,x[2]=t,x[3]=n),x},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=r.shiftPoint(n,i,(o+1)*4),l=r.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(s,t),g=this.transitionsBetween(l,a);return c<g?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=this.transitionsBetween(n,a),l=r.shiftPoint(t,n,(s+1)*4),c=r.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(c,a);var g=new Xe(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),x=new Xe(a.getX()+(t.getX()-n.getX())/(s+1),a.getY()+(t.getY()-n.getY())/(s+1));if(!this.isValid(g))return this.isValid(x)?x:null;if(!this.isValid(x))return g;var A=this.transitionsBetween(l,g)+this.transitionsBetween(c,g),E=this.transitionsBetween(l,x)+this.transitionsBetween(c,x);return A>E?g:x},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(i,a)+1,l=r.shiftPoint(t,n,s*4),c=r.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var g=(t.getX()+n.getX()+i.getX()+a.getX())/4,x=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,g,x),n=r.moveAway(n,g,x),i=r.moveAway(i,g,x),a=r.moveAway(a,g,x);var A,E;return l=r.shiftPoint(t,n,s*4),l=r.shiftPoint(l,a,o*4),A=r.shiftPoint(n,t,s*4),A=r.shiftPoint(A,i,o*4),c=r.shiftPoint(i,a,s*4),c=r.shiftPoint(c,n,o*4),E=r.shiftPoint(a,i,s*4),E=r.shiftPoint(E,t,o*4),[l,A,c,E]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,o,s){var l=H2.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),g=Math.abs(o-i),x=-c/2,A=i<o?1:-1,E=n<a?1:-1,_=0,T=this.image.get(s?i:n,s?n:i),b=n,R=i;b!==a;b+=E){var M=this.image.get(s?R:b,s?b:R);if(M!==T&&(_++,T=M),x+=g,x>0){if(R===o)break;R+=A,x-=c}}return _},r}(),Qh=function(){function r(){this.decoder=new fO}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(Lr.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var o=new dO(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new ni(n.getText(),s,8*s.length,i,rt.DATA_MATRIX,yr.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(zn.BYTE_SEGMENTS,c);var g=n.getECLevel();return g!=null&&l.putMetadata(zn.ERROR_CORRECTION_LEVEL,g),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new ye;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],l=n[0],c=(l-s+1)/i,g=(o-a+1)/i;if(c<=0||g<=0)throw new ye;var x=i/2;a+=x,s+=x;for(var A=new to(c,g),E=0;E<g;E++)for(var _=a+E*i,T=0;T<c;T++)e.get(s+T*i,_)&&A.set(T,E);return A},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new ye;var o=i-e[0];if(o===0)throw new ye;return o},r.NO_POINTS=[],r}(),hO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){hO(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Qh,t)||this}return e})(r1);var Vu;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Vu||(Vu={}));var pO=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new _a(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new ot;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Vu.L,"L",1),r.M=new r(Vu.M,"M",0),r.Q=new r(Vu.Q,"Q",3),r.H=new r(Vu.H,"H",2),r}(),gO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fm=function(){function r(e){this.errorCorrectionLevel=pO.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return _t.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=gO(r.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,g=c[0];if(g===e||g===t)return new r(c[1]);var x=r.numBitsDiffering(e,g);x<a&&(o=c[1],a=x),e!==t&&(x=r.numBitsDiffering(t,g),x<a&&(o=c[1],a=x))}}catch(A){n={error:A}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new r(o):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}(),vO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ue=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=vO(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),X=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),xO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eu=function(){function r(e,t){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var g=xO(c),x=g.next();!x.done;x=g.next()){var A=x.value;s+=A.getCount()*(A.getDataCodewords()+l)}}catch(E){n={error:E}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}this.totalCodewords=s}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Pe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Pe}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new ot;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var o=Fm.numBitsDiffering(e,a);o<t&&(n=i+7,t=o)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new to(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new ue(7,new X(1,19)),new ue(10,new X(1,16)),new ue(13,new X(1,13)),new ue(17,new X(1,9))),new r(2,Int32Array.from([6,18]),new ue(10,new X(1,34)),new ue(16,new X(1,28)),new ue(22,new X(1,22)),new ue(28,new X(1,16))),new r(3,Int32Array.from([6,22]),new ue(15,new X(1,55)),new ue(26,new X(1,44)),new ue(18,new X(2,17)),new ue(22,new X(2,13))),new r(4,Int32Array.from([6,26]),new ue(20,new X(1,80)),new ue(18,new X(2,32)),new ue(26,new X(2,24)),new ue(16,new X(4,9))),new r(5,Int32Array.from([6,30]),new ue(26,new X(1,108)),new ue(24,new X(2,43)),new ue(18,new X(2,15),new X(2,16)),new ue(22,new X(2,11),new X(2,12))),new r(6,Int32Array.from([6,34]),new ue(18,new X(2,68)),new ue(16,new X(4,27)),new ue(24,new X(4,19)),new ue(28,new X(4,15))),new r(7,Int32Array.from([6,22,38]),new ue(20,new X(2,78)),new ue(18,new X(4,31)),new ue(18,new X(2,14),new X(4,15)),new ue(26,new X(4,13),new X(1,14))),new r(8,Int32Array.from([6,24,42]),new ue(24,new X(2,97)),new ue(22,new X(2,38),new X(2,39)),new ue(22,new X(4,18),new X(2,19)),new ue(26,new X(4,14),new X(2,15))),new r(9,Int32Array.from([6,26,46]),new ue(30,new X(2,116)),new ue(22,new X(3,36),new X(2,37)),new ue(20,new X(4,16),new X(4,17)),new ue(24,new X(4,12),new X(4,13))),new r(10,Int32Array.from([6,28,50]),new ue(18,new X(2,68),new X(2,69)),new ue(26,new X(4,43),new X(1,44)),new ue(24,new X(6,19),new X(2,20)),new ue(28,new X(6,15),new X(2,16))),new r(11,Int32Array.from([6,30,54]),new ue(20,new X(4,81)),new ue(30,new X(1,50),new X(4,51)),new ue(28,new X(4,22),new X(4,23)),new ue(24,new X(3,12),new X(8,13))),new r(12,Int32Array.from([6,32,58]),new ue(24,new X(2,92),new X(2,93)),new ue(22,new X(6,36),new X(2,37)),new ue(26,new X(4,20),new X(6,21)),new ue(28,new X(7,14),new X(4,15))),new r(13,Int32Array.from([6,34,62]),new ue(26,new X(4,107)),new ue(22,new X(8,37),new X(1,38)),new ue(24,new X(8,20),new X(4,21)),new ue(22,new X(12,11),new X(4,12))),new r(14,Int32Array.from([6,26,46,66]),new ue(30,new X(3,115),new X(1,116)),new ue(24,new X(4,40),new X(5,41)),new ue(20,new X(11,16),new X(5,17)),new ue(24,new X(11,12),new X(5,13))),new r(15,Int32Array.from([6,26,48,70]),new ue(22,new X(5,87),new X(1,88)),new ue(24,new X(5,41),new X(5,42)),new ue(30,new X(5,24),new X(7,25)),new ue(24,new X(11,12),new X(7,13))),new r(16,Int32Array.from([6,26,50,74]),new ue(24,new X(5,98),new X(1,99)),new ue(28,new X(7,45),new X(3,46)),new ue(24,new X(15,19),new X(2,20)),new ue(30,new X(3,15),new X(13,16))),new r(17,Int32Array.from([6,30,54,78]),new ue(28,new X(1,107),new X(5,108)),new ue(28,new X(10,46),new X(1,47)),new ue(28,new X(1,22),new X(15,23)),new ue(28,new X(2,14),new X(17,15))),new r(18,Int32Array.from([6,30,56,82]),new ue(30,new X(5,120),new X(1,121)),new ue(26,new X(9,43),new X(4,44)),new ue(28,new X(17,22),new X(1,23)),new ue(28,new X(2,14),new X(19,15))),new r(19,Int32Array.from([6,30,58,86]),new ue(28,new X(3,113),new X(4,114)),new ue(26,new X(3,44),new X(11,45)),new ue(26,new X(17,21),new X(4,22)),new ue(26,new X(9,13),new X(16,14))),new r(20,Int32Array.from([6,34,62,90]),new ue(28,new X(3,107),new X(5,108)),new ue(26,new X(3,41),new X(13,42)),new ue(30,new X(15,24),new X(5,25)),new ue(28,new X(15,15),new X(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new ue(28,new X(4,116),new X(4,117)),new ue(26,new X(17,42)),new ue(28,new X(17,22),new X(6,23)),new ue(30,new X(19,16),new X(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new ue(28,new X(2,111),new X(7,112)),new ue(28,new X(17,46)),new ue(30,new X(7,24),new X(16,25)),new ue(24,new X(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new ue(30,new X(4,121),new X(5,122)),new ue(28,new X(4,47),new X(14,48)),new ue(30,new X(11,24),new X(14,25)),new ue(30,new X(16,15),new X(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new ue(30,new X(6,117),new X(4,118)),new ue(28,new X(6,45),new X(14,46)),new ue(30,new X(11,24),new X(16,25)),new ue(30,new X(30,16),new X(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new ue(26,new X(8,106),new X(4,107)),new ue(28,new X(8,47),new X(13,48)),new ue(30,new X(7,24),new X(22,25)),new ue(30,new X(22,15),new X(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new ue(28,new X(10,114),new X(2,115)),new ue(28,new X(19,46),new X(4,47)),new ue(28,new X(28,22),new X(6,23)),new ue(30,new X(33,16),new X(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new ue(30,new X(8,122),new X(4,123)),new ue(28,new X(22,45),new X(3,46)),new ue(30,new X(8,23),new X(26,24)),new ue(30,new X(12,15),new X(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new ue(30,new X(3,117),new X(10,118)),new ue(28,new X(3,45),new X(23,46)),new ue(30,new X(4,24),new X(31,25)),new ue(30,new X(11,15),new X(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new ue(30,new X(7,116),new X(7,117)),new ue(28,new X(21,45),new X(7,46)),new ue(30,new X(1,23),new X(37,24)),new ue(30,new X(19,15),new X(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new ue(30,new X(5,115),new X(10,116)),new ue(28,new X(19,47),new X(10,48)),new ue(30,new X(15,24),new X(25,25)),new ue(30,new X(23,15),new X(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new ue(30,new X(13,115),new X(3,116)),new ue(28,new X(2,46),new X(29,47)),new ue(30,new X(42,24),new X(1,25)),new ue(30,new X(23,15),new X(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new ue(30,new X(17,115)),new ue(28,new X(10,46),new X(23,47)),new ue(30,new X(10,24),new X(35,25)),new ue(30,new X(19,15),new X(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new ue(30,new X(17,115),new X(1,116)),new ue(28,new X(14,46),new X(21,47)),new ue(30,new X(29,24),new X(19,25)),new ue(30,new X(11,15),new X(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new ue(30,new X(13,115),new X(6,116)),new ue(28,new X(14,46),new X(23,47)),new ue(30,new X(44,24),new X(7,25)),new ue(30,new X(59,16),new X(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new ue(30,new X(12,121),new X(7,122)),new ue(28,new X(12,47),new X(26,48)),new ue(30,new X(39,24),new X(14,25)),new ue(30,new X(22,15),new X(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new ue(30,new X(6,121),new X(14,122)),new ue(28,new X(6,47),new X(34,48)),new ue(30,new X(46,24),new X(10,25)),new ue(30,new X(2,15),new X(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new ue(30,new X(17,122),new X(4,123)),new ue(28,new X(29,46),new X(14,47)),new ue(30,new X(49,24),new X(10,25)),new ue(30,new X(24,15),new X(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new ue(30,new X(4,122),new X(18,123)),new ue(28,new X(13,46),new X(32,47)),new ue(30,new X(48,24),new X(14,25)),new ue(30,new X(42,15),new X(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new ue(30,new X(20,117),new X(4,118)),new ue(28,new X(40,47),new X(7,48)),new ue(30,new X(43,24),new X(22,25)),new ue(30,new X(10,15),new X(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new ue(30,new X(19,118),new X(6,119)),new ue(28,new X(18,47),new X(31,48)),new ue(30,new X(34,24),new X(34,25)),new ue(30,new X(20,15),new X(61,16)))],r}(),Sn;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(Sn||(Sn={}));var xy=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[Sn.DATA_MASK_000,new r(Sn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Sn.DATA_MASK_001,new r(Sn.DATA_MASK_001,function(e,t){return(e&1)===0})],[Sn.DATA_MASK_010,new r(Sn.DATA_MASK_010,function(e,t){return t%3===0})],[Sn.DATA_MASK_011,new r(Sn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Sn.DATA_MASK_100,new r(Sn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Sn.DATA_MASK_101,new r(Sn.DATA_MASK_101,function(e,t){return e*t%6===0})],[Sn.DATA_MASK_110,new r(Sn.DATA_MASK_110,function(e,t){return e*t%6<3})],[Sn.DATA_MASK_111,new r(Sn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}(),yO=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new Pe;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=Fm.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Pe},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return eu.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=eu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=eu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Pe},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=xy.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,s=new Uint8Array(t.getTotalCodewords()),l=0,c=0,g=0,x=i-1;x>0;x-=2){x===6&&x--;for(var A=0;A<i;A++)for(var E=o?i-1-A:A,_=0;_<2;_++)a.get(x-_,E)||(g++,c<<=1,this.bitMatrix.get(x-_,E)&&(c|=1),g===8&&(s[l++]=c,g=0,c=0));o=!o}if(l!==t.getTotalCodewords())throw new Pe;return s},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=xy.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}(),yy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mO=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,o,s;if(e.length!==t.getTotalCodewords())throw new ot;var l=t.getECBlocksForLevel(n),c=0,g=l.getECBlocks();try{for(var x=yy(g),A=x.next();!A.done;A=x.next()){var E=A.value;c+=E.getCount()}}catch(Ee){i={error:Ee}}finally{try{A&&!A.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}var _=new Array(c),T=0;try{for(var b=yy(g),R=b.next();!R.done;R=b.next())for(var E=R.value,M=0;M<E.getCount();M++){var B=E.getDataCodewords(),k=l.getECCodewordsPerBlock()+B;_[T++]=new r(B,new Uint8Array(k))}}catch(Ee){o={error:Ee}}finally{try{R&&!R.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}for(var z=_[0].codewords.length,$=_.length-1;$>=0;){var V=_[$].codewords.length;if(V===z)break;$--}$++;for(var te=z-l.getECCodewordsPerBlock(),q=0,M=0;M<te;M++)for(var pe=0;pe<T;pe++)_[pe].codewords[M]=e[q++];for(var pe=$;pe<T;pe++)_[pe].codewords[te]=e[q++];for(var Be=_[0].codewords.length,M=te;M<Be;M++)for(var pe=0;pe<T;pe++){var ge=pe<$?M:M+1;_[pe].codewords[ge]=e[q++]}return _},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),oa;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(oa||(oa={}));var Sr=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new ot;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(oa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(oa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(oa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(oa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(oa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(oa.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(oa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(oa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(oa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(oa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}(),wO=function(){function r(){}return r.decode=function(e,t,n,i){var a=new Lm(e),o=new wt,s=new Array,l=-1,c=-1;try{var g=null,x=!1,A=void 0;do{if(a.available()<4)A=Sr.TERMINATOR;else{var E=a.readBits(4);A=Sr.forBits(E)}switch(A){case Sr.TERMINATOR:break;case Sr.FNC1_FIRST_POSITION:case Sr.FNC1_SECOND_POSITION:x=!0;break;case Sr.STRUCTURED_APPEND:if(a.available()<16)throw new Pe;l=a.readBits(8),c=a.readBits(8);break;case Sr.ECI:var _=r.parseECIValue(a);if(g=hn.getCharacterSetECIByValue(_),g===null)throw new Pe;break;case Sr.HANZI:var T=a.readBits(4),b=a.readBits(A.getCharacterCountBits(t));T===r.GB2312_SUBSET&&r.decodeHanziSegment(a,o,b);break;default:var R=a.readBits(A.getCharacterCountBits(t));switch(A){case Sr.NUMERIC:r.decodeNumericSegment(a,o,R);break;case Sr.ALPHANUMERIC:r.decodeAlphanumericSegment(a,o,R,x);break;case Sr.BYTE:r.decodeByteSegment(a,o,R,g,s,i);break;case Sr.KANJI:r.decodeKanjiSegment(a,o,R);break;default:throw new Pe}break}}while(A!==Sr.TERMINATOR)}catch{throw new Pe}return new Hf(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new Pe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{t.append(ca.decode(i,Mt.GB2312))}catch(l){throw new Pe(l)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new Pe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{t.append(ca.decode(i,Mt.SHIFT_JIS))}catch(l){throw new Pe(l)}},r.decodeByteSegment=function(e,t,n,i,a,o){if(8*n>e.available())throw new Pe;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=Mt.guessEncoding(s,o):c=i.getName();try{t.append(ca.decode(s,c))}catch(g){throw new Pe(g)}a.push(s)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new Pe;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new Pe;var o=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(o/45))),t.append(r.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Pe;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new Pe;var i=e.readBits(10);if(i>=1e3)throw new Pe;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Pe;var a=e.readBits(7);if(a>=100)throw new Pe;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Pe;var o=e.readBits(4);if(o>=10)throw new Pe;t.append(r.toAlphaNumericChar(o))}},r.parseECIValue=function(e){var t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new Pe},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}(),km=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}(),my=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AO=function(){function r(){this.rsDecoder=new Vf(Ii.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(to.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new yO(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new km(!0)),a}catch(o){throw i!==null?i:o}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),g=mO.getDataBlocks(c,s,l),x=0;try{for(var A=my(g),E=A.next();!E.done;E=A.next()){var _=E.value;x+=_.getNumDataCodewords()}}catch($){n={error:$}}finally{try{E&&!E.done&&(i=A.return)&&i.call(A)}finally{if(n)throw n.error}}var T=new Uint8Array(x),b=0;try{for(var R=my(g),M=R.next();!M.done;M=R.next()){var _=M.value,B=_.getCodewords(),k=_.getNumDataCodewords();this.correctErrors(B,k);for(var z=0;z<k;z++)T[b++]=B[z]}}catch($){a={error:$}}finally{try{M&&!M.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}return wO.decode(T,s,l,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new Nn}for(var i=0;i<t;i++)e[i]=n[i]},r}(),EO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CO=function(r){EO(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,o=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Xe),_O=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SO=function(){function r(e,t,n,i,a,o,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,o=new Int32Array(3),s=this.image,l=0;l<t;l++){var c=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var g=e;g<i&&!s.get(g,c);)g++;for(var x=0;g<i;){if(s.get(g,c))if(x===1)o[1]++;else if(x===2){if(this.foundPatternCross(o)){var A=this.handlePossibleCenter(o,c,g);if(A!==null)return A}o[0]=o[2],o[1]=1,o[2]=0,x=1}else o[++x]++;else x===1&&x++,o[x]++;g++}if(this.foundPatternCross(o)){var A=this.handlePossibleCenter(o,c,i);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ye},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(t,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(t,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(t,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?r.centerFromEnd(s,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,o=e[0]+e[1]+e[2],s=r.centerFromEnd(e,n),l=this.crossCheckVertical(t,s,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var g=_O(this.possibleCenters),x=g.next();!x.done;x=g.next()){var A=x.value;if(A.aboutEquals(c,l,s))return A.combineEstimate(l,s,c)}}catch(_){i={error:_}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var E=new CO(s,l,c);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null},r}(),IO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TO=function(r){IO(e,r);function e(t,n,i,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+t)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(Xe),OO=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}(),Q1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NO=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Lr.TRY_HARDER)!==void 0,n=e!=null&&e.get(Lr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*r.MAX_MODULES));(s<r.MIN_SKIP||t)&&(s=r.MIN_SKIP);for(var l=!1,c=new Int32Array(5),g=s-1;g<a&&!l;g+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var x=0,A=0;A<o;A++)if(i.get(A,g))(x&1)===1&&x++,c[x]++;else if(x&1)c[x]++;else if(x===4)if(r.foundPatternCross(c)){var E=this.handlePossibleCenter(c,g,A,n);if(E===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>c[2]&&(g+=_-c[2]-s,A=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,x=3;continue}x=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,x=3;else c[++x]++;if(r.foundPatternCross(c)){var E=this.handlePossibleCenter(c,g,o,n);E===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var T=this.selectBestPatterns();return Xe.orderBestPatterns(T),new OO(T)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&t>=o&&s.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||t<o||a[1]>n)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;e+o<l&&t+o<c&&s.get(t+o,e+o);)a[2]++,o++;if(e+o>=l||t+o>=c)return!1;for(;e+o<l&&t+o<c&&!s.get(t+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||t+o>=c||a[3]>=n)return!1;for(;e+o<l&&t+o<c&&s.get(t+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var g=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(g-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(t,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(t,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(t,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(t,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(t,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,l):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,t);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,t)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,t)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,t);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,t)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,t)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=r.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,g=this.possibleCenters,x=0,A=g.length;x<A;x++){var E=g[x];if(E.aboutEquals(l,s,o)){g[x]=E.combineEstimate(s,o,l),c=!0;break}}if(!c){var _=new TO(o,s,l);g.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Q1(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=r.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=Q1(this.possibleCenters),c=l.next();!c.done;c=l.next()){var g=c.value;g.getCount()>=r.CENTER_QUORUM&&(a++,o+=g.getEstimatedModuleSize())}}catch(T){e={error:T}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var x=o/s,A=0;try{for(var E=Q1(this.possibleCenters),_=E.next();!_.done;_=E.next()){var g=_.value;A+=Math.abs(g.getEstimatedModuleSize()-x)}}catch(T){n={error:T}}finally{try{_&&!_.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}return A<=.05*o},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new ye;var o=this.possibleCenters,s;if(a>3){var l=0,c=0;try{for(var g=Q1(this.possibleCenters),x=g.next();!x.done;x=g.next()){var A=x.value,E=A.getEstimatedModuleSize();l+=E,c+=E*E}}catch(z){e={error:z}}finally{try{x&&!x.done&&(t=g.return)&&t.call(g)}finally{if(e)throw e.error}}s=l/a;var _=Math.sqrt(c/a-s*s);o.sort(function(z,$){var V=Math.abs($.getEstimatedModuleSize()-s),te=Math.abs(z.getEstimatedModuleSize()-s);return V<te?-1:V>te?1:0});for(var T=Math.max(.2*s,_),b=0;b<o.length&&o.length>3;b++){var R=o[b];Math.abs(R.getEstimatedModuleSize()-s)>T&&(o.splice(b,1),b--)}}if(o.length>3){var l=0;try{for(var M=Q1(o),B=M.next();!B.done;B=M.next()){var k=B.value;l+=k.getEstimatedModuleSize()}}catch($){n={error:$}}finally{try{B&&!B.done&&(i=M.return)&&i.call(M)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function($,V){if(V.getCount()===$.getCount()){var te=Math.abs(V.getEstimatedModuleSize()-s),q=Math.abs($.getEstimatedModuleSize()-s);return te<q?1:te>q?-1:0}else return V.getCount()-$.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}(),bO=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Lr.NEED_RESULT_POINT_CALLBACK);var t=new NO(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new ye("No pattern found in proccess finder.");var o=r.computeDimension(t,n,i,a),s=eu.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var g=n.getX()-t.getX()+i.getX(),x=n.getY()-t.getY()+i.getY(),A=1-3/l,E=Math.floor(t.getX()+A*(g-t.getX())),_=Math.floor(t.getY()+A*(x-t.getY())),T=4;T<=16;T<<=1)try{c=this.findAlignmentInRegion(a,E,_,T);break}catch(B){if(!(B instanceof ye))throw B}var b=r.createTransform(t,n,i,c,o),R=r.sampleGrid(this.image,b,o),M;return c===null?M=[i,t,n]:M=[i,t,n,c],new j2(R,M)},r.createTransform=function(e,t,n,i,a){var o=a-3.5,s,l,c,g;return i!==null?(s=i.getX(),l=i.getY(),c=o-3,g=c):(s=t.getX()-e.getX()+n.getX(),l=t.getY()-e.getY()+n.getY(),c=o,g=o),Dm.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,g,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,l,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=H2.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=Ht.round(Xe.distance(e,t)/i),o=Ht.round(Xe.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new ye("Dimensions could be not found.")}return s},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(t-(i-t)*o);return o=1,l<0?(o=t/(t-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,l),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-t),c=-s/2,g=e<n?1:-1,x=t<i?1:-1,A=0,E=n+g,_=e,T=t;_!==E;_+=g){var b=a?T:_,R=a?_:T;if(A===1===this.image.get(b,R)){if(A===2)return Ht.distance(_,T,e,t);A++}if(c+=l,c>0){if(T===i)break;T+=x,c-=s}}return A===2?Ht.distance(n+g,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),o=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-o<e*3)throw new ye("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new ye("Alignment bottom exceeds estimated module size.");var g=new SO(this.image,o,l,s-o,c-l,e,this.resultPointCallback);return g.find()},r}(),qh=function(){function r(){this.decoder=new AO}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(Lr.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var o=new bO(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof km&&n.getOther().applyMirroredCorrection(i);var s=new ni(n.getText(),n.getRawBytes(),void 0,i,rt.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(zn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(zn.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(zn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(zn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new ye;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],l=n[0];if(s>=l||a>=o)throw new ye;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new ye;var c=Math.round((l-s+1)/i),g=Math.round((o-a+1)/i);if(c<=0||g<=0)throw new ye;if(g!==c)throw new ye;var x=Math.floor(i/2);a+=x,s+=x;var A=s+Math.floor((c-1)*i)-l;if(A>0){if(A>x)throw new ye;s-=A}var E=a+Math.floor((g-1)*i)-o;if(E>0){if(E>x)throw new ye;a-=E}for(var _=new to(c,g),T=0;T<g;T++)for(var b=a+Math.floor(T*i),R=0;R<c;R++)e.get(s+Math.floor(R*i),b)&&_.set(R,T);return _},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==t.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new ye;return(a-e[0])/7},r.NO_POINTS=new Array,r}(),RO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ft=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return Ht.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=RO(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=gn.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}(),DO=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),MO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PO=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new DO(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,o=0,s=0,l=!1;o<t.getHeight();){var c=r.findVertices(t,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var g=(n=void 0,MO(a)),x=g.next();!x.done;x=g.next()){var A=x.value;A[1]!=null&&(o=Math.trunc(Math.max(o,A[1].getY()))),A[3]!=null&&(o=Math.max(o,Math.trunc(A[3].getY())))}}catch(E){n={error:E}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}o+=r.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),o},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);i<t;i+=r.ROW_STEP){var g=r.findGuardPattern(e,a,i,n,!1,o,c);if(g!=null){for(;i>0;){var x=r.findGuardPattern(e,a,--i,n,!1,o,c);if(x!=null)g=x;else{i++;break}}s[0]=new Xe(g[0],i),s[1]=new Xe(g[1],i),l=!0;break}}var A=i+1;if(l){for(var E=0,x=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);A<t;A++){var g=r.findGuardPattern(e,x[0],A,n,!1,o,c);if(g!=null&&Math.abs(x[0]-g[0])<r.MAX_PATTERN_DRIFT&&Math.abs(x[1]-g[1])<r.MAX_PATTERN_DRIFT)x=g,E=0;else{if(E>r.SKIPPED_ROW_COUNT_MAX)break;E++}}A-=E+1,s[2]=new Xe(x[0],A),s[3]=new Xe(x[1],A)}return A-i<r.BARCODE_MIN_HEIGHT&&gn.fill(s,null),s},r.findGuardPattern=function(e,t,n,i,a,o,s){gn.fillWithin(s,0,s.length,0);for(var l=t,c=0;e.get(l,n)&&l>0&&c++<r.MAX_PIXEL_DRIFT;)l--;for(var g=l,x=0,A=o.length,E=a;g<i;g++){var _=e.get(g,n);if(_!==E)s[x]++;else{if(x===A-1){if(r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([l,g]);l+=s[0]+s[1],yr.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,E=!E}}return x===A-1&&r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([l,g-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,g=0;g<i;g++){var x=e[g],A=t[g]*l,E=x>A?x-A:A-x;if(E>n)return 1/0;c+=E}return c/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}(),BO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qs=function(){function r(e,t){if(t.length===0)throw new ot;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),yr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=BO(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(x){t={error:x}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,g=1;g<c;g++)l=this.field.add(this.field.multiply(e,l),this.coefficients[g]);return l},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new ot("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;yr.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(t[s-o],n[s]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ot("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ot("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=t[s],c=0;c<a;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,i[c]));return new r(this.field,o)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ot;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new wt,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}(),LO=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ot;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new Rm;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}(),FO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kO=function(r){FO(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*n%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Qs(i,new Int32Array([0])),i.one=new Qs(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ot;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new Qs(this,i)},e.PDF417_GF=new e(Ft.NUMBER_OF_CODEWORDS,3),e}(LO),UO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jO=function(){function r(){this.field=kO.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,o=new Qs(this.field,e),s=new Int32Array(t),l=!1,c=t;c>0;c--){var g=o.evaluateAt(this.field.exp(c));s[t-c]=g,g!==0&&(l=!0)}if(!l)return 0;var x=this.field.getOne();if(n!=null)try{for(var A=UO(n),E=A.next();!E.done;E=A.next()){var _=E.value,T=this.field.exp(e.length-1-_),b=new Qs(this.field,new Int32Array([this.field.subtract(0,T),1]));x=x.multiply(b)}}catch(te){i={error:te}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}for(var R=new Qs(this.field,s),M=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),R,t),B=M[0],k=M[1],z=this.findErrorLocations(B),$=this.findErrorMagnitudes(k,B,z),c=0;c<z.length;c++){var V=e.length-1-this.field.log(z[c]);if(V<0)throw Nn.getChecksumInstance();e[V]=this.field.subtract(e[V],$[c])}return z.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,g=s;if(a=o,s=l,a.isZero())throw Nn.getChecksumInstance();o=c;for(var x=this.field.getZero(),A=a.getCoefficient(a.getDegree()),E=this.field.inverse(A);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),T=this.field.multiply(o.getCoefficient(o.getDegree()),E);x=x.add(this.field.buildMonomial(_,T)),o=o.subtract(a.multiplyByMonomial(_,T))}l=x.multiply(s).subtract(g).negative()}var b=l.getCoefficient(0);if(b===0)throw Nn.getChecksumInstance();var R=this.field.inverse(b),M=l.multiply(R),B=o.multiply(R);return[M,B]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw Nn.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var s=new Qs(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var g=this.field.inverse(n[o]),x=this.field.subtract(0,e.evaluateAt(g)),A=this.field.inverse(s.evaluateAt(g));c[o]=this.field.multiply(x,A)}return c},r}(),Jh=function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var o=t==null||n==null,s=i==null||a==null;if(o&&s)throw new ye;o?(t=new Xe(0,i.getY()),n=new Xe(0,a.getY())):s&&(i=new Xe(e.getWidth()-1,t.getY()),a=new Xe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var g=new Xe(l.getX(),c);n?i=g:o=g}if(t>0){var x=n?this.bottomLeft:this.bottomRight,A=Math.trunc(x.getY()+t);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);var E=new Xe(x.getX(),A);n?a=E:s=E}return new r(this.image,i,a,o,s)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}(),HO=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}(),z2=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(o,s,l,c,g,x){if(o==="%%")return"%";if(t[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var A=g?parseInt(g.substr(1)):void 0,E;switch(x){case"s":E=t[n];break;case"c":E=t[n][0];break;case"f":E=parseFloat(t[n]).toFixed(o);break;case"p":E=parseFloat(t[n]).toPrecision(o);break;case"e":E=parseFloat(t[n]).toExponential(o);break;case"x":E=parseInt(t[n]).toString(A||16);break;case"d":E=parseFloat(parseInt(t[n],A||10).toPrecision(o)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(A);for(var _=parseInt(l),T=l&&l[0]+""=="0"?"0":" ";E.length<_;)E=s!==void 0?E+T:T+E;return E}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}(),VO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Um=function(){function r(e){this.boundingBox=new Jh(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new z2,i=0;try{for(var a=VO(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}(),zO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GO=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},ll=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(x,A){var E={getKey:function(){return x},getValue:function(){return A}};E.getValue()>n?(n=E.getValue(),i=[],i.push(E.getKey())):E.getValue()===n&&i.push(E.getKey())};try{for(var o=zO(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=GO(s.value,2),c=l[0],g=l[1];a(c,g)}}catch(x){e={error:x}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Ft.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}(),WO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wy=function(r){WO(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=Qd(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,g=1,x=0,A=s;A<l;A++)if(n[A]!=null){var E=n[A],_=E.getRowNumber()-c;if(_===0)x++;else if(_===1)g=Math.max(g,x),x=1,c=E.getRowNumber();else if(_<0||E.getRowNumber()>=t.getRowCount()||_>A)n[A]=null;else{var T=void 0;g>2?T=(g-2)*_:T=_;for(var b=T>=A,R=1;R<=T&&!b;R++)b=n[A-R]!=null;b?n[A]=null:(c=E.getRowNumber(),x=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=Qd(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(g){t={error:g}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,g=o;g<s;g++)if(l[g]!=null){var x=l[g];x.setRowNumberAsRowIndicatorColumn();var A=x.getRowNumber()-c;A===0||(A===1?c=x.getRowNumber():x.getRowNumber()>=t.getRowCount()?l[g]=null:c=x.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new ll,o=new ll,s=new ll,l=new ll;try{for(var c=Qd(i),g=c.next();!g.done;g=c.next()){var x=g.value;if(x!=null){x.setRowNumberAsRowIndicatorColumn();var A=x.getValue()%30,E=x.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:o.setValue(A*3+1);break;case 1:l.setValue(A/3),s.setValue(A%3);break;case 2:a.setValue(A+1);break}}}}catch(T){t={error:T}}finally{try{g&&!g.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Ft.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Ft.MAX_ROWS_IN_BARCODE)return null;var _=new HO(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(Um),XO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YO=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ft.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[t],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[t],c[3]=l[t],t>0&&(c[0]=n[t-1],c[4]=s[t-1],c[5]=l[t-1]),t>1&&(c[8]=n[t-2],c[10]=s[t-2],c[11]=l[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=s[t+1],c[7]=l[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=s[t+2],c[13]=l[t+2]);try{for(var g=XO(c),x=g.next();!x.done;x=g.next()){var A=x.value;if(r.adjustRowNumber(o,A))return}}catch(E){i={error:E}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new z2,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r}(),$O=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}(),ZO=function(){function r(){}return r.initialize=function(){for(var e=0;e<Ft.SYMBOL_TABLE.length;e++)for(var t=Ft.SYMBOL_TABLE[e],n=t&1,i=0;i<Ft.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Ft.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Ft.BARS_IN_MODULE-i-1]=Math.fround(a/Ft.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=Ht.sum(e),n=new Int32Array(Ft.BARS_IN_MODULE),i=0,a=0,o=0;o<Ft.MODULES_IN_CODEWORD;o++){var s=t/(2*Ft.MODULES_IN_CODEWORD)+o*t/Ft.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Ft.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=Ht.sum(e),n=new Array(Ft.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=Yh.MAX_VALUE,o=-1;this.bSymbolTableReady||r.initialize();for(var s=0;s<r.RATIOS_TABLE.length;s++){for(var l=0,c=r.RATIOS_TABLE[s],g=0;g<Ft.BARS_IN_MODULE;g++){var x=Math.fround(c[g]-n[g]);if(l+=Math.fround(x*x),l>=a)break}l<a&&(a=l,o=Ft.SYMBOL_TABLE[s])}return o},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Ft.SYMBOL_TABLE.length).map(function(e){return new Array(Ft.BARS_IN_MODULE)}),r}(),KO=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}(),Ay=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}(),QO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qO=function(r){QO(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Ni),JO=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new qO;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new k2;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}(),eN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tN=function(r){eN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Ni),rN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nN=function(r){rN(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new ot("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new tN;i=_t.MAX_VALUE}this.buf=gn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new k2;this.ensureCapacity(this.count+i),yr.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return gn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(JO),lr;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lr||(lr={}));function jm(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Wc;function as(r){if(typeof Wc>"u"&&(Wc=jm()),Wc===null)throw new Error("BigInt is not supported!");return Wc(r)}function iN(){var r=[];r[0]=as(1);var e=as(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var aN=function(){function r(){}return r.decode=function(e,t){var n=new wt(""),i=hn.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new KO;a<e[0];){switch(o){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(o,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:hn.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,s);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new Pe;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Pe.getFormatInstance()}if(n.length()===0)throw Pe.getFormatInstance();var l=new Hf(null,n.toString(),null,t);return l.setOther(s),l},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Pe.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(_t.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new wt;t=r.textCompaction(e,t,o),n.setFileId(o.toString());var s=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new wt;t=r.textCompaction(e,t+1,l),n.setFileName(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new wt;t=r.textCompaction(e,t+1,c),n.setSender(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var g=new wt;t=r.textCompaction(e,t+1,g),n.setAddressee(g.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var x=new wt;t=r.numericCompaction(e,t+1,x),n.setSegmentCount(_t.parseInt(x.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var A=new wt;t=r.numericCompaction(e,t+1,A),n.setTimestamp(Ay.parseLong(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var E=new wt;t=r.numericCompaction(e,t+1,E),n.setChecksum(_t.parseInt(E.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new wt;t=r.numericCompaction(e,t+1,_),n.setFileSize(Ay.parseLong(_.toString()));break;default:throw Pe.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw Pe.getFormatInstance()}if(s!==-1){var T=t-s;n.isLastSegment()&&T--,n.setOptionalData(gn.copyOfRange(e,s,s+T))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,s=!1;t<e[0]&&!s;){var l=e[t++];if(l<r.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:i[o++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],a[o]=l,o++;break}}return r.decodeTextCompaction(i,a,o,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=lr.ALPHA,o=lr.ALPHA,s=0;s<n;){var l=e[s],c="";switch(a){case lr.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.LL:a=lr.LOWER;break;case r.ML:a=lr.MIXED;break;case r.PS:o=a,a=lr.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=lr.ALPHA;break}break;case lr.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case r.AS:o=a,a=lr.ALPHA_SHIFT;break;case r.ML:a=lr.MIXED;break;case r.PS:o=a,a=lr.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=lr.ALPHA;break}break;case lr.MIXED:if(l<r.PL)c=r.MIXED_CHARS[l];else switch(l){case r.PL:a=lr.PUNCT;break;case 26:c=" ";break;case r.LL:a=lr.LOWER;break;case r.AL:a=lr.ALPHA;break;case r.PS:o=a,a=lr.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=lr.ALPHA;break}break;case lr.PUNCT:if(l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=lr.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=lr.ALPHA;break}break;case lr.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=lr.ALPHA;break}break;case lr.PUNCT_SHIFT:if(a=o,l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=lr.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=lr.ALPHA;break}break}c!==""&&i.append(c),s++}},r.byteCompaction=function(e,t,n,i,a){var o=new nN,s=0,l=0,c=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var g=new Int32Array(6),x=t[i++];i<t[0]&&!c;)switch(g[s++]=x,l=900*l+x,x=t[i++],x){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var A=0;A<6;++A)o.write(Number(as(l)>>as(8*(5-A))));l=0,s=0}break}i===t[0]&&x<r.TEXT_COMPACTION_MODE_LATCH&&(g[s++]=x);for(var E=0;E<s;E++)o.write(g[E]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!c;){var _=t[i++];if(_<r.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+_;else switch(_){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var A=0;A<6;++A)o.write(Number(as(l)>>as(8*(5-A))));l=0,s=0}}break}return a.append(ca.decode(o.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,o=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var s=e[t++];if(t===e[0]&&(a=!0),s<r.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||s===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(o,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=as(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*as(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Pe;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=jm()?iN():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}(),q1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oN=function(){function r(){}return r.decode=function(e,t,n,i,a,o,s){for(var l=new Jh(e,t,n,i,a),c=null,g=null,x,A=!0;;A=!1){if(t!=null&&(c=r.getRowIndicatorColumn(e,l,t,!0,o,s)),i!=null&&(g=r.getRowIndicatorColumn(e,l,i,!1,o,s)),x=r.merge(c,g),x==null)throw ye.getNotFoundInstance();var E=x.getBoundingBox();if(A&&E!=null&&(E.getMinY()<l.getMinY()||E.getMaxY()>l.getMaxY()))l=E;else break}x.setBoundingBox(l);var _=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,c),x.setDetectionResultColumn(_,g);for(var T=c!=null,b=1;b<=_;b++){var R=T?b:_-b;if(x.getDetectionResultColumn(R)===void 0){var M=void 0;R===0||R===_?M=new wy(l,R===0):M=new Um(l),x.setDetectionResultColumn(R,M);for(var B=-1,k=B,z=l.getMinY();z<=l.getMaxY();z++){if(B=r.getStartColumn(x,R,z,T),B<0||B>l.getMaxX()){if(k===-1)continue;B=k}var $=r.detectCodeword(e,l.getMinX(),l.getMaxX(),T,B,z,o,s);$!=null&&(M.setCodeword(z,$),k=B,o=Math.min(o,$.getWidth()),s=Math.max(s,$.getWidth()))}}}return r.createDecoderResult(x)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=Jh.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new YO(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),o=0;try{for(var s=q1(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(E){t={error:E}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var g=e.getCodewords(),x=0;o>0&&g[x]==null;x++)o--;for(var A=0,x=i.length-1;x>=0&&(A+=a-i[x],!(i[x]>0));x--);for(var x=g.length-1;A>0&&g[x]==null;x--)A--;return e.getBoundingBox().addMissingRows(o,A,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=q1(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,o){for(var s=new wy(t,i),l=0;l<2;l++)for(var c=l===0?1:-1,g=Math.trunc(Math.trunc(n.getX())),x=Math.trunc(Math.trunc(n.getY()));x<=t.getMaxY()&&x>=t.getMinY();x+=c){var A=r.detectCodeword(e,0,e.getWidth(),i,g,x,a,o);A!=null&&(s.setCodeword(x,A),i?g=A.getStartX():g=A.getEndX())}return s},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Ft.MAX_CODEWORDS_IN_BARCODE)throw ye.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=t[s][l+1].getValue(),g=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(g):c.length===1?i[g]=c[0]:(o.push(g),a.push(c))}for(var x=new Array(a.length),A=0;A<x.length;A++)x[A]=a[A];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ft.toIntArray(n),Ft.toIntArray(o),x)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)t[i[l]]=a[l][o[l]];try{return r.decodeCodewords(t,e,n)}catch(g){var c=g instanceof Nn;if(!c)throw g}if(o.length===0)throw Nn.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw Nn.getChecksumInstance()}throw Nn.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new ll;var c=0;try{for(var g=q1(e.getDetectionResultColumns()),x=g.next();!x.done;x=g.next()){var A=x.value;if(A!=null)try{for(var E=(i=void 0,q1(A.getCodewords())),_=E.next();!_.done;_=E.next()){var T=_.value;if(T!=null){var b=T.getRowNumber();if(b>=0){if(b>=o.length)continue;o[b][c].setValue(T.getValue())}}}}catch(R){i={error:R}}finally{try{_&&!_.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}c++}}catch(R){t={error:R}}finally{try{x&&!x.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}return o},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,o,s=i?1:-1,l=null;if(r.isValidBarcodeColumn(e,t-s)&&(l=e.getDetectionResultColumn(t-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(r.isValidBarcodeColumn(e,t-s)&&(l=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;r.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var g=(a=void 0,q1(e.getDetectionResultColumn(t).getCodewords())),x=g.next();!x.done;x=g.next()){var A=x.value;if(A!=null)return(i?A.getEndX():A.getStartX())+s*c*(A.getEndX()-A.getStartX())}}catch(E){a={error:E}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,o,s,l){a=r.adjustCodewordStartColumn(e,t,n,i,a,o);var c=r.getModuleBitCount(e,t,n,i,a,o);if(c==null)return null;var g,x=Ht.sum(c);if(i)g=a+x;else{for(var A=0;A<c.length/2;A++){var E=c[A];c[A]=c[c.length-1-A],c[c.length-1-A]=E}g=a,a=g-x}if(!r.checkCodewordSkew(x,s,l))return null;var _=ZO.getDecodedValue(c),T=Ft.getCodeword(_);return T===-1?null:new $O(a,g,r.getCodewordBucketNumber(_),T)},r.getModuleBitCount=function(e,t,n,i,a,o){for(var s=a,l=new Int32Array(8),c=0,g=i?1:-1,x=i;(i?s<n:s>=t)&&c<l.length;)e.get(s,o)===x?(l[c]++,s+=g):(c++,x=!x);return c===l.length||s===(i?n:t)&&c===l.length-1?l:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,o){for(var s=a,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=t:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>r.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw Pe.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var o=aN.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(n.length),o},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw Nn.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw Pe.getFormatInstance();var n=e[0];if(n>e.length)throw Pe.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw Pe.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new z2,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new jO,r}(),sN=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e2=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw ye.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof Pe||n instanceof Nn?ye.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,o=new Array,s=PO.detectMultiple(e,t,n);try{for(var l=sN(s.getPoints()),c=l.next();!c.done;c=l.next()){var g=c.value,x=oN.decode(s.getBits(),g[4],g[5],g[6],g[7],r.getMinCodewordWidth(g),r.getMaxCodewordWidth(g)),A=new ni(x.getText(),x.getRawBytes(),void 0,g,rt.PDF_417);A.putMetadata(zn.ERROR_CORRECTION_LEVEL,x.getECLevel());var E=x.getOther();E!=null&&A.putMetadata(zn.PDF417_EXTRA_METADATA,E),o.push(A)}}catch(_){i={error:_}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(_){return _})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?_t.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}(),uN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ey=function(r){uN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(Ni),Cy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lN=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Lr.TRY_HARDER)!==void 0,n=e==null?null:e.get(Lr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===rt.UPC_A||o===rt.UPC_E||o===rt.EAN_13||o===rt.EAN_8||o===rt.CODABAR||o===rt.CODE_39||o===rt.CODE_93||o===rt.CODE_128||o===rt.ITF||o===rt.RSS_14||o===rt.RSS_EXPANDED});a&&!t&&i.push(new ul(e)),n.includes(rt.QR_CODE)&&i.push(new qh),n.includes(rt.DATA_MATRIX)&&i.push(new Qh),n.includes(rt.AZTEC)&&i.push(new Zh),n.includes(rt.PDF_417)&&i.push(new e2),a&&t&&i.push(new ul(e))}i.length===0&&(t||i.push(new ul(e)),i.push(new qh),i.push(new Qh),i.push(new Zh),i.push(new e2),t&&i.push(new ul(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=Cy(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new Ey("No readers where selected, nothing can be read.");try{for(var i=Cy(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Ey)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new ye("No MultiFormat Readers were able to detect the code.")},r}(),cN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fN=function(r){cN(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new lN;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(r1),dN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){dN(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new e2,t)||this}return e})(r1);var hN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){hN(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new qh,t)||this}return e})(r1);var t2;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(t2||(t2={}));const Xc=t2;var Hm=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ls(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=n.multiply(new ls(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),n=o}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new ot("No error correction bytes");var n=e.length-t;if(n<=0)throw new ot("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);yr.arraycopy(e,0,a,0,n);var o=new ls(this.field,a);o=o.multiplyByMonomial(t,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),c=t-l.length,g=0;g<c;g++)e[n+g]=0;yr.arraycopy(l,0,e,n+c,l.length)},r}(),cl=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(r.isWhiteHorizontal(l,s-4,s)||r.isWhiteHorizontal(l,s+7,s+11))&&t++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(r.isWhiteVertical(n,s,o-4,o)||r.isWhiteVertical(n,s,o+7,o+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&t++;var c=e.getHeight()*e.getWidth(),g=Math.floor(Math.abs(t*2-c)*10/c);return g*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new ot("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,g=0;g<a;g++){var x=t?o[s][g]:o[g][s];x===c?l++:(l>=5&&(n+=r.N1+(l-5)),l=1,c=x)}l>=5&&(n+=r.N1+(l-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}(),pN=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gN=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=pN(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;gn.fill(o,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=t.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},r.prototype.toString=function(){for(var e=new wt,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}(),r2=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new wt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}(),vN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cr=function(r){vN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(Ni),_y=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new Rn;r.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=r.TYPE_INFO_COORDINATES[a],c=l[0],g=l[1];if(n.setBoolean(c,g,s),a<8){var x=n.getWidth()-a-1,A=8;n.setBoolean(x,A,s)}else{var x=8,A=n.getHeight()-7+(a-8);n.setBoolean(x,A,s)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new Rn;r.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,a,s)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(r.isEmpty(n.get(c,s))){var g=void 0;i<e.getSize()?(g=e.get(i),++i):g=!1,t!==255&&cl.getDataMaskBit(t,c,s)&&(g=!g),n.setBoolean(c,s,g)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Cr("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-_t.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new ot("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!r2.isValidMaskPattern(t))throw new Cr("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var o=new Rn;if(o.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Cr("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Cr("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Cr;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new Cr;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new Cr;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&r.isEmpty(t.get(c,s))&&r.embedPositionAdjustmentPattern(c-2,s-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}(),xN=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}(),Sy=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return cl.applyMaskPenaltyRule1(e)+cl.applyMaskPenaltyRule2(e)+cl.applyMaskPenaltyRule3(e)+cl.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Xc.CHARACTER_SET)!==void 0;a&&(i=n.get(Xc.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new Rn;if(o===Sr.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=hn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new Rn;this.appendBytes(e,o,c,i);var g;if(n!==null&&n.get(Xc.QR_VERSION)!==void 0){var x=Number.parseInt(n.get(Xc.QR_VERSION).toString(),10);g=eu.getVersionForNumber(x);var A=this.calculateBitsNeeded(o,s,c,g);if(!this.willFit(A,g,t))throw new Cr("Data too big for requested version")}else g=this.recommendVersion(t,o,s,c);var E=new Rn;E.appendBitArray(s);var _=o===Sr.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(_,g,o,E),E.appendBitArray(c);var T=g.getECBlocksForLevel(t),b=g.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(b,E);var R=this.interleaveWithECBytes(E,g.getTotalCodewords(),b,T.getNumBlocks()),M=new r2;M.setECLevel(t),M.setMode(o),M.setVersion(g);var B=g.getDimensionForVersion(),k=new gN(B,B),z=this.chooseMaskPattern(R,t,g,k);return M.setMaskPattern(z),_y.buildMatrix(R,t,g,z,k),M.setMatrix(k),M},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,eu.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,n,i,o);return this.chooseVersion(s,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),hn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Sr.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(r.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Sr.BYTE}return i?Sr.ALPHANUMERIC:n?Sr.NUMERIC:Sr.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=ca.encode(e,hn.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<r2.NUM_MASK_PATTERNS;s++){_y.buildMatrix(e,t,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=eu.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new Cr("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new Cr("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits(i&1?17:236,8);if(t.getSize()!==n)throw new Cr("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,o){if(i>=n)throw new Cr("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),g=c+1,x=Math.floor(t/n),A=x+1,E=c-x,_=g-A;if(E!==_)throw new Cr("EC bytes mismatch");if(n!==l+s)throw new Cr("RS blocks mismatch");if(e!==(x+E)*l+(A+_)*s)throw new Cr("Total bytes mismatch");i<l?(a[0]=x,o[0]=E):(a[0]=A,o[0]=_)},r.interleaveWithECBytes=function(e,t,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new Cr("Number of bits and data bytes does not match");for(var c=0,g=0,x=0,A=new Array,E=0;E<i;++E){var _=new Int32Array(1),T=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,E,_,T);var b=_[0],R=new Uint8Array(b);e.toBytes(8*c,R,0,b);var M=r.generateECBytes(R,T[0]);A.push(new xN(R,M)),g=Math.max(g,b),x=Math.max(x,M.length),c+=_[0]}if(n!==c)throw new Cr("Data bytes does not match offset");for(var B=new Rn,E=0;E<g;++E)try{for(var k=(a=void 0,Sy(A)),z=k.next();!z.done;z=k.next()){var $=z.value,R=$.getDataBytes();E<R.length&&B.appendBits(R[E],8)}}catch(pe){a={error:pe}}finally{try{z&&!z.done&&(o=k.return)&&o.call(k)}finally{if(a)throw a.error}}for(var E=0;E<x;++E)try{for(var V=(s=void 0,Sy(A)),te=V.next();!te.done;te=V.next()){var $=te.value,M=$.getErrorCorrectionBytes();E<M.length&&B.appendBits(M[E],8)}}catch(pe){s={error:pe}}finally{try{te&&!te.done&&(l=V.return)&&l.call(V)}finally{if(s)throw s.error}}if(t!==B.getSizeInBytes())throw new Cr("Interleaving error: "+t+" and "+B.getSizeInBytes()+" differ.");return B},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new Hm(Ii.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[n+a];return o},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new Cr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case Sr.NUMERIC:r.appendNumericBytes(e,n);break;case Sr.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case Sr.BYTE:r.append8BitBytes(e,n,i);break;case Sr.KANJI:r.appendKanjiBytes(e,n);break;default:throw new Cr("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var o=r.getDigit(e.charAt(i+1)),s=r.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=r.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Cr;if(i+1<n){var o=r.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Cr;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=ca.encode(e,n)}catch(l){throw new Cr(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];t.appendBits(s,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=ca.encode(e,hn.SJIS)}catch(x){throw new Cr(x)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Cr("Invalid byte sequence");var g=(c>>8)*192+(c&255);t.appendBits(g,13)}},r.appendECI=function(e,t){t.appendBits(Sr.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=hn.UTF8.getName(),r})();var yN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){yN(e,r);function e(t,n,i,a,o,s,l,c){var g=r.call(this,s,l)||this;if(g.yuvData=t,g.dataWidth=n,g.dataHeight=i,g.left=a,g.top=o,a+s>n||o+l>i)throw new ot("Crop rectangle does not fit within image data.");return c&&g.reverseHorizontal(s,l),g}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ot("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return yr.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return yr.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*t;yr.arraycopy(this.yuvData,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*t,c=0;c<t;c++){var g=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|g*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+t/2,l=o,c=o+t-1;l<s;l++,c--){var g=i[l];i[l]=i[c],i[c]=g}},e.prototype.invert=function(){return new U2(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(jf);var mN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){mN(e,r);function e(t,n,i,a,o,s,l){var c=r.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=s,c.top=l,t.BYTES_PER_ELEMENT===4){for(var g=n*i,x=new Uint8ClampedArray(g),A=0;A<g;A++){var E=t[A],_=E>>16&255,T=E>>7&510,b=E&255;x[A]=(_+T+b)/4&255}c.luminances=x}else c.luminances=t;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new ot("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ot("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return yr.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return yr.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*t;yr.arraycopy(this.luminances,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new U2(this)},e})(jf);var wN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AN=function(r){wN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(hn),EN=function(){function r(){}return r.ISO_8859_1=hn.ISO8859_1,r}(),n2,CN=301,_N=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=CN);return{LOG:r,ALOG:e}};n2=_N([],[]),n2.LOG;n2.ALOG;var Iy;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Iy||(Iy={}));var Ty=129,Vm=230,SN=231,IN=235,TN=236,ON=237,NN=238,bN=239,RN=240,qd=254,DN=254,Oy="[)>05",Ny="[)>06",by="",ar=0,Hn=1,di=2,ln=3,Tn=4,Jn=5,MN=function(){function r(){}return r.prototype.getEncodingMode=function(){return ar},r.prototype.encode=function(e){var t=Na.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Jn:e.writeCodeword(SN),e.signalEncoderChange(Jn);return;case Hn:e.writeCodeword(Vm),e.signalEncoderChange(Hn);return;case ln:e.writeCodeword(NN),e.signalEncoderChange(ln);break;case di:e.writeCodeword(bN),e.signalEncoderChange(di);break;case Tn:e.writeCodeword(RN),e.signalEncoderChange(Tn);break;default:throw new Error("Illegal mode: "+i)}else Na.isExtendedASCII(n)?(e.writeCodeword(IN),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(Na.isDigit(e)&&Na.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r}(),PN=function(){function r(){}return r.prototype.getEncodingMode=function(){return Jn},r.prototype.encode=function(e){var t=new wt;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var i=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}var a=t.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)t.setCharAt(0,Mt.getCharAt(a));else if(a<=1555)t.setCharAt(0,Mt.getCharAt(Math.floor(a/250)+249)),t.insert(1,Mt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=t.length();c<n;c++)e.writeCodeword(this.randomize255State(t.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,i=e+n;return i<=255?i:i-256},r}(),G2=function(){function r(){}return r.prototype.getEncodingMode=function(){return Hn},r.prototype.encodeMaximal=function(e){for(var t=new wt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var s=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,g=Math.floor(t.length()%3);(g===2&&c!==2||g===1&&(n>3||c!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(Vm),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new wt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,t),a=Math.floor(t.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new wt;for(t.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,t,l,i));t.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,t,l,i);break}var c=t.length();if(c%3===0){var g=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(g!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,i){var a=t.length(),o=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(qd)}else if(o===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(qd),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(qd)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ar)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,i=t%256,a=new wt;return a.append(n),a.append(i),a.toString()},r}(),BN=function(){function r(){}return r.prototype.getEncodingMode=function(){return Tn},r.prototype.encode=function(e){for(var t=new wt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var o=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}}t.append(Mt.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(ar)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Mt.getCharAt(e-64)):Na.illegalCharacter(Mt.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,o=t>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,c=s>>8&255,g=s&255,x=new wt;return x.append(l),t>=2&&x.append(c),t>=3&&x.append(g),x.toString()},r}(),LN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FN=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yt=function(){function r(e,t,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return r.lookup=function(e,t,n,i,a){var o,s;t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=FN(UN),c=l.next();!c.done;c=l.next()){var g=c.value;if(!(t===1&&g.rectangular)&&!(t===2&&!g.rectangular)&&!(n!=null&&(g.getSymbolWidth()<n.getWidth()||g.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(g.getSymbolWidth()>i.getWidth()||g.getSymbolHeight()>i.getHeight()))&&e<=g.dataCapacity)return g}}catch(x){o={error:x}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r}(),kN=function(r){LN(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Yt),UN=[new Yt(!1,3,5,8,8,1),new Yt(!1,5,7,10,10,1),new Yt(!0,5,7,16,6,1),new Yt(!1,8,10,12,12,1),new Yt(!0,10,11,14,6,2),new Yt(!1,12,12,14,14,1),new Yt(!0,16,14,24,10,1),new Yt(!1,18,14,16,16,1),new Yt(!1,22,18,18,18,1),new Yt(!0,22,18,16,10,2),new Yt(!1,30,20,20,20,1),new Yt(!0,32,24,16,14,2),new Yt(!1,36,24,22,22,1),new Yt(!1,44,28,24,24,1),new Yt(!0,49,28,22,14,2),new Yt(!1,62,36,14,14,4),new Yt(!1,86,42,16,16,4),new Yt(!1,114,48,18,18,4),new Yt(!1,144,56,20,20,4),new Yt(!1,174,68,22,22,4),new Yt(!1,204,84,24,24,4,102,42),new Yt(!1,280,112,14,14,16,140,56),new Yt(!1,368,144,16,16,16,92,36),new Yt(!1,456,192,18,18,16,114,48),new Yt(!1,576,224,20,20,16,144,56),new Yt(!1,696,272,22,22,16,174,68),new Yt(!1,816,336,24,24,16,136,56),new Yt(!1,1050,408,18,18,36,175,68),new Yt(!1,1304,496,20,20,36,163,62),new kN],jN=function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(s){return s.charCodeAt(0)}),n=new wt,i=0,a=t.length;i<a;i++){var o=String.fromCharCode(t[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new wt,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Yt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r}(),HN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VN=function(r){HN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ln},e.prototype.encode=function(t){for(var n=new wt;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(t,n);var o=Na.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(ar);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):Na.illegalCharacter(Mt.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=n.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(DN),t.getNewEncoding()<0&&t.signalEncoderChange(ar)},e}(G2),zN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GN=function(r){zN(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return di},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(t-128,n),i},e}(G2),Na=function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=Ty+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,i,a){t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new G2,s=[new MN,o,new GN,new VN,new BN,new PN],l=new jN(e);l.setSymbolShape(t),l.setSizeConstraints(n,i),e.startsWith(Oy)&&e.endsWith(by)?(l.writeCodeword(TN),l.setSkipAtEnd(2),l.pos+=Oy.length):e.startsWith(Ny)&&e.endsWith(by)&&(l.writeCodeword(ON),l.setSkipAtEnd(2),l.pos+=Ny.length);var c=ar;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var g=l.getCodewordCount();l.updateSymbolInfo();var x=l.getSymbolInfo().getDataCapacity();g<x&&c!==ar&&c!==Jn&&c!==Tn&&l.writeCodeword("þ");var A=l.getCodewords();for(A.length()<x&&A.append(Ty);A.length()<x;)A.append(this.randomize253State(A.length()+1));return l.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var i=this.lookAheadTestIntern(e,t,n);if(n===ln&&i===ln){for(var a=Math.min(t+3,e.length),o=t;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ar}else if(n===Tn&&i===Tn){for(var a=Math.min(t+4,e.length),o=t;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ar}return i},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var i;n===ar?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(t+a===e.length){gn.fill(o,0),gn.fill(s,0);var l=this.findMinimums(i,s,_t.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[ar]===l)return ar;if(c===1){if(o[Jn]>0)return Jn;if(o[Tn]>0)return Tn;if(o[di]>0)return di;if(o[ln]>0)return ln}return Hn}var g=e.charCodeAt(t+a);if(a++,this.isDigit(g)?i[ar]+=.5:this.isExtendedASCII(g)?(i[ar]=Math.ceil(i[ar]),i[ar]+=2):(i[ar]=Math.ceil(i[ar]),i[ar]++),this.isNativeC40(g)?i[Hn]+=2/3:this.isExtendedASCII(g)?i[Hn]+=8/3:i[Hn]+=4/3,this.isNativeText(g)?i[di]+=2/3:this.isExtendedASCII(g)?i[di]+=8/3:i[di]+=4/3,this.isNativeX12(g)?i[ln]+=2/3:this.isExtendedASCII(g)?i[ln]+=13/3:i[ln]+=10/3,this.isNativeEDIFACT(g)?i[Tn]+=3/4:this.isExtendedASCII(g)?i[Tn]+=17/4:i[Tn]+=13/4,this.isSpecialB256(g)?i[Jn]+=4:i[Jn]++,a>=4){if(gn.fill(o,0),gn.fill(s,0),this.findMinimums(i,s,_t.MAX_VALUE,o),s[ar]<this.min(s[Jn],s[Hn],s[di],s[ln],s[Tn]))return ar;if(s[Jn]<s[ar]||s[Jn]+1<this.min(s[Hn],s[di],s[ln],s[Tn]))return Jn;if(s[Tn]+1<this.min(s[Jn],s[Hn],s[di],s[ln],s[ar]))return Tn;if(s[di]+1<this.min(s[Jn],s[Hn],s[Tn],s[ln],s[ar]))return di;if(s[ln]+1<this.min(s[Jn],s[Hn],s[Tn],s[di],s[ar]))return ln;if(s[Hn]+1<this.min(s[ar],s[Jn],s[Tn],s[di])){if(s[Hn]<s[ln])return Hn;if(s[Hn]===s[ln]){for(var x=t+a+1;x<e.length;){var A=e.charCodeAt(x);if(this.isX12TermSep(A))return ln;if(!this.isNativeX12(A))break;x++}return Hn}}}}},r.min=function(e,t,n,i,a){var o=Math.min(e,Math.min(t,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},r.findMinimums=function(e,t,n,i){for(var a=0;a<6;a++){var o=t[a]=Math.ceil(e[a]);n>o&&(n=o,gn.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,i=t;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-t},r.illegalCharacter=function(e){var t=_t.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r}(),Jd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ry=function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return ca.encode(e,this.charset)!=null}catch{return!1}},r}(),WN=function(){function r(e,t,n){var i,a,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(q){return new Ry(AN.forName(q))}),this.encoders=[];var g=[];g.push(new Ry(EN.ISO_8859_1));for(var x=t!=null&&t.name.startsWith("UTF"),A=0;A<e.length;A++){var E=!1;try{for(var _=(i=void 0,Jd(g)),T=_.next();!T.done;T=_.next()){var b=T.value,R=e.charAt(A),M=R.charCodeAt(0);if(M===n||b.canEncode(R)){E=!0;break}}}catch(q){i={error:q}}finally{try{T&&!T.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!E)try{for(var B=(o=void 0,Jd(this.ENCODERS)),k=B.next();!k.done;k=B.next()){var b=k.value;if(b.canEncode(e.charAt(A))){g.push(b),E=!0;break}}}catch(q){o={error:q}}finally{try{k&&!k.done&&(s=B.return)&&s.call(B)}finally{if(o)throw o.error}}E||(x=!0)}if(g.length===1&&!x)this.encoders=[g[0]];else{this.encoders=[];var z=0;try{for(var $=Jd(g),V=$.next();!V.done;V=$.next()){var b=V.value;this.encoders[z++]=b}}catch(q){l={error:q}}finally{try{V&&!V.done&&(c=$.return)&&c.call($)}finally{if(l)throw l.error}}}var te=-1;if(t!=null){for(var A=0;A<this.encoders.length;A++)if(this.encoders[A]!=null&&t.name===this.encoders[A].name){te=A;break}}this.priorityEncoderIndex=te}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return ca.encode(Mt.getCharAt(e),this.encoders[t].name)},r}(),XN=3,YN=function(){function r(e,t,n){this.fnc1=n;var i=new WN(e,t,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new wt,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(s===o||t.canEncode(s,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),c=l+1);for(var g=l;g<c;g++)(s===o||t.canEncode(s,g))&&this.addEdge(n,i+1,new Dy(s,t,g,a,o))},r.prototype.encodeMinimally=function(e,t,n){var i=e.length,a=new Dy[i+1][t.length()];this.addEdges(e,t,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<t.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,t,a,o,a[o][s],n);for(var s=0;s<t.length();s++)a[o-1][s]=null}for(var l=-1,c=_t.MAX_VALUE,s=0;s<t.length();s++)if(a[i][s]!=null){var g=a[i][s];g.cachedTotalSize<c&&(c=g.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var x=[],A=a[i][l];A!=null;){if(A.isFNC1())x.unshift(1e3);else for(var E=t.encode(A.c,A.encoderIndex),o=E.length-1;o>=0;o--)x.unshift(E[o]&255);var _=A.previous===null?0:A.previous.encoderIndex;_!==A.encoderIndex&&x.unshift(256+t.getECIValue(A.encoderIndex)),A=A.previous}for(var T=[],o=0;o<T.length;o++)T[o]=x[o];return T},r}(),Dy=function(){function r(e,t,n,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:t.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=XN),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return r.prototype.isFNC1=function(){return this.c===1e3},r}(),$N=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var My;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(My||(My={}));(function(r){$N(e,r);function e(t,n,i,a,o){var s=r.call(this,t,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(YN);var ZN=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}(),Py=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}(),KN=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}(),QN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W2=function(r){QN(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_t.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(KN),qN=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JN=function(r){qN(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(W2);function e9(r,e,t){return new JN(r,e,t)}function J1(r,e,t){return new W2(r,e,t)}var t9=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cs=0,Ef=1,ua=2,zm=3,qa=4,r9=new W2(null,0,0),eh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],n9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function i9(r){var e,t;try{for(var n=n9(r),i=n.next();!i.done;i=n.next()){var a=i.value;gn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[cs][qa]=0,r[Ef][qa]=0,r[Ef][cs]=28,r[zm][qa]=0,r[ua][qa]=0,r[ua][cs]=15,r}var Gm=i9(gn.createInt32Array(6,6)),a9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o9=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=eh[this.mode][e];i=J1(i,a&65535,a>>16),n+=a>>16}var o=e===ua?4:5;return i=J1(i,t,o),new r(i,e,0,n+o)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===ua?4:5;return n=J1(n,Gm[this.mode][e],i),n=J1(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===qa||this.mode===ua){var a=eh[n][cs];t=J1(t,a&65535,a>>16),i+=a>>16,n=cs}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new r(t,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=e9(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(eh[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new Rn;try{for(var s=a9(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,e)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},r.prototype.toString=function(){return Mt.format("%s bits=%d bytes=%d",t9[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(r9,cs,0,0),r}();function s9(r){var e=Mt.getCharCode(" "),t=Mt.getCharCode("."),n=Mt.getCharCode(",");r[cs][e]=1;for(var i=Mt.getCharCode("Z"),a=Mt.getCharCode("A"),o=a;o<=i;o++)r[cs][o]=o-a+2;r[Ef][e]=1;for(var s=Mt.getCharCode("z"),l=Mt.getCharCode("a"),o=l;o<=s;o++)r[Ef][o]=o-l+2;r[ua][e]=1;for(var c=Mt.getCharCode("9"),g=Mt.getCharCode("0"),o=g;o<=c;o++)r[ua][o]=o-g+2;r[ua][n]=12,r[ua][t]=13;for(var x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],A=0;A<x.length;A++)r[zm][Mt.getCharCode(x[A])]=A;for(var E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],A=0;A<E.length;A++)Mt.getCharCode(E[A])>0&&(r[qa][Mt.getCharCode(E[A])]=A);return r}var th=s9(gn.createInt32Array(5,256)),Yc=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u9=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Mt.getCharCode(" "),t=Mt.getCharCode(`
`),n=Py.singletonList(o9.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Mt.getCharCode("\r"):a=o===t?2:0;break;case Mt.getCharCode("."):a=o===e?3:0;break;case Mt.getCharCode(","):a=o===e?4:0;break;case Mt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=r.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=Py.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,a=[];try{for(var o=Yc(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,t,a)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r.simplifyStates(a)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,a=th[e.getMode()][i]>0,o=null,s=0;s<=qa;s++){var l=th[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(t)),!a||s===e.getMode()||s===ua){var c=o.latchAndAppend(s,l);n.push(c)}if(!a&&Gm[e.getMode()][s]>=0){var g=o.shiftAndAppend(s,l);n.push(g)}}}if(e.getBinaryShiftByteCount()>0||th[e.getMode()][i]===0){var x=e.addBinaryShiftChar(t);n.push(x)}},r.updateStateListForPair=function(e,t,n){var i,a,o=[];try{for(var s=Yc(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,t,n,o)}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},r.updateStateForPair=function(e,t,n,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(qa,n)),e.getMode()!==qa&&i.push(a.shiftAndAppend(qa,n)),n===3||n===4){var o=a.latchAndAppend(ua,16-n).latchAndAppend(ua,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},r.simplifyStates=function(e){var t,n,i,a,o=[];try{for(var s=Yc(e),l=s.next();!l.done;l=s.next()){var c=l.value,g=!0,x=function(b){if(b.isBetterThanOrEqualTo(c))return g=!1,"break";c.isBetterThanOrEqualTo(b)&&(o=o.filter(function(R){return R!==b}))};try{for(var A=(i=void 0,Yc(o)),E=A.next();!E.done;E=A.next()){var _=E.value,T=x(_);if(T==="break")break}}catch(b){i={error:b}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}g&&o.push(c)}}catch(b){t={error:b}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},r}(),l9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new u9(e).encode(),a=_t.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,s,l,c,g,x;if(n!==r.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new ot(Mt.format("Illegal value %s for layers",n));c=r.totalBitsInLayer(l,s),g=r.WORD_SIZE[l];var A=c-c%g;if(x=r.stuffBits(i,g),x.getSize()+a>A)throw new ot("Data to large for user specified layer");if(s&&x.getSize()>g*64)throw new ot("Data to large for user specified layer")}else{g=0,x=null;for(var E=0;;E++){if(E>r.MAX_NB_BITS)throw new ot("Data too large for an Aztec code");if(s=E<=3,l=s?E+1:E,c=r.totalBitsInLayer(l,s),!(o>c)){(x==null||g!==r.WORD_SIZE[l])&&(g=r.WORD_SIZE[l],x=r.stuffBits(i,g));var A=c-c%g;if(!(s&&x.getSize()>g*64)&&x.getSize()+a<=A)break}}}var _=r.generateCheckWords(x,c,g),T=x.getSize()/g,b=r.generateModeMessage(s,l,T),R=(s?11:14)+l*4,M=new Int32Array(R),B;if(s){B=R;for(var E=0;E<M.length;E++)M[E]=E}else{B=R+1+2*_t.truncDivision(_t.truncDivision(R,2)-1,15);for(var k=_t.truncDivision(R,2),z=_t.truncDivision(B,2),E=0;E<k;E++){var $=E+_t.truncDivision(E,15);M[k-E-1]=z-$-1,M[k+E]=z+$+1}}for(var V=new to(B),E=0,te=0;E<l;E++){for(var q=(l-E)*4+(s?9:12),pe=0;pe<q;pe++)for(var Be=pe*2,ge=0;ge<2;ge++)_.get(te+Be+ge)&&V.set(M[E*2+ge],M[E*2+pe]),_.get(te+q*2+Be+ge)&&V.set(M[E*2+pe],M[R-1-E*2-ge]),_.get(te+q*4+Be+ge)&&V.set(M[R-1-E*2-ge],M[R-1-E*2-pe]),_.get(te+q*6+Be+ge)&&V.set(M[R-1-E*2-pe],M[E*2+ge]);te+=q*8}if(r.drawModeMessage(V,s,B,b),s)r.drawBullsEye(V,_t.truncDivision(B,2),5);else{r.drawBullsEye(V,_t.truncDivision(B,2),7);for(var E=0,pe=0;E<_t.truncDivision(R,2)-1;E+=15,pe+=16)for(var ge=_t.truncDivision(B,2)&1;ge<B;ge+=2)V.set(_t.truncDivision(B,2)-pe,ge),V.set(_t.truncDivision(B,2)+pe,ge),V.set(ge,_t.truncDivision(B,2)-pe),V.set(ge,_t.truncDivision(B,2)+pe)}var Ee=new ZN;return Ee.setCompact(s),Ee.setSize(B),Ee.setLayers(l),Ee.setCodeWords(T),Ee.setMatrix(V),Ee},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new Rn;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var a=_t.truncDivision(n,2);if(t)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+_t.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},r.generateCheckWords=function(e,t,n){var i,a,o=e.getSize()/n,s=new Hm(r.getGF(n)),l=_t.truncDivision(t,n),c=r.bitsToWords(e,n,l);s.encode(c,l-o);var g=t%n,x=new Rn;x.appendBits(0,g);try{for(var A=l9(Array.from(c)),E=A.next();!E.done;E=A.next()){var _=E.value;x.appendBits(_,n)}}catch(T){i={error:T}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}return x},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var s=0,l=0;l<t;l++)s|=e.get(a*t+l)?1<<t-l-1:0;i[a]=s}return i},r.getGF=function(e){switch(e){case 4:return Ii.AZTEC_PARAM;case 6:return Ii.AZTEC_DATA_6;case 8:return Ii.AZTEC_DATA_8;case 10:return Ii.AZTEC_DATA_10;case 12:return Ii.AZTEC_DATA_12;default:throw new ot("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new Rn,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var s=0,l=0;l<t;l++)(o+l>=i||e.get(o+l))&&(s|=1<<t-1-l);(s&a)===a?(n.appendBits(s&a,t),o--):s&a?n.appendBits(s,t):(n.appendBits(s|1,t),o--)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var c9={audio:!1,video:{facingMode:"environment"}},f9=300,d9=function(r){var e=r===void 0?{}:r,t=e.timeBetweenDecodingAttempts,n=t===void 0?f9:t,i=e.hints;return K.useMemo(function(){var a=new fN(i);return a.timeBetweenDecodingAttempts=n,a},[i,n])},By=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},Ly=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},h9=function(r){var e=r.resetStream,t=K.useState(!1),n=t[0],i=t[1],a=K.useState(null),o=a[0],s=a[1],l=K.useRef(null),c=K.useRef(e),g=K.useCallback(function(E){l.current=E,s(typeof E.getCapabilities=="function"?E.getCapabilities().torch!==void 0:!1)},[]),x=K.useCallback(function(){return By(void 0,void 0,void 0,function(){return Ly(this,function(E){switch(E.label){case 0:return!l.current||!o?[2]:[4,l.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return E.sent(),i(!0),[2]}})})},[o]),A=K.useCallback(function(){return By(void 0,void 0,void 0,function(){return Ly(this,function(E){switch(E.label){case 0:return!l.current||!o?[2]:(l.current=null,s(null),i(!1),[4,c.current()]);case 1:return E.sent(),[2]}})})},[o]);return K.useEffect(function(){c.current=e},[e]),{init:g,isOn:n,isAvailable:o,on:x,off:A}},p9=function(r,e){return JSON.stringify(r)===JSON.stringify(e)},Fy=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(g){try{c(n.next(g))}catch(x){o(x)}}function l(g){try{c(n.throw(g))}catch(x){o(x)}}function c(g){g.done?a(g.value):i(g.value).then(s,l)}c((n=n.apply(r,e||[])).next())})},ky=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(g){return l([c,g])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(g){c=[6,g],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},g9=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},v9=function(r){r===void 0&&(r={});var e=r.paused,t=e===void 0?!1:e,n=r.hints,i=r.timeBetweenDecodingAttempts,a=r.onDecodeResult,o=a===void 0?function(){}:a,s=r.onDecodeError,l=s===void 0?function(){}:s,c=r.onError,g=c===void 0?function(){}:c,x="deviceId"in r?r.deviceId:void 0,A=K.useState("constraints"in r?r.constraints:void 0),E=A[0],_=A[1],T=K.useRef(o),b=K.useRef(l),R=K.useRef(g),M=K.useRef(null),B=d9({hints:n,timeBetweenDecodingAttempts:i}),k=h9({resetStream:function(){return Fy(void 0,void 0,void 0,function(){return ky(this,function(pe){switch(pe.label){case 0:return q(),[4,te()];case 1:return pe.sent(),[2]}})})}}),z=k.init,$=g9(k,["init"]),V=K.useCallback(function(pe,Be){pe&&T.current(pe),Be&&b.current(Be)},[]),te=K.useCallback(function(){return Fy(void 0,void 0,void 0,function(){var pe,Be,ge;return ky(this,function(Ee){switch(Ee.label){case 0:if(!M.current)return[2];if(t)return[2];Ee.label=1;case 1:return Ee.trys.push([1,6,,7]),x?[4,B.decodeFromVideoDevice(x,M.current,V)]:[3,3];case 2:return Ee.sent(),[3,5];case 3:return[4,B.decodeFromConstraints(E??c9,M.current,V)];case 4:Ee.sent(),Ee.label=5;case 5:return[3,7];case 6:return pe=Ee.sent(),R.current(pe),[2];case 7:return M.current?(Be=M.current.srcObject,ge=Be.getVideoTracks()[0],ge&&z(ge),[2]):[2]}})})},[B,x,E,t,V,z]),q=K.useCallback(function(){B.reset()},[B]);return K.useEffect(function(){T.current=o},[o]),K.useEffect(function(){b.current=l},[l]),K.useEffect(function(){R.current=g},[g]),K.useEffect(function(){var pe=p9(E,r.constraints);pe||_(r.constraints)},[E,r]),K.useEffect(function(){return te(),function(){q()}},[te,q]),{ref:M,torch:$}};const x9=()=>{const[r,e]=K.useState(""),[t,n]=K.useState(!1),{ref:i,stop:a}=v9({onDecodeResult(o){const s=o.getText();e(s),a(),n(!0)},formats:["CODE_128","CODE_39","EAN_13","EAN_8","UPC_A","UPC_E","ITF"]});return U.jsxs("div",{children:[U.jsx("h2",{children:"Barcode Scanner"}),U.jsx("video",{ref:i,playsInline:!0,muted:!0,style:{width:"300px",border:"1px solid black"}}),U.jsxs("p",{children:[U.jsx("strong",{children:"Last result:"})," ",r||"ยังไม่มีผลลัพธ์"]}),t&&U.jsx("p",{style:{color:"green"},children:"✅ หยุดกล้องแล้ว หลังจากอ่านสำเร็จ"})]})},y9=()=>U.jsx(lA,{basename:"/PackageManagement",children:U.jsxs(j4,{children:[U.jsx(Br,{path:"/login",element:U.jsx(R_,{})}),U.jsx(Br,{path:"/register",element:U.jsx(D_,{})}),U.jsx(Br,{path:"/test",element:U.jsx(x9,{})}),U.jsxs(Br,{path:"/",element:U.jsx(HE,{children:U.jsx(jE,{})}),children:[U.jsx(Br,{index:!0,element:U.jsx($c,{to:"/dashboard"})}),U.jsx(Br,{path:"dashboard",element:U.jsx(N_,{})}),U.jsx(Br,{path:"create-dorm",element:U.jsx(L5,{})}),U.jsx(Br,{path:"join-dorm",element:U.jsx(_7,{})}),U.jsxs(Br,{path:"dorm/:id",element:U.jsx(k_,{}),children:[U.jsx(Br,{index:!0,element:U.jsx($c,{to:"./info"})}),U.jsx(Br,{path:"info",element:U.jsx(F_,{})}),U.jsx(Br,{path:"qrinvite",element:U.jsx(H_,{})}),U.jsx(Br,{path:"requests",element:U.jsx(z_,{})}),U.jsx(Br,{path:"users",element:U.jsx(W_,{})}),U.jsx(Br,{path:"rooms",element:U.jsx(B_,{})}),U.jsx(Br,{path:"mypackage",element:U.jsx(S7,{})}),U.jsx(Br,{path:"myqrcode",element:U.jsx(I7,{})}),U.jsx(Br,{path:"allpackage",element:U.jsx(j_,{})}),U.jsx(Br,{path:"deliver",element:U.jsx(B5,{})}),U.jsx(Br,{path:"addpackage",element:U.jsx(O7,{})})]}),U.jsx(Br,{path:"*",element:U.jsx(b_,{})})]}),U.jsx(Br,{path:"*",element:U.jsx($c,{to:"/login"})})]})});Gw.createRoot(document.getElementById("root")).render(U.jsx($w,{children:U.jsx(y9,{})}));
